<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">

<head>
<!-- levelsio intro

	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
	<title>AI Photo Generator | Photo AI‚Ñ¢</title>

	&lt;!&ndash; 100% privacy friendly analytics
	<script async defer src="https://sa.photoai.com/latest.js"></script>
	<script>window.sa_event=window.sa_event||function(){var a=[].slice.call(arguments);window.sa_event.q?window.sa_event.q.push(a):window.sa_event.q=[a]};</script>

	<script async src="https://www.googletagmanager.com/gtag/js?id=AW-720413846"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'AW-720413846');
	</script>

&lt;!&ndash; Google Tag Manager &ndash;&gt;
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-N6CQ2F5W');</script>
&lt;!&ndash; End Google Tag Manager &ndash;&gt;

<meta name="description" content="Generate photorealistic images of people with AI. Take stunning photos of people with the first AI Photographer! Generate photo and video content for your so...">

-->

<link rel="apple-touch-icon" sizes="76x76" href="/assets/apple-touch-icon.png?1708109684">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png?1708109685">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png?1708109685">
<link rel="icon" href="/assets/favicon.ico?1708109685" type="image/x-icon"/>
<link rel="manifest" href="/manifest.json">
<link rel="sitemap" href="/sitemap" type="application/xml" />

	<meta name=‚Äùrobots‚Äù content=‚Äùnoai, noimageai‚Äù>

<meta name="application-name" content="Photo AI" />
<meta name="apple-mobile-web-app-title" content="Photo AI" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="#000000" />
<meta name="theme-color" content="#000000">

	<link rel="canonical" href="https://photoai.com/" />

<meta property="og:title" content="AI Photo Generator | Photo AI‚Ñ¢"/>
<meta property="og:url" content="https://photoai.com/?fbclid=IwZXh0bgNhZW0CMTEAAR1jHbVvH7-zM3tX0nvf1NiSc1ZlbGyYzk4zcyRABQmNXCM_HchUL1jL24E_aem_furFRCDpTbAqD0yv3t4Jzg"/>
<meta property="og:site_name" content="Photo AI">
<meta property="og:description" content="Generate photorealistic images of people with AI. Take stunning photos of people with the first AI Photographer! Generate photo and video content for your social media with AI. Save time and money and do an AI photo shoot from your laptop or phone instead of hiring an expensive photographer					‚úèÔ∏è Upload selfies and create your own Flux&trade; AI model							üì∏ Take 100% AI photos in any pose, place or action							üõçÔ∏è Try on clothes on your model for your Shopify store							üéûÔ∏è Create 100% AI videos from any AI photo you take							‚ù§Ô∏è Run photo packs like AI Yearbook and Old Money		"/>
<meta property="og:image" content="https://photoai.com/screenshot?url=/&width=1536&height=768&cachebuster=2024-0"/>
<meta property="og:type" content="website"/>
<meta property="og:updated_time" content="2024-08-31T16:59:17+00:00"/>
<meta http-equiv="last-modified" content="2024-08-31T16:59:17+00:00"/>
<meta name="last-modified" content="2024-08-31T16:59:17+00:00">

	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Website</title>

	<!--<link rel="stylesheet" href="style.css">  // CSS not used now -->

	<!--Include FontAwesome for social icons &ndash;&gt;-->
	<link rel="stylesheet" href="fontawesome/css/all.min.css">





<!-- TBD What this script properly does. I know it's for Google to be able to search through this website -->

<!--	<script type="application/ld+json">
	{
		"@context":"https://schema.org",
		"@graph":[
			{
				"@type":"Organization",
				"@id":"https://photoai.com/#organization",
				"name":"Photo AI",
				"url":"https://photoai.com",
				"sameAs":[
					"https://www.instagram.com/photoaiio/"
				],
				"email":"no-reply@photoai.com",
				"logo":{
					"@type":"ImageObject",
					"@id":"https://photoai.com/#logo",
					"url":"https://photoai.com/assets/logo.svg",
					"contentUrl":"https://photoai.com/assets/logo.svg",
					"caption":"Photo AI",
					"inLanguage":"en-US"
				},
				"contactPoint":[
					{
						"@type":"ContactPoint",
						"telephone":"+65 0000 0000",
						"contactType":"customer support"
					}
				]
			},
			{
				"@type":"WebSite",
				"@id":"https://photoai.com/#website",
				"url":"https://photoai.com",
				"name":"Photo AI",
				"publisher":{
					"@id":"https://photoai.com/#organization"
				},
				"inLanguage":"en-US"
			},
			{
				"@type":"ImageObject",
				"@id":"https://photoai.com/screenshot?url=/&width=1536&height=768&cachebuster=2024-0",
				"url":"https://photoai.com/screenshot?url=/&width=1536&height=768&cachebuster=2024-0",
				"caption":"",
				"inLanguage":"en-US"
			},
						{
				"@type":"Product",
				"brand":{
					"@type":"Brand",
					"name":"Photo AI"
				},
				"name":"AI Photo Generator | Photo AI‚Ñ¢",
				"description":"Generate photorealistic images of people with AI. Take stunning photos of people with the first AI Photographer! Generate photo and video content for your social media with AI. Save time and money and do an AI photo shoot from your laptop or phone instead of hiring an expensive photographer					‚úèÔ∏è Upload selfies and create your own Flux&trade; AI model							üì∏ Take 100% AI photos in any pose, place or action							üõçÔ∏è Try on clothes on your model for your Shopify store							üéûÔ∏è Create 100% AI videos from any AI photo you take							‚ù§Ô∏è Run photo packs like AI Yearbook and Old Money		",
				"sku":"",
				"category":"Photo Shoots",
				"mainEntityOfPage":{
					"@id":"https://photoai.com/#webpage"
				},
				"aggregateRating":{
					"@type":"AggregateRating",
					"ratingValue":"4.60",
					"bestRating":"5",
					"ratingCount":"1873",
					"reviewCount":"1873"
				},
				"review":[
					{
						"@type":"Review",
						"@id":"https://photoai.com/#li-comment-1505902",
						"description":"Photo AI is just fantastic! I take amazing photos of my wife, family and friends. As a photographer I use it to test ideas before creating a real photoshoot. I strongly recommend!",
						"datePublished":"2022-12-12 16:19:56",
						"reviewRating":{
							"@type":"Rating",
							"ratingValue":"5",
							"bestRating":"5",
							"worstRating":"1"
						},
						"author":{
							"@type":"Person",
							"name":"Everaldo"
						}
					},
					{
						"@type":"Review",
						"@id":"https://photoai.com/#li-comment-1502230",
						"description":"Cool AI tool for image generation! I could create a lot of truly amazing pictures in different locations with different outfits! All my friends were surprised and loved my pictures!",
						"datePublished":"2022-04-11 12:47:07",
						"reviewRating":{
							"@type":"Rating",
							"ratingValue":"5",
							"bestRating":"5",
							"worstRating":"1"
						},
						"author":{
							"@type":"Person",
							"name":"Iryna"
						}
					},
					{
						"@type":"Review",
						"@id":"https://photoai.com/#li-comment-1502060",
						"description":"Good input = good output. Very fun! Took me some effort to get the models to feel accurate but once I got the right input it was amazing. Photo AI was very responsive to my questions.",
						"datePublished":"2022-03-17 13:31:23",
						"reviewRating":{
							"@type":"Rating",
							"ratingValue":"4",
							"bestRating":"5",
							"worstRating":"1"
						},
						"author":{
							"@type":"Person",
							"name":"Jordan"
						}
					},
					{
						"@type":"Review",
						"@id":"https://photoai.com/#li-comment-1500408",
						"description":"The quality of Photo AI's work speaks for itself! I was amazed by how this AI Photographer can make the whole experience fun and enjoyable while getting the best out of their clients, no matter their skill level. Working with Photo AI was an absolute pleasure, and I cannot recommend them enough. The convenience of having a professional photo shoot from the comfort of your own home is a game-changer. I'll definitely be using their services again in the future!",
						"datePublished":"2021-09-05 09:05:51",
						"reviewRating":{
							"@type":"Rating",
							"ratingValue":"5",
							"bestRating":"5",
							"worstRating":"1"
						},
						"author":{
							"@type":"Person",
							"name":"Adam Henry"
						}
					},
					{
							"@type":"Review",
							"@id":"https://photoai.com/#li-comment-1498536",
							"description":"I was skeptical at first about using an AI Photographer, but Photo AI completely exceeded my expectations! The photos turned out absolutely stunning. The AI Photographer has an incredible eye for detail and composition. It's mind-blowing how I can now have professional-quality photoshoots without leaving my house. I highly recommend Photo AI to anyone looking for convenience, quality, and affordability.",
							"datePublished":"2021-07-22 14:12:36",
							"reviewRating":{
									"@type":"Rating",
									"ratingValue":"5",
									"bestRating":"5",
									"worstRating":"1"
							},
							"author":{
									"@type":"Person",
									"name":"Emily Sullivan"
							}
						},
						{
							"@type":"Review",
							"@id":"https://photoai.com/#li-comment-1495322",
							"description":"Photo AI is a game-changer! As a busy entrepreneur, I don't have time to schedule and travel to traditional photo shoots. With this AI Photographer, I can capture professional-grade images for my brand right from my laptop. The results are impressive, and the whole process is incredibly efficient. I'm thrilled with the quality and convenience. This service is worth every penny!",
							"datePublished":"2021-05-09 11:27:19",
							"reviewRating":{
									"@type":"Rating",
									"ratingValue":"5",
									"bestRating":"5",
									"worstRating":"1"
							},
							"author":{
									"@type":"Person",
									"name":"Michael Thompson"
							}
						},
						{
							"@type":"Review",
							"@id":"https://photoai.com/#li-comment-1491234",
							"description":"I am amazed by the capabilities of Photo AI's AI Photographer. It captures moments with such precision and artistry. The attention to detail in the photographs is remarkable. I never thought I could achieve such professional-looking shots without hiring an expensive photographer. The convenience and affordability of this service make it a no-brainer. I highly recommend Photo AI to everyone!",
							"datePublished":"2021-03-14 09:58:03",
							"reviewRating":{
									"@type":"Rating",
									"ratingValue":"5",
									"bestRating":"5",
									"worstRating":"1"
							},
							"author":{
									"@type":"Person",
									"name":"Sophia Chen"
							}
						},
						{
							"@type":"Review",
							"@id":"https://photoai.com/#li-comment-1489002",
							"description":"Photo AI's AI Photographer is a revelation! The quality of the photos it produces is outstanding. The attention to detail and the ability to capture emotions are remarkable. I love how I can now have personalized photo shoots anytime, anywhere, without the hassle of scheduling and coordinating with a human photographer. This service has truly made my life easier and more beautiful.",
							"datePublished":"2021-01-25 16:40:12",
							"reviewRating":{
									"@type":"Rating",
									"ratingValue":"5",
									"bestRating":"5",
									"worstRating":"1"
							},
							"author":{
									"@type":"Person",
									"name":"David Patel"
							}
						}
				],
				"offers":{
					"@type":"Offer",
					"price":"39",
					"priceCurrency":"USD",
					"priceValidUntil":"2025-09-01",
					"availability":"https://schema.org/InStock",
					"itemCondition":"NewCondition",
					"url":"https://photoai.com/",
					"seller":{
						"@type":"Organization",
						"@id":"https://photoai.com/",
						"name":"Photo AI",
						"url":"https://photoai.com",
						"logo":"https://photoai.com/assets/logo.svg"
					},
					"shippingDetails": {
						"@type":"OfferShippingDetails",
						"deliveryTime":{
							"@type":"ShippingDeliveryTime",
							"handlingTime": {
								"@type": "QuantitativeValue",
								"minValue": "0",
								"maxValue": "30",
								"unitCode": "MIN"
							},
							"transitTime": {
								"@type": "QuantitativeValue",
								"minValue": "0",
								"maxValue": "44",
								"unitCode": "SEC"
							}
						}
					},
					"hasMerchantReturnPolicy": {
						"@type": "MerchantReturnPolicy",
						"returnPolicyCategory": "https://schema.org/MerchantReturnFiniteReturnWindow",
						"merchantReturnDays": 30,
						"returnMethod": "https://schema.org/ReturnInStore",
						"returnFees": "https://schema.org/FreeReturn"
					}
				},
				"@id":"https://photoai.com/#richSnippet",
				"image":{
					"@id":"https://photoai.com/screenshot?url=/&width=1536&height=768&cachebuster=2024-0"
				}
			}
		]
	}
</script>-->



    <style>
	/*  Interesting for dark mode, but feature to be added later because not it is causing some problems
	:root.dark {
		--meta-label-background-color:rgba(0,0,0,0.5);
		--global-background-color: #111;
		--sidebar-background-color:#0d0d0d;
		--header-background-color:#000;
		--input-background-color:#161616;
		--hover-background-color:#3f3f3f;
		--global-text-color: #fff;
		--global-link-color:#fff;
		--global-border-color: #343434;
		--global-text-color:#fff;
		--photo-border-color:#343434;
		--copycat-gallery-background:rgba(0,0,0,0.75);
		--take-photo-container-height:82px;
	}*/
	:root {
		--bold:bold;
		--meta-label-background-color:rgba(255,255,255,0.5);
		--loading-spinner-color: #000;
/*		--copycat-gallery-height: 135px;*/
		--copycat-gallery-height: 0px;
		--header-height: 60px;
		--left-sidebar-width: 400px;
		--highlight-background-color:#fff38f;
		--global-background-color: #1c1c1c;
		--sidebar-background-color:#fff;
		--header-background-color:#1c1c1c;
		--input-background-color:#1c1c1c;
		--global-text-color: #dddddd;
		--global-link-color: #dddddd;
		--global-border-color: #1c1c1c;
		--take-photo-container-height:82px;
		--photo-border-color:#dddddd;
		--copycat-gallery-background:rgba(255,255,255,0.75);
	}
	:root.training_mode,
	:root.design_mode,
	:root.prompt_mode {
		--copycat-gallery-height: 1px; /* cannot be zero or shit breaks */
	}
	html.training_tab_is_open .sidebar {
		/* hide take photo button */
		height:calc(100% - var(--header-height));
	}
	html.training_tab_is_open .div_generate_button_container {
		display:none;
	}

	html,body {
		overflow-x:hidden;
	}
		html.template .by-levelsio,
	html.template .already_have_account_text,
	html.template .affiliate_program {
		display:none;
	}
	.sidebar {
		padding-top:0;
		margin-top:-1px; /* for expand box border-top */
	}
	.sidebar_final_divider {
		margin-top:-28px;
		margin-bottom:-28px;
	}
	@media (max-width:1000px) {
		.div_generate_button_container {
			margin-bottom:28px;
		}
		.sidebar_final_divider {
			margin-bottom:28px;
		}
		.section.main {
			border-top:1px solid var(--global-border-color);
		}
	}
	html.guest .sidebar,
	html.template .sidebar {
		display:none;
	}
	html.guest .section.main {
		/* let landing scroll down all the way */
		overflow:initial !important;
		height:auto;
	}
	html.guest .runtime {
		display:none;
	}
	html.guest .section.main,
	html.template .section.main {
		width:100% !important;
		position:relative !important;
	}
	html.guest .div_generate_button_container,
	html.template .div_generate_button_container {
		display:none;
	}
	html.guest .top_folder_selector,
	html.template .top_folder_selector {
		display:none;
	}
	html.guest .div_output_images,
	html.template .div_output_images {
		padding-top:14px;
	}
	html.template .header .billing-link {
		display:none;
	}
	html.template .header .faq-link {
		display:none;
	}


			.sidebar {
			height:100% !important;
		}


	/* <hide Stripe billing stuff on ios because we use App Store> */
		html.ios .logo .trademark,
		html.ios .canny, /* also hide feedback box */
		html.ios .header-right .billing-link,
		html.ios .header-right .action-upgrade {
			display:none;
		}
		/* hide for login screen iOS */
		html.ios.guest .section.main,
		html.ios.guest .features,
		html.ios.guest .templates,
		html.ios.guest .footer-cta-box,
		html.ios.guest .footer-links,
		html.ios.guest .hero_footer_quotes {
			display:none;
		}
		html.ios.guest .hero {
			height:100vh !important;
		}
		html.ios.guest .hero_width_container {
			height:auto;
			position:absolute;
			top:40%;
			transform:translateY(-50%);
			z-index:100;
		}
		html.ios.guest .hero.text {
		    width: initial;
		    max-width: initial;
		    position: relative;
		    top: initial;
		    left: initial;
		    right: initial;
		    transform: initial;
		    padding-top: 28px;
		    text-align: center;
		}
		html.ios.guest .hero_footer_logos {
			position:fixed;
			bottom:0;
		}
		html.ios.guest {
			overflow-y:hidden;
		}
	/* </hide Stripe billing stuff on ios because we use App Store> */

	html.dark ::-webkit-scrollbar {
		height: 12px;
		width: 12px;
		background: #2c2c2c;
	}
	html.dark ::-webkit-scrollbar-thumb {
		background: #6b6b6c;
		border-top-left-radius:12px;
		border-bottom-left-radius:12px;
		-webkit-border-radius: 1ex;
		-webkit-box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.75);
	}
	html.dark ::-webkit-scrollbar-corner {
		background: #2c2c2c;
	}
	* {
		box-sizing: border-box;
	}
	body,input,select,textarea,a {
		color: var(--global-text-color);
	}
	body,input,select,textarea {
		font-family: monospace;
		font-family: -apple-system,"system-ui","Segoe UI",sans-serif;
		background: #111;
	}
	textarea.manual_negative_prompt:focus,
	textarea.manual_negative_prompt:active,
	textarea.manual_negative_prompt.active {
		min-height:125px;
	}
	textarea.manual_prompt:focus,
	textarea.manual_prompt:active,
	textarea.manual_prompt.active {
		min-height:110px;
	}
	input,select,textarea,.button {
		padding: 14px;
		border-radius: 12px;
		border: 1px solid rgba(255,255,255,0.2);
		font-size: 16px;
		background: var(--input-background-color);
	}
	input.active,select.active,textarea.active,
	input:focus,select:focus,textarea:focus {
		outline: 2px solid #f47353;
	}
	select {
		appearance:none;
	}
	input[type="range"] {
		-webkit-appearance: none; /* Remove default appearance */
		width: 100%;
		outline: none;
		overflow:hidden;
	}
	input[type="range"]::-webkit-slider-runnable-track {
		width: 100%;
		height: 8px;
		background: transparent;
		border-radius: 5px;
	}
	input[type="range"]::-webkit-slider-thumb {
		-webkit-appearance: none;
		appearance: none;
		opacity:1;
		width: 30px;
		height: 36px;
		background: #f47353;
		margin-top: -14px;
		margin-left: -14px;
	}
	input[type="range"]::-moz-range-track {
		background: #f47353;
		border-radius: 5px;
	}
	input[type="range"]::-moz-range-thumb {
		opacity:0;
		width: 20px;
		height: 20px;
		background: #f47353;
		border-radius: 50%;
	}
	.infinity_scroll_sensor {
		height:100px;
	}
	p.subline {
		font-size:12px;
		opacity:0.5;
		margin-top:-14px;
	}
	.sidebar textarea,
	.sidebar input,
	.sidebar select {
		width: 100%;
	}

	.sidebar input[type="checkbox"] {
		width:auto;
	}

	.sidebar textarea.half,
	.sidebar input.half,
	.sidebar select.half {
		width:49%;
		display:inline-block;
	}
	.sidebar .button {
		width: 100%;
		text-align: center;
		padding-top: 14px;
		padding-bottom: 14px;
		margin: 0;
	}
	body {
		margin: 0 auto;
		padding-bottom: 56px;
	}
	a:hover {
		opacity: 0.75;
	}
	a:active {
		opacity: 0.5;
	}
	h1 {
		text-transform: uppercase;
	}
	h1,h2,h3,p {
		/*margin-left: 14px;
		margin-right: 14px;*/
		margin-left: 21px;
		margin-right: 21px;
	}
	p {
		margin-top: 0;
	}
	* {
		box-sizing: border-box;
	}
	body,input,select,textarea,a {
		color: var(--global-link-color);
	}
	body,input,select,textarea {
		font-family: monospace;
		font-family: -apple-system,"system-ui","Segoe UI",sans-serif;
		background: var(--global-background-color);
	}
	input, select, textarea, .button {
		padding: 14px;
		border-radius: 12px;
		border: 1px solid var(--global-border-color);
		font-size: 16px;
		background: var(--input-background-color);
	}
	body {
		margin:0;
		padding:0;
		padding-bottom:0;
		background:var(--global-background-color);
		color:var(--global-text-color);
		text-align: left;
		font-family: -apple-system,"system-ui","Segoe UI",sans-serif;
		overflow-x:hidden;
	}
	.button {
		text-decoration: none;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		background: var(--global-text-color);
		border: 1px solid var(--global-border-color);
		font-weight: bold;
		border-radius: 12px;
		display: inline-block;
		margin: 0px;
		padding: 9px;
		cursor: pointer;
		font-size: 16px;
		text-align: center;
		color: var(--global-background-color);
	}
	.button:hover {
		background: none;
		color: var(--global-text-color);
	}
	.button:active {
		opacity: 0.5;
	}
	.button.red {
		background:#ff5252;
		border-color:#ff5252;;
	}
	.button.red.reverse:hover {
		background:#ff5252;
		border-color:#ff5252;
	}
	.button.red.reverse {
		color:#ff5252;;
		background:none;
	}
	.button.red:hover {
		color:#ff5252;;
		background:none;
	}
	.button.orange {
		background:#ffc924;
		border-color:#ffc924;
	}
	.button.orange:hover {
		color:#ffc924;
		background:none;
	}
	.button.green {
		background:#2bde73;
		border-color:#2bde73;;
	}
	.button.green:hover {
		color:#2bde73;;
		background:none;
	}
	.button.reverse {
		background: none;
		color: var(--global-text-color);
	}
	.button.reverse:hover {
		background: var(--global-text-color);
		color: var(--global-background-color);
	}
	@keyframes animatedgradient {
		0% {
			background-position: 0% 50%;
		}
		50% {
			background-position: 100% 50%;
		}
		100% {
			background-position: 0% 50%;
		}
	}
	.button.disabled {
		filter: saturate(0);
		animation:none;
		cursor:wait;
		pointer-events:none;
	}
	.button.gradient {
		background: -webkit-linear-gradient(45deg, #680aca, #ff897e);
		background: linear-gradient(60deg,#f79533,#f37055,#ef4e7b,#a166ab,#5073b8,#1098ad,#07b39b,#6fba82);
		-webkit-animation: animatedgradient 6s ease infinite alternate;
		animation: animatedgradient 6s ease infinite alternate;
		background-size: 300% 300%;
		border: 1px solid rgba(0,0,0,0);
		color: #fff;
	}
	.button.gradient:hover {
		background: none;
		border: 1px solid rgba(255,255,255,1);
		color: #fff;
	}
	.button.action-download-selected-photos,
	.button.action-take-photo {
		background: -webkit-linear-gradient(45deg, #680aca, #ff897e);
		background: linear-gradient(60deg,#f79533,#f37055,#ef4e7b,#a166ab,#5073b8,#1098ad,#07b39b,#6fba82);
		-webkit-animation: animatedgradient 6s ease infinite alternate;
		animation: animatedgradient 6s ease infinite alternate;
		background-size: 300% 300%;
		border: 1px solid rgba(0,0,0,0);
		color: #fff;
		width:100%;
		padding-top:14px;
		padding-bottom:14px;
	}

	.button.action-shoot-video {
		width:100%;
		padding-top:14px;
		padding-bottom:14px;
		margin-top:7px !important;
	}

	.button.action-take-photo.blinking {
		animation: blinking 2s linear infinite;
	}

	@keyframes blinking {
		0% {
			background: none;
			-webkit-animation: none;
			animation:none;
			border: 1px solid rgba(255,255,255,1);
		}
		100% {
			background: -webkit-linear-gradient(45deg, #680aca, #ff897e);
			background: linear-gradient(60deg,#f79533,#f37055,#ef4e7b,#a166ab,#5073b8,#1098ad,#07b39b,#6fba82);
			-webkit-animation: animatedgradient 6s ease infinite alternate;
			animation: animatedgradient 6s ease infinite alternate;
			border: 1px solid rgba(0,0,0,0);
		}
	}

	.button.big.reverse:hover,
	.button.big {
		background: -webkit-linear-gradient(45deg, #680aca, #ff897e);
		background: linear-gradient(60deg,#f79533,#f37055,#ef4e7b,#a166ab,#5073b8,#1098ad,#07b39b,#6fba82);
		-webkit-animation: animatedgradient 6s ease infinite alternate;
		animation: animatedgradient 6s ease infinite alternate;
		background-size: 300% 300%;
		border: 1px solid rgba(0,0,0,0);
		color: #fff;
		padding-left: 14px;
		padding-right: 14px;
		font-size: 24px;
		font-size: 22px;
		padding: 21px;
		padding: 28px;
		padding-left: 28px;
		padding-right: 28px;
	}
	.button.big.reverse:hover {
		opacity: 1;
	}
	.button.action-take-photo.hover,
	.button.action-take-photo:hover,
	.button.big.reverse,
	.button.big:hover {
			border: 1px solid var(--global-text-color);
			color:var(--global-text-color);
			background: none;
	}
	span.label_manual_seed {
		cursor:pointer;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select:none;
		margin-bottom:4px;
	}
	input.manual_seed {
		margin-top:7px;
	}
	span.label_manual_seed:hover {
		opacity:0.75;
	}
	span.label_manual_seed:active {
		opacity:0.5;
	}
	span.label {
		text-transform: uppercase;
		font-weight: bold;
		font-size: 12px;
		margin-bottom: 7px;
		display: block;
	}
	.sidebar select {
		width:100%;
	}
	.div_output_images {
		min-height:40vh;
		padding-left:7px;
		padding-right:7px;
		max-width:none !important;
	}

	.div_output_images .job_divider {
		text-align:center;
		font-size:12px;
		position:relative;
		display:block;
		color:rgb(135, 135, 135);
		margin-bottom:14px;
	}
	.div_output_images .job_divider_prompt {
		font-size:12px;
		padding-left:7px;
		padding-right:7px;
		margin-top:-7px;
		margin-bottom:14px;
		color:rgb(135, 135, 135);
	}
	.div_output_images .job_divider_line {
		height:1px;
		border-top:1px solid var(--global-border-color);
		width:calc(100% - 7px - 9px);
		position:absolute;
		left:7px;
		top:50%;
		transform:translateY(-50%);
	}
	.div_output_images .job_divider p {
		background:var(--global-background-color);
		z-index:1;
		position:relative;
		display:table;
		padding-left:14px;
		padding-right:14px;
		margin:0 auto;
	}


	@media (min-width:1000px) {
		html:not(.guest) .div_output_images {
/*			margin-top:50px;*/
			padding-top:14px;
		}
	}
	.div_output_image .copycat_image {
		position:absolute;
		width:75px;
		margin:0;
		top:-3.5px;
		left:-3.5px;
		z-index:1;
		border-radius:12px;
/*		border:1px solid var(--global-border-color);*/
		border:1px solid #fff;
	}
	.div_output_image.portrait .copycat_image {
		max-width:50px;
	}
	.div_output_image.landscape .copycat_image {
		max-height:50px;
	}
	.div_output_image:hover .copycat_image {
		filter:brightness(0.75);
	}
	.div_output_image_container {
		border-radius:12px;
		overflow:hidden;
	}
	.div_pose,
	.div_template,
	.div_output_image {
		cursor:zoom-in;
		min-height:100px;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select:none;
		vertical-align: top;
		overflow: hidden;
		position: relative;
		display: inline-block;
/*			margin: 14px;*/
			margin: 7px;
		margin-top: 0;
/*		margin-bottom: 28px;*/
		margin-bottom: 14px;
		height: auto;
		border-radius: 12px;
		border: 1px solid var(--photo-border-color);
/*		width: calc(100% / 4 - 31px);*/
		width: calc(100% / 4 - 14px);
	}

	/* <shaded border> */
		.shaded_border:before,
		.shaded_border:after,
		.div_output_image:not(.edit):not(.video):not(.flux):not(.selected):before,
		.div_output_image:not(.edit):not(.video):not(.flux):not(.selected):after {
			content: "";
			display: block;
			position: absolute;
			box-sizing: content-box;
			left: 15%;
			width: 70%;
			height: 1px;
		}
		.shaded_border:before,
		.div_output_image:not(.edit):not(.video):not(.flux):not(.selected):before {
			top: 0;
			background: linear-gradient(90deg,rgba(72,75,81,.3),hsla(180,7%,97%,.5),rgba(72,75,81,.3));
		}
		.shaded_border:after,
		.div_output_image:not(.edit):not(.video):not(.flux):not(.selected):after {
			bottom: 0;
			background: linear-gradient(90deg,rgba(72,75,81,.3),hsla(180,7%,67%,.5),rgba(72,75,81,.3));
		}
	/* </shaded border> */
	.div_pose {
		cursor:pointer;
	}
	.div_pose:hover {
		opacity:0.75;
	}
	.div_pose:active {
		opacity:0.5;
	}
	.div_output_image.grayscale img.output_image {
		filter:saturate(0);
	}
	.image_viewer.remove_background,
	.div_output_image.remove_background img.output_image {
		background-image: repeating-linear-gradient(
			45deg,
			#c8c8c8 25%,
			transparent 25%,
			transparent 75%,
			#c8c8c8 75%,
			#c8c8c8
			),
			repeating-linear-gradient(
			45deg,
			#c8c8c8 25%,
			#fff 25%,
			#fff 75%,
			#c8c8c8 75%,
			#c8c8c8
			);
		background-position:
			0 0,
			8px 8px;
		background-size: 16px 16px;
	}
	@media (min-width:1400px) {
		.div_output_image.landscape {
			width: calc(100% / 3 - 14px);
		}
	}
	@media (max-width:1400px) {
		.div_output_image.landscape {
			width: calc(100% / 2 - 14px);
		}
	}
	@media (max-width:1100px) {
		.div_output_image.landscape {
			width: calc(100% - 14px);
		}
	}
	.div_output_image.placeholder,
	.div_template {
		border: 1px solid var(--photo-border-color);
	}
	.div_output_image.processing.batch-template {
		/* to avoid UX/UI going crazy, avoid showing batch images placeholders to user until they're postprocessing */
/*		display:none;*/
	}
	.div_output_image.processing,
	.div_output_image.postprocessing {
		cursor:wait;
	}

	@media (min-width:600px) {
		.div_output_image:hover img.output_image.finished {
			opacity:0.75;
		}
		.div_output_image:active img.output_image.finished {
			opacity:0.5;
		}
	}

	/* display no folder on default, then dynamically display the right folder */
	.div_output_images {
		display:none;
/*		overflow-y:scroll;*/
/*		height:100%;*/
	}

	@media (min-width:1000px) {
		.section.main {
			overflow-y:scroll;
		}
	}


	.div_pose img,
	.div_output_image img,
	.div_output_image video {
		width:100%;
		height:auto;
		display:block;
		pointer-events: none; /* avoid users saving low res CDN'd image */
	}

	@media (min-width:600px) {
		/* make image clickable on desktop to view but not on mobile cause no viewer there */
		.div_output_image.finished {
			cursor:zoom-in;
		}
					.div_output_image.nsfw {
				cursor:not-allowed;
			}
			}

	html.guest .div_output_image,
	html.template .div_output_image {
		width: calc(100% / 6 - 7px - 7px);
	}

	html.demo .canny,
	html.demo .runtime,
	html.demo .sidebar .alert,
	html.demo .header-link:not(.credits),
	html.demo .trademark .mrr,
	html.demo .div_generate_button_container .subline {
		display:none;
	}

	.trademark .mrr {
		display:none;
	}



	@media (min-width: 1800px) {
		html:not(.guest) .div_pose,
		html:not(.guest) .div_template,
		html:not(.guest) .div_output_image {
/*			width: calc(100% / 3 - 14px - 14px);*/
			width: calc(100% / 6 - 7px - 7px);
		}
		/*html.guest .div_output_image,
		html.guest .div_template,
		html.template .div_output_image {
			width: calc(100% / 8 - 7px - 7px);
		}*/
	}
	@media (min-width: 2400px) {
		html:not(.guest) .div_pose,
		html:not(.guest) .div_template,
		html:not(.guest) .div_output_image {
/*			width: calc(100% / 3 - 14px - 14px);*/
			width: calc(100% / 8 - 7px - 7px);
		}
		/*html.guest .div_output_image,
		html.guest .div_template,
		html.template .div_output_image {
			width: calc(100% / 10 - 7px - 7px);
		}*/
	}

	@media (max-width: 1400px) {
		html:not(.guest) .div_pose,
		html:not(.guest) .div_template,
		html:not(.guest) .div_output_image {
/*			width: calc(100% / 3 - 14px - 14px);*/
			width: calc(100% / 3 - 7px - 7px);
		}
		html.guest .div_output_image,
		html.guest .div_template,
		html.template .div_output_image {
			width: calc(100% / 4 - 7px - 7px);
		}
	}

	@media (max-width: 1100px) {
		html:not(.guest) .div_pose,
		html:not(.guest) .div_template,
		html:not(.guest) .div_output_image {
/*			width: calc(100% / 2 - 14px - 14px);*/
			width: calc(100% / 2 - 7px - 7px);
		}
		html.guest .div_output_image,
		html.guest .div_template,
		html.template .div_output_image {
			width: calc(100% / 3 - 7px - 7px);
		}
	}

	@media (max-width: 600px) {
		html:not(.guest) .div_pose,
		html:not(.guest) .div_template,
		html:not(.guest) .div_output_image {
		}
		html.guest .div_template {
			width: calc(100% / 2 - 7px - 7px);
		}
	}

	@media (max-width: 500px) {
		html:not(.guest) .div_output_image {
		}
		html.guest .div_template {
			width: auto;
		}
	}

	@media (max-width: 1000px) {
		.header h2 {
			display:none;
		}
		.div_output_images {
			padding-left:14px;
			padding-right:14px;
		}
		html:not(.guest) .div_pose,
		html:not(.guest) .div_template,
		html:not(.guest) .div_output_image,
		.div_output_image.landscape {
/*			width: calc(100% - 14px);*/
			width: calc(100% - 7px);
/*			width: calc(50% - 14px);*/
			margin:7px;
			margin-bottom:14px;
		}
		.main,
		.right,
		.sidebar {
			display:block;
			width:auto;
		}
	}
	.by-levelsio {
		display: block;
		padding: 7px;
		font-size: 12px;
		margin: 0;
		background: #fff;
		color: #000;
		position: fixed;
		bottom: 0;
		right: 0;
		border-top: 1px solid 1px solid rgba(0,0,0,0.125);
		border-left: 1px solid 1px solid rgba(0,0,0,0.125);
		border-top-left-radius: 12px;
		z-index: 99;
		font-weight: bold;
		text-decoration: none;
	}

	.div_output_image.postprocessing video,
	.div_output_image.postprocessing img.output_image {
		/* filter:blur(2px); */
		opacity:0.25;
	}

	.div_output_image.processing video,
	.div_output_image.processing img.output_image {
		filter:blur(25px);
		opacity:0.5;
	}

	.div_output_image.preliminary {
		border:1px solid #f47353;
		animation-name: preliminary-fading-border;
		animation-duration: 2s;
		animation-iteration-count: 1;
	}
	@keyframes preliminary-fading-border {
		0% {
			border-color: #f47353;
		}
		100% {
			border-color: rgba(0,0,0,0);
		}
	}




	.div_output_image.saved,
	.div_output_image.frontpaged {
		border:1px solid #f47353;
	}

	/* currently shown in image viewer for navigating with arrow keys */
	.div_output_image.current {
		border:1px solid #2bde73;
	}

			.div_output_image.nsfw img {
			filter:blur(50px);
		}

	.div_output_image.nsfw svg.nsfw-icon {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translateX(-50%) translateY(-50%);
		z-index: 10;
	}

	.div_output_image.postprocessing .loading_spinner,
	.div_output_image.placeholder .loading_spinner {
		display: block;
	}
	.div_output_image.placeholder .loading_spinner {
		width:90%;
	}
	html.guest .div_output_image_meta {
		display:none;
	}
	.div_output_image_meta {
		display:block;
/*		display:none;*/
		font-size: 8px;
		position: absolute;
		background: var(--meta-label-background-color);
		color:var(--global-text-color);
		bottom: 0;
		right: 0;
		padding: 3.5px;
		border-bottom-right-radius: 12px;
		border-top-left-radius: 12px;
		padding-left:7px;
		z-index: 1;
		word-break: break-all;
	}
		/*html.logged-in .div_output_images {
		padding-top:120px;
	}*/

	@media (min-width:1100px) {
		html.guest .div_output_image:nth-child(odd) {
			margin-top:calc(-19vw);
		}
		html.guest .div_output_image:nth-child(even) {
			margin-top:0;
		}
		/*html.logged-in .div_output_image:nth-child(odd) {
			margin-top:-50px
		}
		html.logged-in .div_output_image:nth-child(even) {
			margin-top:0;
		}*/
	}

	@media (min-width:1400px) {
		/*html.logged-in .div_output_image {
			margin-top:0;
		}
		html.logged-in .div_output_image:nth-child(3n-1) {
			margin-top:-200px
		}*/
		html.guest .div_output_image:nth-child(odd) {
			margin-top:calc(-10vw);
		}
		html.guest .div_output_image:nth-child(even) {
			margin-top:0;
		}
	}


	@media (max-width:1100px) {
		html.guest .div_output_image {
			margin-top:0;
		}
		html.guest .div_output_image:nth-child(3n-1) {
			margin-top:calc(-16vw);
		}
	}

	@media (min-width: 1000px) {
		.sidebar {
			border-right: 1px solid rgba(255,255,255,0.2);
			left: 0;
			/*width: calc(100% / 3 - 1px);*/
			width: calc(var(--left-sidebar-width) + 21px + 21px + 21px + 21px);
			/*border-right: 1px solid rgba(255,255,255,0.2);*/
			/*background: red;*/
			background:var(--sidebar-background-color);
		}
		.section.main {
			right: 0;
			width: calc(100% - calc(var(--left-sidebar-width) + 21px + 21px + 21px + 21px) );
			padding-bottom: 300px;
		}
		html {
			overflow: auto;
		}
		html.guest {
			overflow-y:scroll;
		}
		.sidebar {
			height: calc(100% - var(--header-height) - var(--take-photo-container-height));
		}
		.section.main {
			height: calc(100% - var(--header-height));
		}
		.sidebar  {
			z-index:5;
			overflow-y: auto;
		}
		.sidebar,
		.section.main {
			position: absolute;
			overflow-x: hidden;
			padding-bottom: 14px;
		}
	}
	.div_generate_button_container {
		margin-left: 21px;
			margin-right: 21px;
			z-index:10;
	}
	@media (min-width: 1000px) and (min-height: 601px) {
		.div_generate_button_container {
			display:block;
			position: fixed;
			bottom: calc(var(--copycat-gallery-height) - 1px);
			left: 0;
			background: var(--sidebar-background-color);
			padding: 21px;
			margin: 0;
			width: var(--left-sidebar-width);
			border-top: 1px solid var(--global-border-color);
			border-right: 1px solid var(--global-border-color);
		}
		.div_generate_button_container .button {
			margin: 0;
		}
	}
	@media (min-width: 1200px) and (min-height: 601px) {
		.div_generate_button_container {
			width: var(--left-sidebar-width);
		}
	}
	@media (min-width: 1000px) {
		.sidebar {
			width: var(--left-sidebar-width);
		}
		.section.main {
			width:calc(100% - var(--left-sidebar-width));
		}
	}
	@media (max-height: 600px) {
		.sidebar,
		.section.main {
			height: calc(100% - var(--header-height));
		}
	}
	.header {
		z-index:50;
		height: var(--header-height);
		width: 100%;
		text-align: center;
		border-bottom: 1px solid var(--global-border-color);
		position: absolute; /* So it's in front of the hero and not on top */
		background: rgba(0, 0, 0, 0); /* Last number is transparency (0 to 1) */
	}
	html.guest .header {
		background:none;
		border:none;
	}
	@media (min-width:1000px) {
		html.guest .header {
			position:fixed;
			top:0;
		}
		html.guest .hero {
/*			margin-top:var(--header-height);*/
		}
	}
	.header-link {
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
		margin-left:7px;
		margin-right:7px;
		display:inline-block;
		text-decoration: none;
		vertical-align:middle;
	}
	.header h1 {
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		padding-left: 0;
		padding-right: 21px;
		line-height: 1.88;
		color: #fff;
		position: absolute;
		height: 34px;
		overflow: hidden;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		margin: 0;
		left: 21px;
		font-size: 21px;
		top: 50%;
		transform: translateY(-50%);
		background: -webkit-linear-gradient(45deg, #680aca, #ff897e);
		background: linear-gradient(60deg,#f79533,#f37055,#ef4e7b,#a166ab,#5073b8,#1098ad,#07b39b,#6fba82);
		-webkit-animation: animatedgradient 6s ease infinite alternate;
		animation: animatedgradient 6s ease infinite alternate;
		background-size: 300% 300%;
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
	}
	.logo h1 {
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		padding-left: 0;
		padding-right: 21px;
		line-height: 1.88;
		color: #fff;
		height: 34px;
		overflow: hidden;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		margin: 0;
		left: 21px;
		font-size: 21px;
		top: 50%;
		background: -webkit-linear-gradient(45deg, #680aca, #ff897e);
		background: linear-gradient(60deg,#f79533,#f37055,#ef4e7b,#a166ab,#5073b8,#1098ad,#07b39b,#6fba82);
		-webkit-animation: animatedgradient 6s ease infinite alternate;
		animation: animatedgradient 6s ease infinite alternate;
		background-size: 300% 300%;
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		margin-top:-3px;
	}
	@keyframes animatedgradient {
		0% {
			background-position: 0% 50%;
		}
		50% {
			background-position: 100% 50%;
		}
		100% {
			background-position: 0% 50%;
		}
	}
	.header h2 {
		margin: 0 auto;
		text-transform: uppercase;
		font-size: 12px;
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translateY(-50%) translateX(-50%);
	}
	.header .header-right {
		position: absolute;
		margin: 0;
/*		right: 28px;*/
		right:0;
		top: 50%;
		transform: translateY(-50%);
	}
	.header .button {
		text-decoration: none;
	}
	.header .billing-link {
		opacity:0.5;
	}
	@media (max-width:1200px) {
		html:not(.logged-in) .header .billing-link {
			display:none;
		}
		html .header .faq-link {
			display:none;
		}
		html .header .action-select-photos {
			display:none;
		}
	}
	@media (max-width:600px) {
		html.logged-in .header .button.action-upgrade {
			display:none;
		}
		html .header .action-upgrade {
			display:none;
		}
	}
	/*
	hide copy prompt until user is not newbie anymore and has trained their first model for onboarding new users
	also disable other parts of interface like tabs, photo packs etc. to avoid them losing their way in app
	*/
	html.newbie .top_folder_selector,
	html.newbie:not(.guest) .div_output_image {
		pointer-events:none;
	}
	html.newbie .logo .mrr,
	html.newbie .header-link:not(.billing):not(.credits),
	html.newbie .div_output_image_buttons .action-copy-prompt {
		display:none;
	}
	.logo .trademark {
		padding-top: 1px;
		font-size: 7px;
		margin-top: 11.5px;
		font-weight: bold;
		display: inline-block;
		vertical-align: top;
		padding: 0;
		line-height: 1;
		text-align: left;
	}
	@media (max-width:400px) {
		.logo .trademark {
			display:none;
		}
	}
	.header .billing-link:hover {
		opacity:0.75;
	}
	.header .billing-link:active {
		opacity:0.5;
	}
	.div_uploader .img,
	.div_clothing_uploader .img_clothing,
	.div_copycat_uploader .img_copycat {
		width:100%;
		display:block;
	}
	.div_training_uploader {
		height:250px;
	}
	.button.action-auto-prompt {
		margin-left: 21px;
		margin-right: 21px;
		width: calc(100% - 21px - 21px);
		width:50%;
	}
	.hero .cta-box .or-wrap {
		width:calc(100% - 14px - 14px);
		margin-left:14px;
		margin-top:-7px;
		margin-bottom:7px;
	}

	.hero .cta-box.floating .or-text,
	.hero .cta-box.floating .or-line {
		display:none;
	}
	.hero .cta-box .or-text {
		vertical-align:middle;
		display:inline-block;
		width:10%;
		font-size:12px;
		color:var(--global-border-color);
		text-align:center;
	}
	.hero .cta-box .or-line {
		vertical-align:middle;
		display:inline-block;
		background:var(--global-border-color);
		width:calc(43%);
		height:1px;
	}
	.hero .cta-box .button {
		margin-left:14px;
		margin-top:0;
		width:calc(100% - 14px - 14px);;
	}
	.div_clothing_uploader .action-delete-clothing,
	.div_copycat_uploader .action-delete-copycat {
		filter:drop-shadow(1px 1px 0.5px rgba(0,0,0,0.5));
		display:none;
		position: absolute;
		top:7px;
		right:7px;
		z-index:1;
		cursor:pointer;
	}
	.div_clothing_uploader .action-delete-clothing:hover,
	.div_copycat_uploader .action-delete-copycat:hover {
		opacity:0.75;
	}
	.div_clothing_uploader .action-delete-clothing:active,
	.div_copycat_uploader .action-delete-copycat:active {
		opacity:0.5;
	}
	.div_clothing_uploader.active .action-delete-clothing,
	.div_copycat_uploader.active .action-delete-copycat {
		display:block;
	}
	.div_uploader,
	.div_copycat_uploader,
	.div_clothing_uploader,
	.div_training_uploader {
		overflow:hidden;
		color: #8c8c8c;
		border: 1px dashed var(--global-border-color);
		/*width: calc(832px / 2);*/
		background: var(--input-background-color);
		background-size:cover;
		background-position: center center;
		background-repeat: no-repeat;
		border-radius: 12px;
		cursor: pointer;
		text-align: center;
		position: relative;
		margin-bottom: 14px;
		margin-left: 21px;
		margin-right: 21px;
		display: block;

		background: radial-gradient(#424242 0.5px, transparent 0.5px), radial-gradient(#424242 0.5px, #111 0.5px);
		background-size: 20px 20px;
		background-position: 0 0,10px 10px;
		background-repeat: initial;
	}
	.div_training_uploader.active {
		pointer-events: none;
		height:400px;
/*		height:calc(400px - 14px - 14px - 14px);*/
/*		height:calc(400px - 14px - 14px - 14px - 14px - 14px);*/
/*		width:calc(400px - 14px - 14px - 14px - 14px - 14px);*/
	}

	/*.div_copycat_uploader.zoom-out .img_copycat {
		padding:15%;
		border-radius:32px;*/
/*	}*/
	.div_uploader.active,
	.div_clothing_uploader.active,
	.div_copycat_uploader.active,
	.div_training_uploader.active {
		background-size: cover;
	}
	.div_uploader.collapsed,
	.div_clothing_uploader.collapsed,
	.div_copycat_uploader.collapsed,
	.div_training_uploader.collapsed {
		height: 175px;
		margin-top: 14px;
	}
	.div_clothing_uploader.collapsed {
		height:85px;
	}
	.div_uploader_center,
	.div_copycat_uploader_center,
	.div_clothing_uploader_center,
	.div_training_uploader_center {
		padding: 14px;
		left: 50%;
		top: 50%;
		width: 100%;
		position: absolute;
		transform: translateX(-50%) translateY(-50%);
	}
	.div_training_uploader .primed_text {
		color:#fff;
		text-shadow: 1px 1px 1px var(--global-background-color);
		display:none;
	}
	.div_training_uploader.primed {
		pointer-events: none;
	}
	.div_training_uploader.primed svg {
		display:none;
	}
	.div_training_uploader.primed .idle_text {
		display:none;
	}
	.div_training_uploader.primed .primed_text {
		display:block;
	}
	.div_uploader svg,
	.div_clothing_uploader_center svg,
	.div_copycat_uploader_center svg,
	.div_training_uploader_center svg {
		vertical-align: middle;
		margin-right: 7px;
	}
	.div_uploader.active,
	.div_clothing_uploader.active,
	.div_copycat_uploader.active {
		width:50%;
	}
	.div_uploader.active .div_uploader_center,
	.div_clothing_uploader.active .div_clothing_uploader_center,
	.div_copycat_uploader.active .div_copycat_uploader_center {
		display:none;
	}

	.div_mask_uploader:hover,
	.div_clothing_uploader:hover,
	.div_copycat_uploader:hover,
	.div_training_uploader:hover {
		opacity: 0.75;
	}
	.div_mask_uploader:active,
	.div_clothing_uploader:active,
	.div_copycat_uploader:active,
	.div_training_uploader:active {
		opacity: 0.5;
	}
	.input_mask_uploader,
	.input_copycat_uploader,
	.input_clothing_uploader,
	.input_training_uploader {
		display: none;
	}
	.sub_info {
		font-size: 12px;
		display: block;
		margin-top: 7px;
	}
	.super_info {
		font-size: 12px;
		display: block;
		margin-top:-7px;
	}
	.flash {
		pointer-events: none;
		position:fixed;
		top:0;
		left:0;
		width:100%;
		height:100%;
		background-color:rgba(255,255,255,0.5);
		display:none;
		z-index:1000;
	}

	.loading_spinner {
		height:auto;
		text-align: center;
		transform: translateX(-50%);
		left: 50%;
		position: absolute;
	}
	.loading_spinner .loading_spinner_svg {
		width:3em;
		height:3em;
	}

	.div_clothing_uploader .loading_spinner,
	.div_copycat_uploader .loading_spinner,
	.div_training_uploader .loading_spinner,
	.div_output_image .loading_spinner {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translateX(-50%) translateY(-50%);
	}

	.loading_spinner_circle {
		stroke-width: 6;
		stroke-miterlimit: 10;
	}

	.loading_spinner_circle--spinner {
		stroke-dasharray: 1,220;
		stroke-dashoffset: 0;
		-webkit-animation: loading_spinner_dash 1.5s ease-in-out infinite,color 3s ease-in-out infinite;
		animation: loading_spinner_dash 1.5s ease-in-out infinite,color 3s ease-in-out infinite;
		stroke-linecap: square;
		stroke:var(--loading-spinner-color);
	}

	.loading_spinner_circle {
		stroke-width: 6;
		stroke-miterlimit: 10;
	}


	.loading_spinner .loading_spinner_circle {
		stroke:#111 !important;
	}

	.loading_spinner .loading_spinner_circle--spinner {
		stroke:#fff !important;
	}

	.loading_spinner_svg {
		-webkit-animation-duration: 2s;
		animation-duration: 2s;
		-webkit-animation-iteration-count: infinite;
		animation-iteration-count: infinite;
		-webkit-animation-name: loading_spinner_rotate;
		animation-name: loading_spinner_rotate;
		-webkit-animation-timing-function: linear;
		animation-timing-function: linear;
	}
	.loading_spinner .loading_message {
		pointer-events:none;
		margin:0 auto;
		width:100%;
		display:none;
		max-width:95vw;
		pointer-events:none;
		background:none;
		color:var(--global-text-color);
		padding:1em;
		padding:7px;
		padding-left:14px;
		padding-right:14px;
		font-weight:800;
		border-radius:12px;
		border:none;
	}


	.loading_spinner.main {
		z-index:201;
	}
	.loading_spinner {
		pointer-events:none;
		display:none;
		z-index:1;
		position:fixed;
		top:50%;
		left:50%;
		transform:translateX(-50%) translateY(-50%);
	}
	.loading_spinner .loading_message {
		font-variant-numeric: tabular-nums;
		pointer-events:none;
		margin:0 auto;
		width:100%;
		max-width:95vw;
		pointer-events:none;
		color:var(--global-text-color);
		padding:1em;
		padding:7px;
		padding-left:14px;
		padding-right:14px;
		font-weight:800;
		border-radius:12px;
		display:none;
		color: #fff;
	}


	@keyframes loading_spinner_rotate {
		100% {
			-webkit-transform: rotate(1turn);
			transform: rotate(1turn);
			color: transparent;
		}
	}

	@keyframes loading_spinner_dash {
		0% {
			stroke-dasharray: 1,220;
			stroke-dashoffset: 0;
		}
		50% {
			stroke-dasharray: 97.9,220;
			stroke-dashoffset: -38.5;
		}
		100% {
			stroke-dasharray: 97.9,220;
			stroke-dashoffset: -136.4;
		}
	}

	@keyframes loading_spinner_color {
		0% {
			stroke: var(--loading-spinner-color);
		}
		50% {
			stroke: var(--loading-spinner-color);
		}
		100% {
			stroke: var(--loading-spinner-color);
		}
	}

	.alert,
	.notice,
	.error {
		display: block;
		padding: 14px;
		border: 1px solid #ff5252;
		border-radius: 12px;
		color: #ff5252;
		margin:21px;
	}
	.alert h3,
	.notice h3,
	.error h3,
	.alert p,
	.notice p,
	.error p {
		/* internal p or h3 */
		margin-left:0;
		margin-right:0;
		margin-top:0;
		margin-bottom:0;
	}

	.error a:not(.button) {
		color: #ff5252;
	}
	.notice {
		color:#ffc924;
		border-color: #ffc924;
	}
	.notice a:not(.button) {
		color:#ffc924;
	}
	.alert {
		border-color: #2bde73;
		color: #2bde73;
	}
	.alert a:not(.button) {
		color: #2bde73;
	}

	hr {
		border:none;
		border-bottom:1px solid var(--global-border-color);
		margin-top:28px;
		display:block;
	}

	.model_samples hr {
		margin-top:7px;
		margin-bottom:7px;
		margin-left:-7px;
		margin-right:-7px;
	}

	.action-trash-photo {
		z-index:10;
		position: absolute;
		display:none;
		top: 0;
		right: 0;
		padding-right: 7px;
		padding-top: 7px;
		line-height: .5;
		font-size: 40px;
		color: #fff;
		cursor:pointer;

		/* add extra touch space for mobile fingers */
		padding-left:14px;
		padding-bottom:14px;
	}
	.action-trash-photo:hover {
		opacity:0.75;
	}
	.action-trash-photo:active {
		opacity:0.5;
	}
	@media (min-width:600px) {
		.div_output_image.finished:hover .action-trash-photo {
			display:block;
		}
	}
	@media (max-width:600px) {
		.div_output_image.active .action-trash-photo {
			display:block;
		}
	}
	.action-put-photo-on-frontpage {
		z-index:10;
		position: absolute;
		display: none;
		bottom: 0;
		right: 0;
		padding-left: 7px;
		padding-top: 7px;
		cursor:pointer;

		/* add extra touch space for mobile fingers */
		padding-right:14px;
		padding-bottom:14px;
	}
	.action-save-photo {
		z-index:10;
		position: absolute;
		display: none;
		top: 0;
		left: 0;
		padding-left: 7px;
		padding-top: 7px;
		cursor:pointer;

		/* add extra touch space for mobile fingers */
		padding-right:14px;
		padding-bottom:14px;
	}
	.action-save-photo:hover {
		opacity:0.75;
	}
	.action-save-photo:active {
		opacity:0.5;
	}
	.action-save-photo.saved svg,
	.action-save-photo:hover svg {
		fill: #fff;
		-webkit-filter: drop-shadow(1px 1px 0 rgba(0,0,0,0.35));
		filter: drop-shadow(1px 1px 0 rgba(0,0,0,0.35));
	}
	.action-put-photo-on-frontpage:hover {
		opacity:0.75;
	}
	.action-put-photo-on-frontpage:active {
		opacity:0.5;
	}
	.action-put-photo-on-frontpage.frontpaged svg,
	.action-put-photo-on-frontpage:hover svg {
		fill: #fff;
		-webkit-filter: drop-shadow(1px 1px 0 rgba(0,0,0,0.35));
		filter: drop-shadow(1px 1px 0 rgba(0,0,0,0.35));
	}
	.action-trash-photo.trashed svg,
	.action-trash-photo:hover svg {
		fill: #fff;
		-webkit-filter: drop-shadow(1px 1px 0 rgba(0,0,0,0.35));
		filter: drop-shadow(1px 1px 0 rgba(0,0,0,0.35));
	}
	.action-trash-photo.trashed svg path,
	.action-trash-photo:hover svg path {
		fill-rule: initial;
	}

	@media (min-width:600px) {
		.div_output_image.finished:hover .action-put-photo-on-frontpage,
		.div_output_image.finished:hover .action-save-photo {
			display:block;
		}
	}
	@media (max-width:600px) {
		.div_output_image.active .action-put-photo-on-frontpage,
		.div_output_image.active .action-save-photo {
			display:block;
		}
	}
	.action-put-photo-on-frontpage svg,
	.action-save-photo svg {
		width: 30px;
		height: 25px;
		stroke-width: 30;
		stroke: #fff;
		fill: none;
	}
	.runtime {
		font-family:monospace;
		position:absolute;
		pointer-events:none;
		top:0;
		right:0;
		font-size:8px;
		font-weight:bold;
/*		z-index:1000000000;*/
		z-index:99;
		opacity:0.5;
		padding:3.5px;
		text-shadow: 1px 1px 1px var(--global-background-color);
	}
	.div_stripe_modal_disclaimer {
		font-size: 11px;
		margin-top: 28px;
		max-width: 900px;
		margin: 14px auto;
		opacity:0.5;
		margin-top:14px;
	}
	.modal_alert_backdrop,
	.div_stripe_modal_backdrop,
	.div_login_modal_backdrop,
	.image_viewer_backdrop {
		cursor: pointer;
		position: fixed;
		z-index: 100;
		background: rgba(0,0,0,0.5);
		left: 0;
		top: 0;
		width: 100%;
		height: 100%;
		display: none;
		background: rgba(0,0,0,0.75);
		backdrop-filter: blur(12px);
	}
	.div_stripe_modal_backdrop {
		cursor:default;
	}
	.image_viewer_backdrop {
/*		cursor:zoom-out;*/
		cursor:default;
	}
	.image_viewer_arrow_left {
		position:absolute;
		top:50%;
		left:14px;
		width:30px;
		transform:translateY(-50%);
		z-index:10;
		cursor:pointer;
	}
	.image_viewer_arrow_right {
		position:absolute;
		top:50%;
		right:14px;
		width:30px;
		transform:translateY(-50%);
		z-index:10;
		cursor:pointer;
	}
	.image_viewer_arrow_left:hover,
	.image_viewer_arrow_right:hover {
		opacity:0.75;
	}
	.image_viewer_arrow_left:active,
	.image_viewer_arrow_right:active {
		opacity:0.5;
	}
	@media (max-width:700px) {
		.image_viewer_arrow_left,
		.image_viewer_arrow_right {
			display:none;
		}
	}
	.div_stripe_modal,
	.div_login_modal {
		position: fixed;
		display: none;
		border-radius: 12px;
		border: 1px solid rgba(255,255,255,0.2);
		transform: translateX(-50%) translateY(-50%);
		left: 50%;
		top: 50%;
		background: #111;
		padding: 42px;
		z-index: 101;
		/*max-width: 500px;*/
		overflow-y: auto;
	}
	.div_login_modal {
		max-width:400px;
		width:100%;
	}
	.div_stripe_modal {
		min-height: 100vh;
		max-height: 100vh;
		width:100%;
		max-width:100vw;
		text-align: center;
		padding: 21px;
	}
	.stripe_pricing_table {
		min-height: 75vh;
		display: block;
		margin-bottom: -7px;
	}
	.div_login_modal .input_email {
		background:#fff;
		color:#000;
	}
	.div_login_modal .input_email:focus,
	.div_login_modal .input_email:active {
		border:2px solid #f47353;
	}
	.div_login_modal .button {
		width: 100%;
		margin: 0;
/*		margin-bottom: 7px;*/
	}
	.div_login_modal h2 {
		margin: 0;
		margin-bottom: 14px;
		text-align: center;
	}
	.div_login_modal input {
		width: 100%;
		margin: 0;
		margin-bottom: 7px;
	}
	.div_output_image_buttons {
		cursor:normal;
		display: none;
		position: absolute;
		left: 0;
		top: 50%;
		transform: translateY(-50%);
		width: 100%;
		text-align: center;
		z-index: 2;
	}
	html.guest .div_output_image_buttons {
		display:none !important;
	}
	@media (min-width:600px) {
		.div_output_image:active .output_image,
		.div_output_image:focus .output_image,
		.div_output_image:hover .output_image {
			opacity: 0.5;
		}
		.div_output_image.finished:active .div_output_image_buttons,
		.div_output_image.finished:focus .div_output_image_buttons,
		.div_output_image.finished:hover .div_output_image_buttons {
			display: block;
		}
	}
	@media (max-width:600px) {
		/* on mobile make buttons only show after first tap which toggles ACTIVE class with JS, to avoid accidentally instant tapping because hover on mobile is tap */
		.div_output_image.active .output_image {
			opacity: 0.75;
		}
		.div_output_image.finished.active .div_output_image_buttons {
			display: block;
		}
	}
	.image_viewer_buttons div,
	.div_output_image_buttons div {
		cursor: pointer;
		display: inline-block;
		margin: 7px;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		text-transform: uppercase;
		font-size: 9px;
		text-align: center;
		/* max-width:52px; */
	}
	.image_viewer_buttons div {
		margin-left:7px;
		margin-right:7px;
	}
	.image_viewer_buttons div span,
	.div_output_image_buttons div span {
		filter: invert(1);
		border-radius: 100%;
		display: inline-block;
		padding: 21px;
		border: 2px solid #000;
		background-size: 45%;
		background-repeat: no-repeat;
		background-position: 12px 11px;
		margin-bottom: 4px;
	}
	html:not(.dark) .div_output_image_buttons div span {
		filter:none;
	}
	html:not(.dark) .action-save-photo svg,
	html:not(.dark) .action-trash-photo svg {
		filter:invert(1);
	}
	.image_viewer_buttons {
		position:absolute;
		bottom:14px;
		right:14px;
	}
	@media (max-width:1200px) {
		.image_viewer_buttons {
			display:none;
		}
	}


	.image_viewer_buttons div:hover,
	.div_output_image_buttons div:hover {
		opacity: 0.75
	}
	.image_viewer_buttons div:active,
	.div_output_image_buttons div:active {
		opacity: 0.5;
	}
	.image_viewer_buttons div.action-view-image span,
	.div_output_image_buttons div.action-view-image span {
		background-image: url('/assets/expand.svg?2');
	}
	.image_viewer_buttons div.action-download-image span,
	.div_output_image_buttons div.action-download-image span {
		background-image: url('/assets/download.svg?2');
	}
	.image_viewer_buttons div.action-copycat span,
	.div_output_image_buttons div.action-copycat span {
		background-image: url('/assets/recycle.svg?2');
	}
	.image_viewer_buttons div.action-google-lens span,
	.div_output_image_buttons div.action-google-lens span {
		background-image: url('/assets/google-lens.svg?4');
	}
	.image_viewer_buttons div.action-lens span,
	.div_output_image_buttons div.action-lens span {
		background-image: url('/assets/google-lens.svg?4');
	}
	.image_viewer_buttons div.action-copy-prompt span,
	.div_output_image_buttons div.action-copy-prompt span {
		background-image: url('/assets/recycle.svg?2');
	}
	.image_viewer_buttons div.action-carbon-copy span,
	.div_output_image_buttons div.action-carbon-copy span {
		background-image: url('/assets/recycle.svg?2');
	}
	.image_viewer_buttons div.action-edit span,
	.div_output_image_buttons div.action-edit span {
		background-image: url('/assets/edit.svg?4');
	}
	.image_viewer_buttons div.action-dump-data span,
	.div_output_image_buttons div.action-dump-data span {
		background-image: url('/assets/barrel.svg?4');
	}
	.image_viewer_buttons div.action-open-replicate span,
	.div_output_image_buttons div.action-open-replicate span {
		background-image: url('/assets/edit.svg?4');
	}
	.image_viewer_buttons div.action-view-raw span,
	.div_output_image_buttons div.action-view-raw span {
		background-image: url('/assets/raw.svg?6');
	}
	.image_viewer_buttons div.action-make-video span,
	.div_output_image_buttons div.action-make-video span {
		background-image: url('/assets/video.svg?6');
	}
	.image_viewer_buttons div.action-delete span,
	.div_output_image_buttons div.action-delete span {
		background-image: url('/assets/garbage.svg?2');
	}

	/* hide ios Play button */
	.div_output_image.video .div_output_image_container video::-webkit-media-controls {
		display: none !important;
	}

	.div_output_image.video:after {
		content:'video';
		background:#2bde73;
		color:#000;
		font-weight:bold;
		position:absolute;
		top:0;
		right:0;
		font-size:8px;
		padding:5px;
		border-top-right-radius: 12px;
		border-bottom-left-radius: 6px;
		text-transform: uppercase;
	}



	.div_output_image.flux:after {
		content:'flux';
		background:#2bde73;
		color:#000;
		font-weight:bold;
		position:absolute;
		top:0;
		right:0;
		font-size:8px;
		padding:5px;
		border-top-right-radius: 12px;
		border-bottom-left-radius: 6px;
		text-transform: uppercase;
	}



	.div_output_image .top_left_label {
		background:#232323;
		color:#fff;
		font-weight:bold;
		position:absolute;
		top:0;
		left:0;
		font-size:8px;
		z-index:1;
		padding:5px;
		border-top-left-radius: 10px;
		border-bottom-right-radius: 6px;
		text-transform: uppercase;
	}

	.div_output_image.copycat,
	.div_output_image.try_on {
		overflow:visible;
	}

	.div_output_image.copycat .top_left_label,
	.div_output_image.try_on .top_left_label {
		border-top-left-radius: 0px;
		left:68px;
		padding-left:10px;
	}

	.div_output_image.edit:after {
		content:'edit';
		/*background:rgba(0,0,0,0.5);
		color:#fff;*/
/*		background:rgba(255,255,255,0.5);*/
		background:#2b80de;
		color:#000;
		font-weight:bold;
		position:absolute;
		top:0;
		right:0;
		font-size:8px;
		padding:5px;
		border-top-right-radius: 12px;
		border-bottom-left-radius: 6px;
/*		border-left:1px solid var(--photo-border-color);*/
/*		border-bottom:1px solid var(--photo-border-color);*/
		text-transform: uppercase;
	}

	/* <disable actions for videos> */
		.div_output_image.video .action-view-raw,
		.image_viewer.video .image_viewer_buttons .action-google-lens,
		.div_output_image.video .action-google-lens,
		.image_viewer.video .image_viewer_buttons .action-copycat,
		.div_output_image.video .action-copycat {
			display:none;
		}
	/* </disable actions for video> */

	/* <disable certain actions for example pics> */
		.div_output_image.example {
			cursor:pointer;
		}
		.div_output_image.example .action-trash-photo,		.div_output_image.example .action-view-raw,
		.div_output_image.example .action-make-video,
		.div_output_image.example .action-save-photo,
		.div_output_image.example .action-download-image,
		.div_output_image.example .action-dump-data,
		.div_output_image.example .action-edit,
		.div_output_image.example .action-view-image,
		.div_output_image.example .action-google-lens,
		.div_output_image.example .action-copycat {
/*			pointer-events: none;*/
/*			opacity:0.25;*/
			display:none;
		}
	/* </disable certain actions for example pics> */

	.image_viewer {
		overflow:hidden;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select:none;
		display: none;
/*		border-radius: 12px;*/
		/*width: 832px;*/
		width: auto;
		height: auto;
		transform: translateX(-50%) translateY(-50%);
		position: fixed;
		z-index: 102;
		left: 50%;
		top: 50%;
		object-fit: cover;
		background: #161616;
		/*border: 1px solid rgba(255,255,255,0.2);*/
		/*background: #fff;*/
		/*padding: 7px;*/
/*		box-shadow: 0 0 0 1px var(--global-border-color), 0 2px 4px 0 rgb(0 0 0 / 7%), 0 1px 1.5px 0 rgb(0 0 0 / 5%);*/
		/* dotted bg */
		background: radial-gradient(#424242 0.5px, transparent 0.5px), radial-gradient(#424242 0.5px, #161616 0.5px);
		background-size: 20px 20px;
		background-position: 0 0, 10px 10px;
		background-repeat: initial;
	}
	.image_viewer_bottom_gallery {
		position: fixed;
		z-index: 102;
		bottom:0;
		left:0;
		width:100%;
		display: none;
		height:12.5vh;
		text-align: center;
	}
	.image_viewer_bottom_gallery img {
		height:100%;
		margin-left:7px;
		margin-right:7px;
	}
	.image_viewer .action-save-photo.saved {
		display:block;
	}
	.image_viewer .action-put-photo-on-frontpage.frontpaged {
		display:block;
	}
	@media (min-width:600px) {
		.image_viewer:hover .action-put-photo-on-frontpage,
		.image_viewer:hover .action-save-photo,
		.image_viewer:hover .action-trash-photo {
			display:block;
		}
		.image_viewer .action-put-photo-on-frontpage,
		.image_viewer .action-save-photo,
		.image_viewer .action-trash-photo {
			z-index:104;
			padding:21px;
		}
		.image_viewer .action-put-photo-on-frontpage svg,
		.image_viewer .action-save-photo svg,
		.image_viewer .action-trash-photo svg {
			height:35px;
			width:38px;
		}
	}
	.image_viewer video {
		display:none;
	}
	.image_viewer,
	.image_viewer img,
	.image_viewer video {
		max-width:90vw;
		max-height:90vh;
	}
	.image_viewer img,
	.image_viewer video {
		display:block;
		background-size:cover;
		background-repeat:no-repeat;
/*		background-size:10%;*/
		width:auto;
		height:auto;
		position:relative;
		z-index:103;
	}
	.image_viewer img {
		cursor:zoom-in;
	}
/*	.image_viewer img.loading {*/
/*		filter:blur(5px);*/
/*	}*/
	.image_viewer.zoomed-in .action-save-photo,
	.image_viewer.zoomed-in .action-trash-photo {
		display:none;
	}

	.image_viewer.zoomed-in img {
		cursor:zoom-out;
/*		cursor:grab;*/
		max-width:none;
		max-height:none;
	}
	.image_viewer.zoomed-in img:active {
/*		cursor:grabbing;*/
	}
	.image_viewer.zoomed-in {
		overflow:scroll;
		max-width:100vw;
		max-height:100vh;
	}
	.image_viewer:active {
/*		opacity:0.5;*/
	}
	/*div.prompt_mode {
		display:none;
	}
	div.design_mode {
		display:none;
	}
	div.training_mode {
		display:none;
	}
	div.copycat_mode {
		display:none;
	}
	html:not(.copycat_mode) .copycat_gallery {
		display:none;
	}*/
	:root.training_mode {
		--take-photo-container-height:1px;
	}

	@media (max-width:400px) {
		.hide-before-400px {
			display:none;
		}
	}
	@media (max-width:600px) {
		.hide-before-600px {
			display:none;
		}
	}
	@media (max-width:1200px) {
		.hide-before-1200px {
			display:none;
		}
	}

	:root.guest {
		--copycat-gallery-height: 1px;
		--take-photo-container-height:1px;
	}
	@media (min-width:1000px) {
		html:not(.guest) .top_folder_selector {
			width:calc(100% - calc(var(--left-sidebar-width)));
			position:fixed;
			background:var(--header-background-color);
			z-index:50;
			border-bottom:1px solid var(--global-border-color);
			margin-top:-50px;
		}
		.section.main {
			margin-top:50px;
		}
	}
	html.guest .top_folder_selector {
		display:none;
	}
	html.guest .div_output_images {
		padding-top:14px;
/*		background:#fff;*/
	}
	html.guest .div_output_image {
/*		border:1px solid #dedede;*/
/*		background:#eee;*/
	}


	html.guest .copycat_gallery {
		display:none;
	}

	@media (max-width:1000px) {
		html.guest .hero {
			height:75vh;
		}
		html.guest .hero_footer_logos {
			padding:28px;
		}
		html.guest .by-levelsio,
		html.guest .hero .wave,
		html.guest .header,
		html.guest .top_folder_selector,
		html.guest .sidebar.sidebar,
		html.guest .div_generate_button_container {
			display:none;
		}
	}

	.main {
		margin-bottom:28px;
	}

	.pricing,
	.testimonials,
	.templates,
	.faq {
		max-width:1200px;
		margin:0 auto;
		margin-bottom:28px;
		margin-top:28px;
	}
	html.pricing_table {
		overflow:hidden;
	}
	.pricing {
		max-width:1400px;
	}
	.faq-img {
		float:left;
		clear:both;
		width:50%;
		width:calc(50% - 14px);
		margin-left:14px;
		margin-top:28px;
	}
	.faq-right {
		text-align:left;
		width:50%;
		float:right;
		margin-top:28px;
	}
	@media (max-width:600px) {
		.faq-img {
			display:none;
		}
		.faq-right {
			width:auto;
			float:none;
		}
	}
	.faq h2,
	.faq h3,
	.faq h4,
	.faq p {
		margin:14px;
	}

	.pricing h2,
	.templates h2,
	.feature h2,
	.faq h2 {
		font-size:42px;
	}
	.faq h4 {
		cursor:pointer;
		border-top:1px solid var(--global-border-color);
		padding-top:21px;
		padding-bottom:21px;
		margin-top:0;
		margin-bottom:0;
		position:relative;
		padding-right:28px;
	}
	.faq h4:after {
		content:'+';
		font-size:20px;
		position: absolute;
		right:14px;
		top: 50%;
		transform: translateY(-50%);
		font-weight:400;
		transition: transform .3s ease-out;
	}
	.faq h4.expanded:after {
		transform: translateY(-50%) rotate(-45deg);
		transition: transform .3s ease-out;
	}
	.faq h4:not(.expanded):hover {
		opacity:0.75;
	}
	.faq h4:active {
		opacity:0.5;
	}
	.faq h4 {
		font-weight:800;
		font-size:18px;
		line-height:1.5;
		user-select: none;
	}
	.faq h4:not(.expanded):last-of-type {
		border-bottom:1px solid var(--global-border-color);
	}
	.templates p,
	.feature p,
	.faq p {
		line-height:1.75;
		font-size:18px;
		overflow:hidden;
		margin-top:0;
		margin-bottom:0;
		transition: none;
	}
	.faq p {
		max-height:0px;
	}
	.faq p.expanded {
		max-height:1000px;
		transition: .3s ease;
		padding-bottom:28px;
	}
	.blog {
		max-width:1200px;
		margin:0 auto;
		margin-bottom:28px;
		margin-top:28px;
		margin-top:28px;
	}
	.blog h1 {
		font-size:36px;
		padding-top:28px;
	}
	.blog h2 {
		font-size:28px;
	}
	.blog h1,
	.blog h2,
	.blog h3,
	.blog h4,
	.blog p,
	.blog img {
		margin:14px;
		text-transform: initial;
	}
	.blog img {
/*		max-width:100%;*/
/*		max-width:calc(100% - 14px - 14px);*/
/*		border-radius:12px;*/
/*		padding:14px;*/
/*		background:#fff;*/
		width:100%;
		max-width:300px;
	}
	@media (max-width:600px) {
		.blog img {
			float:none !important;
			max-width:calc(100% - 14px - 14px);
		}
	}

	.blog h1,
	.blog h2,
	.blog h3,
	.blog h4 {
		margin-top:28px;
	}

	.blog p {
		line-height:1.75;
		font-size:18px;
	}



	/* <select photos logic> */
		/* users can select photo mode and then select and then download photos */
			.action-select-all {
				display:none;
			}
			html.select-photos-mode .action-select-all {
				display:inline-block;
			}
			@media (max-width:600px) {
				/* make header fixed on mobile when select mode is on */
				html.select-photos-mode .header {
					position:fixed;
				}
			}
			html.select-photos-mode .div_output_image.selected {
				background: #fff;
			}
			html.select-photos-mode .div_output_image.selected img {
				opacity:0.75;
			}
			html.select-photos-mode .div_output_image.selected:after {
				background:#fff;
				border-radius:100%;
				padding:2px;
				content:url('/assets/checkmark-circle-green.svg?1708109684');
				width:30px;
				height:30px;
				position:absolute;
				bottom:14px;
				right:14px;
				font-size:20px;
			}
			html:not(.select-photos-mode) .select-photos-mode-download-bar {
				display:none !important;
			}
			html.select-photos-mode .select-photos-mode-download-bar {
				display:none;
				z-index:100;
				position:fixed;
				left:0;
				bottom:0;
				width:100%;
				padding:21px;
				background:var(--sidebar-background-color);
				border-top:1px solid var(--global-border-color);
				text-align:center;
			}
			html.select-photos-mode .div_output_image:not(.finished),
			html.select-photos-mode .action-trash-photo,
			html.select-photos-mode .action-save-photo,
			html.select-photos-mode .action-put-photo-on-frontpage,
			html.select-photos-mode .div_output_image_buttons,
			html.select-photos-mode .div_output_image_meta {
				display:none !important;
			}
			html.select-photos-mode .div_output_image.finished {
				cursor:pointer;
			}
	/* </select photos logic> */

	/* <templates> */
		.div_template {
			padding:28px;
			cursor:pointer;
			background:var(--input-background-color);
/*				float:left;*/
			min-height:325px;
		}
		.templates a.div_template {
			text-decoration: none;
			margin:5px;
		}
		.div_template.active,
		.div_template:focus,
		.div_template:active,
		.div_template:hover {
/*				opacity:0.75;*/
			border:1px solid #f47353;
		}
		.div_template:active {
			opacity:0.5;
		}
		.div_template_icon {
			border-radius:100%;
			text-align:center;
			font-size:36px;
			padding:14px;
			background:var(--global-background-color);
			border:1px solid var(--global-border-color);
			display:table;
			width:77.5px;
			height:64px;
		}
		.div_template_name {
			font-size:21px;
			font-weight:bold;
			margin-top:14px;
		}
		.div_template_description {
			margin-top:14px;
			font-size:18px;
			opacity:0.75;
		}
		.div_times_used_count,
		.div_template_count {
			margin-top:14px;
			text-transform: uppercase;
			background: #f47353;
			color: #fff;

			background: #2bde73;
			color: #161616;

			padding: 3.5px;
			padding-left: 7px;
			padding-right: 7px;
			border-radius: 12px;
			font-size: 12px;
			font-weight: var(--bold);
			vertical-align: middle;
			margin-left: 0;
			display: inline-block;
			line-height: 1;
		}
		.div_times_used_count {
			background:#f47353;
		}
		.div_template_samples img {
			border-radius:6px;
			margin:3.5px;
			width:calc(50% - 3.5px - 3.5px);
		}
	/* </templates> */


	/* <expandable advanced features> */
		.expandable_div {
			max-height: 0px;
			overflow: hidden;
			margin-bottom:0;
		}
		.expands_next_div:not(.expanded):last-of-type {
			border-top:1px solid var(--global-border-color);
		}
		.expandable_div.expanded {
			max-height: 10000px;
			transition: .3s ease;
		}
		.expands_next_div {
			position:relative;
			cursor:pointer;
			margin:0;
			margin-top:0;
			padding:21px;
			border-top:1px solid var(--global-border-color);
		}
		.expands_next_div:not(.expanded):hover {
			background:#171717;
		}
		.expands_next_div:active {
			opacity:0.5;
		}
		.expands_next_div:after {
			content: '‚åÑ';
			font-size: 20px;
			position: absolute;
			height:23px;
			margin-top:-7px;
			right: 21px;
			top: 50%;
			font-weight: 400;
/*			transition: transform .3s ease-out;*/
			transform: scaleX(135%) translateY(-50%) rotate(0);
		}
		.expands_next_div.expanded:after {
			margin-top:7px;
			transform: scaleX(135%) translateY(-50%) rotate(180deg);
/*			transition: transform .3s ease-out;*/
		}
	/* </expandable advanced features> */


	/* <page screenshots> */
		html.screenshot .section.main {
			margin-top:-160px;
		}
		html.screenshot .header,
		html.screenshot .hero,
		html.screenshot .landing-main-top-gradient
		{
			display:none;
		}
	/* </page screenshots> *?/

	/* <info tooltip> */
		.info {
			cursor:pointer;
			filter:invert(1);
			display:inline-block;
			width:12px;
			height:12px;
			vertical-align: middle;
			background-image:url('/assets/question.svg?2');
			background-size:cover;
		    margin-left: 1px;
			margin-top: -2px;
		}
		.info:hover {
			opacity:0.75;
		}
		.info:active {
			opacity:0.5;
		}
		.tooltip {
			background:var(--input-background-color);
			position:fixed;
			top:0;
			left:0;
			border:1px solid var(--global-border-color);
			width:300px;
			border-radius:12px;
			filter:drop-shadow(rgba(0, 0, 0, 0.36) 0px 0px 16px) drop-shadow(rgba(0, 0, 0, 0.36) 0px 0px 24px);
			z-index:100;
			margin:14px;
			padding:14px;
			font-size:14px;
			display:none;
			max-width:100vw;
			color:hsl(0 0% 75% / 1);
			overflow:hidden;
		}
		.tooltip img {
		    margin-left: -14px;
		    margin-top: -14px;
		    width: calc(100% + 14px + 14px);
		    object-fit: cover;
		    object-position: center;
		    height:150px;
		    margin-bottom:7px;
		}
	/* </info tooltip> */

	/* <credits> */
		.photo-credits-left-container {
			color:#2bde73;
			cursor:pointer;
			font-weight:500;
			margin-right:21px;
			margin-left:0;
		}
		.photo-credits-left-container:hover {
			opacity:0.75;
		}
		.photo-credits-left-container:active {
			opacity:0.5;
		}
		.photo-credits-left-container svg {
			fill:#2bde73;
			stroke:#2bde73;
		}
		.photo-credits-left-container svg,
		.photo-credits-left-container span {
			vertical-align:middle;
		}
		.glow {
			font-weight:bold;
			animation: glowEffect 1s ease-in-out;
		}
		@keyframes glowEffect {
			0% {
				text-shadow: 0 0 10px #2bde73, 0 0 15px #2bde73, 0 0 30px #2bde73;
				transform: scale(1.25);
			}
			100% {
				text-shadow: none;
				transform: scale(1);
			}
		}
	/* </credits> */

            @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
            }

			/*
            section:first-of-type {
                margin-top: 120px; !* Add margin-top to create space below the header for the first section only *!
			*/

            }
            section {
                margin-top: auto;
                margin-bottom: auto;
            }


            nav a {
                margin: 0 15px;
                text-decoration: none;
                color: white;
                font-weight: bold;
                position: relative;
            }


            footer {
                background: linear-gradient(135deg, #4b79a1, #283e51);
                color: white;
				margin-bottom: 0px;
                padding: 40px 20px;
                text-align: center;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                position: relative;
            }

            .footer-container {
                display: flex;
                flex-wrap: wrap;
                justify-content: space-between;
                max-width: 1200px;
                width: 100%;
            }

            .footer-column {
                flex: 1;
                min-width: 250px;
                margin: 20px;
            }

            .footer-column h3 {
                margin-bottom: 20px;
                font-size: 18px;
                color: #f0f0f0;
            }

            .footer-column ul {
                list-style: none;
                padding: 0;
                margin: 0;
            }

            .footer-column ul li {
                margin-bottom: 10px;
            }

            .footer-column ul li a {
                color: #f0f0f0;
                text-decoration: none;
                transition: color 0.3s;
            }

            .footer-column ul li a:hover {
                color: #50c7c7;
            }

            .social-icons {
                display: flex;
                justify-content: center;
                margin-top: 20px;
            }

            .social-icons a {
                margin: 0 10px;
                text-decoration: none;
                color: white;
                font-size: 20px;
                transition: transform 0.3s;
            }

            .social-icons a:hover {
                transform: scale(1.2);
            }

            .footer-bottom {
                margin-top: 40px;
                font-size: 14px;
                color: #ddd;
            }

            .footer-bottom a {
                color: #50c7c7;
                text-decoration: none;
            }

            .footer-bottom a:hover {
                text-decoration: underline;
            }
    </style>

</head>

<body>


<!--<header>
    <h1>My Test Website</h1>

    <nav>
        <a href="index.html">Home</a>
        <a href="page1.html">Page 1</a>
        <a href="page2.html">Page 2</a>
        <a href="page3.html">Page 3</a>
        <a href="page4.html">Page 4</a>
        <a href="page5.html">Page 5</a>
        <a href="AI.html">AI Projects</a>
    </nav>

</header>-->



<!-- Upload jquery library -->
<script sync src="/jquery.min.js"></script>

<!--TBC Don't know precisely what this does-->
<script type="text/javascript" src="https://unpkg.com/default-passive-events"></script>



<!--TBC Don't know what this does

From ChatGPT

FAQ Toggle: Manages the expansion and collapse of FAQ sections.
CTA Box Floating: Makes a CTA box "stick" to the screen as the user scrolls past a certain point.
Tooltip: Shows a tooltip with dynamic content when hovering over certain elements, ensuring it stays within the viewport.

-->

<script>

	$(function() {

		$('.faq h4').bind('click',function() {
			$(this).toggleClass('expanded');
			$(this).next('p').toggleClass('expanded');
		});

		var heroHeight=$('.hero').height();
		$(window).scroll(function() {
			$('.tooltip').hide();
			if($(window).scrollTop()>heroHeight) {
				if(!$('.cta-box').hasClass('floating')) {
					$('.cta-box').addClass('floating');
				}
			} else {
				if($('.cta-box').hasClass('floating')) {
					$('.cta-box').removeClass('floating');
				}
			}
		});
		$('.info').mouseenter(function() {
			var leftPx=$(this)[0].getBoundingClientRect().left;
			var topPx=$(this)[0].getBoundingClientRect().top;
			console.log(leftPx,topPx);
			$('.tooltip').css('left',leftPx+'px');
			$('.tooltip').css('top',topPx+'px');
			var tooltipHeading=$(this).parent().text().trim();
			var tooltipText=$(this).data('tooltip');
			tooltipText=str_replace('*linebreak*','<br/>',tooltipText);
			var tooltipImage=$(this).data('tooltip-image');
			if(tooltipImage) {
				$('.tooltip img').attr('src','https://photoai.com/cdn-cgi/image/format=jpeg,width=600,quality=50/'+tooltipImage).show();
			}
			else {
				$('.tooltip img').hide();
			}
			$('.tooltip span').html(
				'<b style="margin-bottom:7px;display:inline-block;">'+tooltipHeading+'</b><br/>'+
				tooltipText
			);
			checkIfOutsideWindowBoxX=leftPx+$('.tooltip').outerWidth();
			console.log('checkIfOutsideWindowBoxX='+checkIfOutsideWindowBoxX);
			console.log('$(window).width()='+$(window).width());
			if(checkIfOutsideWindowBoxX>$(window).width()) {
				// outside window box horizontally
				leftPx=$(window).width()-$('.tooltip').outerWidth()-14;
				if(leftPx<0) {
					leftPx=0;
				}
				$('.tooltip').css('left',leftPx+'px');
			}
			$('.tooltip').show();
		});
		$('.info').mouseleave(function() {
			$('.tooltip').hide();
		});
	})
</script>


<!--TBC Don't know what this does-->

<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6CQ2F5W" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div class="tooltip">
	<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="/>
	<span>
		Tooltip test with text in it
	</span>
</div>



<!--TBC Is it the rotating spinner of the logo?-->
<div class="loading_spinner main" id="loading_spinner">
	<div>
		<svg class="loading_spinner_svg" viewBox="25 25 50 50">
			<circle class="loading_spinner_circle" cx="50" cy="50" r="22" fill="none"></circle>
			<circle class="loading_spinner_circle loading_spinner_circle--spinner" cx="50" cy="50" r="22" fill="none"></circle>
		</svg>
	</div>
	<div class="loading_message"></div>
</div>




<!--TBC Core script with main pictures upload and some other functions, including the background effect of the hero section-->

<script>

	var webPushSubscribedAlready=false;
	var lastPhotoTaken;

	function ucfirst (str) {
	  str += ''
	  var f = str.charAt(0)
		.toUpperCase()
	  return f + str.substr(1)
	}

	function explode(delimiter, string, limit) {

		if (arguments.length < 2 || typeof delimiter === 'undefined' || typeof string === 'undefined') return null;
		if (delimiter === '' || delimiter === false || delimiter === null) return false;
		if (typeof delimiter === 'function' || typeof delimiter === 'object' || typeof string === 'function' || typeof string ===
		'object') {
		return {
			0: ''
		};
		}
		if (delimiter === true) delimiter = '1';

		// Here we go...
		delimiter += '';
		string += '';

		var s = string.split(delimiter);

		if (typeof limit === 'undefined') return s;

		// Support for limit
		if (limit === 0) limit = 1;

		// Positive limit
		if (limit > 0) {
		if (limit >= s.length) return s;
		return s.slice(0, limit - 1)
			.concat([s.slice(limit - 1)
			.join(delimiter)
			]);
		}

		// Negative limit
		if (-limit >= s.length) return [];

		s.splice(s.length + limit);
		return s;
	}


	function flash(event){
		$('.flash')
			.show()
			.animate({opacity: 0.5}, 300)
			.fadeOut(300)
			.css({'opacity': 1});
	}



	var user_id=null;
	var imageViewerZoomedInX=0;
	var imageViewerZoomedInY=0;

	var downloadLast16Counter;

	var trainingResolution=512;

	//
	// trainingInputMultiplier means we use trainingResolution * trainingInputMultiplier (event.g. 512*4=2048) as a first
	// resize resolution to then do face detection or center crop into a 512x512 square, a higher reso gives us more
	// detailed face/resemblance data etc.
	//
	var trainingInputMultiplier=4;

	var duplicatePhotoFinderMD5=[];
	var duplicatePhotosFound=0;
	var similarPhotosFound=0;

	var avgWaitingTime="46";

	var stripeLoaded=false;

	var clothingId;
	var copycatId;
	var copycatWidth;
	var copycatHeight;

	var pollIntervalTimeInSeconds=3;
	var pollIntervalTime=pollIntervalTimeInSeconds*1000;
	var userIsTakingPhotoNow=false;
	var polledServerCount=[];

	var userIsUploading=false;
	var uploadedFileIds=[];
	var uploadedFileURLs=[];
	var filesToUploadBlobs=[];

	// //
	// // filesToUploadDataURLs used for resemblance check
	// //
	// var filesToUploadDataURLs=[];
	var trainingUploadResemblanceCheckDataURLs=[];

	var loadingSpinnerStartTime=[];
	var loadingSpinnerProgress=[];
	var loadingSpinnerDelay=[];
	var loadingSpinnerTimeout=[];

	var loadingSpinnerPhotoIdsPreprocessed=[];
	var loadingSpinnerPhotoIdsFinished=[];




	var selectedFolder="examples";
	var currentModelGender='';
	var currentModelId='';

	var templateBatchPromptIterator=0;
	var userHasBatchTemplateRunning=false;

	var infinityScrollIsAlreadyRunning=false;
	var disableInfinityScrollBecauseWeReachedEnd=false;

	$(function() {


		// <init>
			// on load

			// scroll to top, sometimes bug it scrolls 50px down
			setTimeout(function() {
				if($(window).width()>600 && !document.location.hash) {
					$(window).scrollTop(0);

									}

			},1000);


			// <scroll down main section to below search box>
				// ppl can still search but need to scroll up like on iOS
				if(empty($('.photo_search').val()) && $('.photo_search').is(':visible')) {
					var scrollToPosY=$('.photo_search').outerHeight()+14;
				}
				else {
					var scrollToPosY=0;
				}
				setTimeout(function() {
					$('.section.main').animate({
						scrollTop:top
					},0);
				},10);
			// </scroll down main section to below search box>




			// <detect hash like #templates and switch folder>
				// setTimeout(function() {
				// 	if(window.location.hash) {
				// 		if(window.location.hash=='training') {
				// 			$('.select_mode').val('training').change();
				// 		}
				// 		else if(window.location.hash=='design') {
				// 			$('.select_mode').val('design').change();
				// 		}
				// 		else if(window.location.hash=='prompt') {
				// 			$('.select_mode').val('prompt').change();
				// 		}
				// 		else if(window.location.hash=='copycat') {
				// 			$('.select_mode').val('copycat').change();
				// 		}
				// 		else {
				// 			selectedFolder=window.location.hash.substr(1);
				// 		}
				// 	}
				// 	else {
				// 		$('.select_mode').val('prompt').change();
				// 	}
				// },250);
				$('.select_mode').val('prompt').change();
			// </detect hash like #templates and switch folder>

			$('.div_output_images.'+selectedFolder).show();
			$('.top_folder_selector h3').removeClass('active');
			$('.top_folder_selector h3[data-folder="'+selectedFolder+'"]').addClass('active');


			loadPhotos(selectedFolder);

							if($(window).width()>600) {
					// don't focus email sign up on mobile because keyboard pops out
					$('.input_confirm_email').focus();
				}

			// reload example folder with gender if selected/open
			if(selectedFolder=='examples') {
				$('.top_folder_selector h3.active').click();
			}
		// </init>


		/* <expandable advanced features in left side> */
			$('body').on('click','.expands_next_div',function() {
				$(this).toggleClass('expanded');
				$(this).next('div').toggleClass('expanded');

				//
				// add training_tab_is_open so we can hide the take photo button when user is setting up new model training for ease of use
				//
				if($(this).hasClass('h3_create_model') && $(this).hasClass('expanded')) {
					$('html').addClass('training_tab_is_open');
				}
				else if($(this).hasClass('h3_create_model')) {
					$('html').removeClass('training_tab_is_open');
				}

			});
		/* </expandable advanced features in left side> */

		// <infinity scroll pagination photo gallery>
					// </infinity scroll pagination photo gallery>

		$('.select_mode').bind('change',async function() {

			if($(this).val()=='copycat') {
				$('html').removeClass('training_mode');
				$('html').removeClass('prompt_mode');
				$('html').removeClass('design_mode');
				$('html').addClass('copycat_mode');
				// $('div.prompt_mode').hide();
				// $('div.training_mode').hide();
				// $('div.copycat_mode').show();
				// $('div.design_mode').hide();
				$('.action-take-photo .button-label').text('Copycat photo');
			}
			else if($(this).val()=='training') {



				$('html').removeClass('prompt_mode');
				$('html').removeClass('design_mode');
				$('html').removeClass('copycat_mode');
				$('html').addClass('training_mode');
				// $('div.prompt_mode').hide();
				// $('div.training_mode').show();
				// $('div.copycat_mode').hide();
				// $('div.design_mode').hide();
				$('.input_create_model_name').focus();
			}
			else if($(this).val()=='design') {
				copycatId=0;
				$('.div_copycat_uploader').addClass('collapsed');
				$('.div_copycat_uploader').removeClass('active');
				$('.div_copycat_uploader .img_copycat').attr('src','data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==');
				$('.div_copycat_uploader_center').show();
				$('html').removeClass('prompt_mode');
				$('html').removeClass('training_mode');
				$('html').removeClass('copycat_mode');
				$('html').addClass('design_mode');
				// $('div.prompt_mode').hide();
				// $('div.training_mode').hide();
				// $('div.copycat_mode').hide();
				// $('div.design_mode').show();

				$('.action-take-photo .button-label').text('Take '+$('select.amount_of_photos').val()+' photo'+($('select.amount_of_photos').val()>1?'s':''));
			}
			else if($(this).val()=='prompt') {
				$('html').removeClass('training_mode');
				$('html').removeClass('design_mode');
				$('html').removeClass('copycat_mode');
				$('html').addClass('prompt_mode');
				// $('div.training_mode').hide();
				// $('div.copycat_mode').hide();
				// $('div.design_mode').hide();
				// $('div.prompt_mode').show();
			}
		});

		$('.action-take-photo .button-label').text('Take '+$('select.amount_of_photos').val()+' photo'+($('select.amount_of_photos').val()>1?'s':''));

		$('select.amount_of_photos').bind('change',function(event) {
			$('.action-take-photo .button-label').text('Take '+$('select.amount_of_photos').val()+' photo'+($('select.amount_of_photos').val()>1?'s':''));
		});

		$('select.model_id').bind('change',function(event) {
			// if model changes, change copycat gallery too

			var modelId=$(this).val();

			if($(this).val()=='create') {
				// Train your own model selector in models list
				$('.h3_create_model').click();
				$('.sidebar').animate({scrollTop:-$('.sidebar').offset().top+$('.sidebar').scrollTop()+$('.h3_create_model').eq(0).offset().top-14});
				$('.input_create_model_name').focus();
				return;
			}

			$('.model_samples .model_sample').removeClass('active').removeClass('new');
			$('.model_samples .model_sample[data-model-id="'+modelId+'"]').addClass('active');

			if($('.model_samples .model_sample.active').hasClass('flux')) {
				// hide non-flux features
				$('.sidebar p.model_strength').show();
				$('.sidebar p.manual_negative_prompt').hide();

				// set upscaler off for Flux
				$('.sidebar select.final_upscaler').val('disabled');
				$('.sidebar p.final_upscaler').hide();

				$('.sidebar p.add_noise').hide();
				$('.sidebar p.faceswap').hide();

				// limit flux to 4 photo
				$('.sidebar select.amount_of_photos option[value="8"]').prop('disabled',true);
				$('.sidebar select.amount_of_photos option[value="16"]').prop('disabled',true);

				$('div.copycat_mode').hide();

				// set placeholder extra feautres
				$('textarea.manual_prompt').prop('placeholder','Write "model" to reference your model like "model wearing floral silk dress in cocktail bar with neon lights". Text also works like "model holding sign that says Hello World"')
			}
			else {
				// show non-flux features
				$('.sidebar p.model_strength').hide();
				$('.sidebar p.manual_negative_prompt').show();
				$('.sidebar p.final_upscaler').show();
				// set upscaler on to default
				$('.sidebar select.final_upscaler').val('clarity_2x');
				$('.sidebar p.add_noise').show();
				$('.sidebar p.faceswap').show();
				$('div.copycat_mode').show();

				// limit flux to 4 photo
				$('.sidebar select.amount_of_photos option[value="8"]').prop('disabled',false);
				$('.sidebar select.amount_of_photos option[value="16"]').prop('disabled',false);

			}



			if(
				!$('.model_samples .model_sample[data-model-id="'+modelId+'"]').is(':visible') &&
				$('.model_samples .model_sample[data-model-id="'+modelId+'"]').length
			) {
				// scroll to model only if not visible
				$('.model_samples').animate({
					scrollTop:
					$('.model_samples').scrollTop()+$('.model_samples .model_sample[data-model-id="'+modelId+'"]').offset().top-$('.model_samples').offset().top-14
				},500);
			}

			var modelGender=$('select.model_id option:selected').data('gender');

			// force reload of photos if model id changes, to show only photos for that model
			// loadPhotos(selectedFolder,null,true);

			if(currentModelGender!=modelGender) {
				// reload example folder with gender if selected/open
				if(selectedFolder=='examples') {
					$('.top_folder_selector h3.active').click();
				}
			}


			currentModelGender='';
			if($('.model_id option:selected').data('gender')) {
				currentModelGender=$('.model_id option:selected').data('gender');
			}
			currentModelId=$('.model_id option:selected').val();

			$('.select_your_model_current_model_thumbnail').css('background-image','url("'+
				$('.model_samples .model_sample.active img').attr('src')
			+'")');


		});

		$('body').on('mouseover','.div_output_image.video',function() {
			$(this).find('video').get(0).play();
		});

		$('body').on('mouseout','.div_output_image.video',function() {
			$(this).find('video').get(0).pause();
		});


		$('body').on('click','.div_output_image',function() {
			if($(this).hasClass('active')) {
				$(this).removeClass('active');
				$('.div_output_image').removeClass('active');
			}
			else {
				$('.div_output_image').removeClass('active');
				$(this).addClass('active');
			}
		});


		$('body').on('click','.action-copy-prompt',async function(event) {
			event.stopPropagation();



				if($('.image_viewer').is(':visible')) {
					$('.image_viewer_backdrop').click();
				}

				if($('.hero .cta-box .input_confirm_email').val().trim()=='') {
					$('html').animate({
						scrollTop:
						-$('html').offset().top+$('.hero .cta-box').scrollTop()+$('.hero .cta-box ').offset().top-28
					},500);
					$('.hero .cta-box .input_confirm_email').focus();
					return;
				}



			$('.select_mode').val('prompt').change();


			if($(this).parent().hasClass('image_viewer_buttons')) {
				// image viewer download button
				var photo_id=$('.image_viewer').data('photo-id');
				// close image viewer
				$('.image_viewer_backdrop').click();
			}
			else {
				// photo box hover download button
				var photo_id=$(this).parent().parent().data('photo-id');
			}

			var weHaveChangedTheModelForUser=false;




			if(!$(this).parent().parent().hasClass('example')) {
				// if example img, don't ask to change model
				// <auto select the model used for image>
					// when copying prompt, auto select the model used for image
					// because if you copy prompt for AI Valentina photo you don't
					// want AI Pieter to generate it for example
					var photo_model_id=$(this).parent().parent().data('model-id');
					if($('select.model_id').val()!=photo_model_id) {
						if($('select.model_id option[value="'+photo_model_id+'"]').length) {
							if(confirm("Your current model selected is ["+$('select.model_id option:selected').text().trim()+"], do you want to change it to ["+$('select.model_id option[value="'+photo_model_id+'"]').text().trim()+"]?")) {
								$('select.model_id').val(photo_model_id).change();
							}
						}
					}
				// </auto select the model used for image>
			}


			// <get prompt data>
				var manual_prompt=$(this).parent().parent().data('manual-prompt');
				if(!manual_prompt) {
					// 2024-05-07 if no manual prompt data, because we are removing it
					// from main db, get it from the prompts db via ?action=get-prompt-data
					var promptData=await fetch('/?action=get-prompt-data&hash=&photo_id='+photo_id);
					var promptData=await promptData.json();
					var manual_prompt=promptData['manual_prompt'];
					var manual_negative_prompt=promptData['manual_negative_prompt'];
				}
				else {
					// get it from the data- attributes
					var manual_prompt=$(this).parent().parent().data('manual-prompt');
					var manual_negative_prompt=$(this).parent().parent().data('manual-negative-prompt');
				}

				// fill textareas
				$('textarea.manual_prompt').val(manual_prompt).change();
				$('textarea.manual_negative_prompt').val(manual_negative_prompt).change();

				var emotion=$(this).parent().parent().data('emotion');
				$('div.sidebar select.emotion').val(emotion);

				var model_strength=$(this).parent().parent().data('model-strength');

				if(model_strength) {
					$('div.sidebar input.model_strength').val(model_strength);
					updateModelStrengthRange();
				}

				var place=$(this).parent().parent().data('place');
				$('div.sidebar select.place').val(place);

				var camera=$(this).parent().parent().data('camera');
				$('div.sidebar select.camera').val(camera);

				var film=$(this).parent().parent().data('film');
				$('div.sidebar select.film').val(film);

				// default upscaler to 2x
				$('div.sidebar select.final_upscaler').val('clarity_2x');
			// </get prompt data>


			$('.action-take-photo').addClass('blinking');

			// disable because we only want prompt copy not CARBON COPY root prompt, but less user enable it
			// $('div.sidebar .manual_seed_active').prop('checked',false).change();

			var seed=$(this).parent().parent().data('seed');
			$('input.manual_seed').val(seed).change();

			if($('div.sidebar .manual_seed_active').prop('checked')) {
				// if copying seed, and manual seed already active, don't run 16 photos for it, just make 1
				$('select.amount_of_photos').val('1').change();
			}

			// scroll up to model because we have changed the model
			if(weHaveChangedTheModelForUser) {
				$('.sidebar').animate({
					scrollTop:
					-$('.sidebar').offset().top+$('.sidebar').scrollTop()+$('.sidebar .model_id').offset().top-28
				},500);
			}
			else {
				$('.sidebar').animate({
					scrollTop:
					-$('.sidebar').offset().top+$('.sidebar').scrollTop()+$('.sidebar div.prompt_mode .h3_input').offset().top-14
				},500);
			}

		});



		$('body').on('click','.action-carbon-copy',function(event) {
			event.stopPropagation();



				if($('.image_viewer').is(':visible')) {
					$('.image_viewer_backdrop').click();
				}

				if($('.hero .cta-box .input_confirm_email').val().trim()=='') {
					$('html').animate({
						scrollTop:
						-$('html').offset().top+$('.hero .cta-box').scrollTop()+$('.hero .cta-box ').offset().top-28
					},500);
					$('.hero .cta-box .input_confirm_email').focus();
					return;
				}

			$('.select_mode').val('prompt').change();

			var photo_id=$(this).parent().parent().data('photo-id');

			var weHaveChangedTheModelForUser=false;


			$('h3.expands_next_div.advanced_features').addClass('expanded');
			$('.expandable_div.advanced_features').addClass('expanded');

			if(!$(this).parent().parent().hasClass('example')) {
				// if example img, don't ask to change model
				// <auto select the model used for image>
					// when copying prompt, auto select the model used for image
					// because if you copy prompt for AI Valentina photo you don't
					// want AI Pieter to generate it for example
					//
					// don't ask for confirm() here like with copy prompt because it's root prompt
					//
					var photo_model_id=$(this).parent().parent().data('model-id');
					if($('select.model_id').val()!=photo_model_id) {
						if($('select.model_id option[value="'+photo_model_id+'"]').length) {
							$('select.model_id').val(photo_model_id).change();
						}
					}
				// </auto select the model used for image>
			}

			var root_prompt=$(this).parent().parent().data('root-prompt');
			$('div.sidebar textarea.manual_prompt').val('root '+root_prompt).change();

			var root_negative_prompt=$(this).parent().parent().data('root-negative-prompt');
			$('div.sidebar textarea.manual_negative_prompt').val('root '+root_negative_prompt).change();

			// var manual_prompt=$(this).parent().parent().data('manual-prompt');
			// $('textarea.manual_prompt').val(manual_prompt).change();

			// var manual_negative_prompt=$(this).parent().parent().data('manual-negative-prompt');
			// $('textarea.manual_negative_prompt').val(manual_negative_prompt).change();

			var guidance_scale=$(this).parent().parent().data('guidance-scale');
			$('div.sidebar .manual_prompt_strength').val(guidance_scale);

			var upscale_strength=$(this).parent().parent().data('upscale-strength');
			$('div.sidebar .upscale_strength').val(upscale_strength);

			var face_fix=$(this).parent().parent().data('face-fix');
			$('div.sidebar .face_fix').val(face_fix);

			var steps=$(this).parent().parent().data('steps');
			$('div.sidebar .steps').val(steps);

			var sampler=$(this).parent().parent().data('sampler');
			if(sampler!='') {
				$('div.sidebar .sampler').val(sampler).change();
			}

			$('.action-take-photo').addClass('blinking');
			$('div.sidebar .manual_seed_active').prop('checked',true).change();
			var seed=$(this).parent().parent().data('seed');
			$('div.sidebar input.manual_seed').val(seed).change();

			// scroll up to model because we have changed the model
			if(weHaveChangedTheModelForUser) {
				$('.sidebar').animate({
					scrollTop:
					-$('.sidebar').offset().top+$('.sidebar').scrollTop()+$('.sidebar .model_id').offset().top-28
				},500);
			}
			else {
				$('.sidebar').animate({
					scrollTop:
					-$('.sidebar').offset().top+$('.sidebar').scrollTop()+$('.sidebar div.prompt_mode .manual_prompt').offset().top-14
				},500);
			}

		});


		// $('body').on('click','.action-google-lens',function(event) {
		// 	event.stopPropagation();

		// 			// 		if($('.hero .cta-box .input_confirm_email').val().trim()=='') {
		// 			$('html').animate({
		// 				scrollTop:
		// 				-$('html').offset().top+$('.hero .cta-box').scrollTop()+$('.hero .cta-box ').offset().top-28
		// 			},500);
		// 			$('.hero .cta-box .input_confirm_email').focus();
		// 			return;
		// 		}
		// 			// 	var photo_url='http://photoai.com/cdn-cgi/image/format=jpeg,fit=cover,width=512,quality=50/'+$(this).parent().parent().find('.output_image').data('original-src');
		// 	var url='https://lens.google.com/uploadbyurl?url='+encodeURIComponent(photo_url)+'&safe=off';
		// 	console.log('google lens url',url);
		// 	window.open(url,'_blank');
		// });

		$('body').on('click','.action-google-lens',function(event) {
			event.stopPropagation();

							if($('.hero .cta-box .input_confirm_email').val().trim()=='') {
					$('html').animate({
						scrollTop:
						-$('html').offset().top+$('.hero .cta-box').scrollTop()+$('.hero .cta-box ').offset().top-28
					},500);
					$('.hero .cta-box .input_confirm_email').focus();
					return;
				}


			if($(this).parent().hasClass('image_viewer_buttons')) {
				// image viewer download button
				var photo_id=$('.image_viewer').data('photo-id');
			}
			else {
				// photo box hover download button
				var photo_id=$(this).parent().parent().data('photo-id');
			}



			var url='/lens?hash=&photo_id='+encodeURIComponent(photo_id);
			console.log('lens url',url);
			window.open(url,'_blank');
		});

		$('body').on('click','.action-copycat',function(event) {
			event.stopPropagation();


				if($('.image_viewer').is(':visible')) {
					$('.image_viewer_backdrop').click();
				}

				if($('.hero .cta-box .input_confirm_email').val().trim()=='') {
					$('html').animate({
						scrollTop:
						-$('html').offset().top+$('.hero .cta-box').scrollTop()+$('.hero .cta-box ').offset().top-28
					},500);
					$('.hero .cta-box .input_confirm_email').focus();
					return;
				}

			if(!confirm("Do you want to copy this photo?")) {
				return;
			}



			if($(this).parent().hasClass('image_viewer_buttons')) {
				// image viewer download button
				var photo_id=$('.image_viewer').data('photo-id');
				copycatWidth=$('.image_viewer').data('width');
				copycatHeight=$('.image_viewer').data('height');
				// close image viewer
				$('.image_viewer_backdrop').click();
			}
			else {
				// photo box hover download button
				var photo_id=$(this).parent().parent().data('photo-id');
				copycatWidth=$(this).parent().parent().find('.output_image').data('width');
				copycatHeight=$(this).parent().parent().find('.output_image').data('height');
			}


			$('div.copycat_mode .h3_input').addClass('expanded');
			$('div.copycat_mode .expandable_div').addClass('expanded');
			$('.sidebar').animate({scrollTop:-$('.sidebar').offset().top+$('.sidebar').scrollTop()+$('div.copycat_mode').eq(0).offset().top-14});

			// <auto select the model used for image>
				// when copycating, auto select the model used for image
				// because if you copycat a AI Valentina photo you don't
				// want AI Pieter to generate it
				var photo_model_id=$(this).parent().parent().data('model-id');
				if($('select.model_id').val()!=photo_model_id) {
					if(confirm("Your current model selected is ["+$('select.model_id option:selected').text().trim()+"], do you want to change it to ["+$('select.model_id option[value="'+photo_model_id+'"]').text().trim()+"]?")) {
						$('select.model_id').val(photo_model_id).change();
					}
				}
			// </auto select the model used for image>

			var src=$(this).parent().parent().find('.output_image').prop('src');

			var manual_prompt=$(this).parent().parent().data('manual-prompt');
			$('.sidebar textarea.manual_prompt').val(manual_prompt).change();

			var manual_negative_prompt=$(this).parent().parent().data('manual-negative-prompt');
			$('.sidebar textarea.manual_negative_prompt').val(manual_negative_prompt).change();


			var sampler=$(this).parent().parent().data('sampler');
			if(sampler!='') {
				$('div.sidebar select.sampler').val(sampler).change();
			}

			var guidance_scale=$(this).parent().parent().data('guidance-scale');
			$('div.sidebar select.manual_prompt_strength').val(guidance_scale);

			var upscale_strength=$(this).parent().parent().data('upscale-strength');
			$('div.sidebar select.upscale_strength').val(upscale_strength);

			var face_fix=$(this).parent().parent().data('face-fix');
			$('div.sidebar select.face_fix').val(face_fix);

			var steps=$(this).parent().parent().data('steps');
			$('div.sidebar select.steps').val(steps);

			$('.action-take-photo').addClass('blinking');

			// disable because we only want prompt copy not CARBON COPY root prompt
			// $('div.copycat_mode .manual_seed_active').prop('checked',false).change();

			var seed=$(this).parent().parent().data('seed');
			$('input.manual_seed').val(seed).change();






			$('.div_copycat_uploader').removeClass('collapsed');
			$('.div_copycat_uploader').addClass('active');

			// $('.div_copycat_uploader .img_copycat').attr('src','data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==');

			$('.div_copycat_uploader .loading_spinner').show();
			$('.div_copycat_uploader .img_copycat').attr('src',src);
			$('.div_copycat_uploader .img_copycat').bind('load',function() {
				$('.div_copycat_uploader .loading_spinner').hide();
			})

			copycatId='photo-id-'+photo_id;

			if($('.copycat_strength').val()=='0'){
				$('.copycat_strength').val(0.3);
			}

			$('.sidebar').animate({
				scrollTop:
				-$('.sidebar').offset().top+$('.sidebar').scrollTop()+$('.sidebar .div_copycat_uploader').offset().top-56
			},500);



			// $('.action-take-photo').eq(0).click();
		});

		$('body').on('click','.action-edit',function(event) {
			event.stopPropagation();



				if($('.image_viewer').is(':visible')) {
					$('.image_viewer_backdrop').click();
				}

				if($('.hero .cta-box .input_confirm_email').val().trim()=='') {
					$('html').animate({
						scrollTop:
						-$('html').offset().top+$('.hero .cta-box').scrollTop()+$('.hero .cta-box ').offset().top-28
					},500);
					$('.hero .cta-box .input_confirm_email').focus();
					return;
				}



			if($(this).parent().hasClass('image_viewer_buttons')) {
				// image viewer download button
				var photo_id=$('.image_viewer').data('photo-id');
			}
			else {
				// photo box hover download button
				var photo_id=$(this).parent().parent().data('photo-id');
			}

			var url='/editor?hash=&photo_id='+photo_id;
			window.open(url,'_blank');

		});


		$('body').on('click','.action-view-raw',function(event) {
			event.stopPropagation();

			var preprocessedImageAsDataSrc=$(this).parent().parent().find('.output_image').data('preprocessed-src');

			window.open(preprocessedImageAsDataSrc,'_blank');
		});


		// $('body').on('click','.action-zoom-out',function(event) {
		// 	event.stopPropagation();


		// 			// 		if($('.hero .cta-box .input_confirm_email').val().trim()=='') {
		// 			$('html').animate({
		// 				scrollTop:
		// 				-$('html').offset().top+$('.hero .cta-box').scrollTop()+$('.hero .cta-box ').offset().top-28
		// 			},500);
		// 			$('.hero .cta-box .input_confirm_email').focus();
		// 			return;
		// 		}
		//
		// 	if(!confirm("Do you want to zoom out on this photo?")) {
		// 		return;
		// 	}

		// 	// <auto select the model used for image>
		// 		// when zooming out, auto select the model used for image
		// 		// because if you copycat a AI Valentina photo you don't
		// 		// want AI Pieter to generate it
		// 		//
		// 		// altho this doesn't change much yet now because we use generic model for zooming out but later we can use the model itself for it
		// 		var photo_model_id=$(this).parent().parent().data('model-id');
		// 		if($('select.model_id').val()!=photo_model_id) {
		// 			if(confirm("Your current model selected is ["+$('select.model_id option:selected').text().trim()+"], do you want to change it to ["+$('select.model_id option[value="'+photo_model_id+'"]').text().trim()+"]?")) {
		// 				$('select.model_id').val(photo_model_id).change();
		// 			}
		// 		}
		// 	// </auto select the model used for image>


		// 	$('.select_mode').val('copycat').change();

		//
		// 	var photo_id=$(this).parent().parent().data('photo-id');
		// 	copycatWidth=$(this).parent().parent().find('.output_image').data('width');
		// 	copycatHeight=$(this).parent().parent().find('.output_image').data('height');

		// 	var src=$(this).parent().parent().find('.output_image').data('preprocessed-src');

		// 	$('.div_copycat_uploader').removeClass('collapsed');
		// 	$('.div_copycat_uploader').addClass('active');

		// 	// set zoom
		// 	$('.select_zoom').val('zoom out');

		// 	// set amount of images to 4 max for zoom cause expensive
		// 	if($('select.amount_of_photos').val()>4) {
		// 		$('select.amount_of_photos').val('4').change();
		// 	}

		// 	$('div.copycat_mode .manual_prompt').val('').removeClass('active');

		// 	$('.div_copycat_uploader .img_copycat').attr('src',src);

		// 	copycatId='photo-id-'+photo_id;

		// 	if($('.copycat_strength').val()=='0') {
		// 		$('.copycat_strength').val(0.3);
		// 	}

		// 	$('.sidebar').animate({
		// 		scrollTop:
		// 		-$('.sidebar').offset().top+$('.sidebar').scrollTop()+$('.sidebar .div_copycat_uploader').offset().top-14
		// 	},500);

		// 	$('.action-take-photo').eq(0).click();
		// });

		$('body').on('click','.action-trash-photo',function(event){
			event.stopPropagation();


							if($('.hero .cta-box .input_confirm_email').val().trim()=='') {
					$('html').animate({
						scrollTop:
						-$('html').offset().top+$('.hero .cta-box').scrollTop()+$('.hero .cta-box ').offset().top-28
					},500);
					$('.hero .cta-box .input_confirm_email').focus();
					return;
				}


			// if(!confirm("Do you want to delete this photo?")) {
			// 	return;
			// }

			// move photo to trash folder

			if(selectedFolder!='trash') {
				// if already in trash, don't add it back to trash, but nuke it
				if($('.div_output_images.trash .div_output_image').length) {
					// only save, if saved folder loaded
					$('.div_output_images.trash').prepend($(this).parent()[0].outerHTML);
				}
			}

			// now delete photo from current folder
			if($(this).parent().hasClass('image_viewer')) {
				// deleting from image viewer
				var to_delete_photo_id=$(this).parent().data('photo-id');

				console.log('to_delete_photo_id = '+to_delete_photo_id);

				$('.image_viewer_arrow_right').click();
				// delete from gallery too
				$('.div_output_image[data-photo-id="'+to_delete_photo_id+'"').remove();
				console.log('removing '+to_delete_photo_id);
			}
			else {
				// deleting from gallery
				var to_delete_photo_id=$(this).parent().data('photo-id');


				console.log($(this).parent().parent().prev().hasClass('.job_divider_prompt'));
				console.log($(this).parent().parent().prev().hasClass('.job_divider'));

				// remove remaining job dividers
				if(
					$('.div_output_image.photo-'+to_delete_photo_id).prev().hasClass('job_divider_prompt') &&
					$('.div_output_image.photo-'+to_delete_photo_id).next().hasClass('job_divider')
				) {
					var a=$('.div_output_image.photo-'+to_delete_photo_id).prev('.job_divider_prompt').prev('.job_divider');
					var b=$('.div_output_image.photo-'+to_delete_photo_id).prev('.job_divider_prompt');
					a.remove();
					b.remove();
				}

				$(this).parent().remove();
			}

			$.ajax({
				async:true,
				url: '/?action=trash-photo&hash=&photo_id='+to_delete_photo_id,
				dataType:'json',
			}).done(function(reply) {
				if(reply.message) {
					alert(reply.message);
				}
			});
		});


		$('body').on('click','.action-save-photo',function(event){
			event.stopPropagation();


							if($('.hero .cta-box .input_confirm_email').val().trim()=='') {
					$('html').animate({
						scrollTop:
						-$('html').offset().top+$('.hero .cta-box').scrollTop()+$('.hero .cta-box ').offset().top-28
					},500);
					$('.hero .cta-box .input_confirm_email').focus();
					return;
				}

			$(this).addClass('saved');

			// move photo to saved folder
			if($('.div_output_images.saved .div_output_image').length) {
				// only save, if saved folder loaded
				$('.div_output_images.saved').prepend($(this).parent()[0].outerHTML);
			}

			if($(this).parent().hasClass('image_viewer')) {
				// save from image viewer
				var photo_id=$(this).parent().data('photo-id');
				// save in gallery too
				$('.div_output_image[data-photo-id="'+photo_id+'"').addClass('saved');
				$('.div_output_image[data-photo-id="'+photo_id+'"] .action-save-photo').addClass('saved');
			}

			// if we are in trash, remove photo from trash now it's saved again
			if(selectedFolder=='trash') {
				// also move it back to camera folder
				$('.div_output_images.camera').prepend($(this).parent()[0].outerHTML);
				$(this).parent().remove();
			}

			$(this).parent().addClass('saved');

			console.log("$('.action-save-photo').bind('click',function() {");
			$.ajax({
				async:true,
				url: '/?action=save-photo&hash=&photo_id='+$(this).parent().data('photo-id'),
				dataType:'json',
			});
		});






		// <image2video>
			$('body').on('click','.action-make-video',function(event) {
				event.stopPropagation();

				var makeVideoFromVideo=false;
				if($(this).parent().parent().hasClass('video')) {
					makeVideoFromVideo=true;
					if(!confirm("Do you want to make another video from the original photo? This will cost 5 photo credits")) {
						return;
					}
				}
				else {
					if(!confirm("Do you want to turn this photo into a video? This will cost 5 photo credits. It can take up to 10 minutes to make a video but usually shorter!")) {
						return;
					}
				}

				if($(this).parent().hasClass('image_viewer_buttons')) {
					// image viewer download button
					var photo_url=$('.image_viewer').data('original-src');
					var model_id=$('.image_viewer').data('model-id');
					var photo_id=$('.image_viewer').data('photo-id');
					// close image viewer
					$('.image_viewer_backdrop').click();
				}
				else {
					// photo box hover download button
					var model_id=$(this).parent().parent().data('model-id');
					var photo_id=$(this).parent().parent().data('photo-id');
					var photo_url=$(this).parent().parent().find('.output_image').data('original-src');
					if(makeVideoFromVideo) {
						// user wants to make a video from another video so we need to use the underlying photo as a preview for that
						// this is set as the video's thumbnail called poster
						var photo_url=$(this).parent().parent().find('.output_image').data('original-photo-url');
						console.log('poster='+photo_url);
					}
				}



				var params={
					original_photo_id:photo_id
				};

				if(!photo_id) {
					alert("Cannot find photo id");
					return;
				}

				$.ajax({
					async:true,
					url: '/?action=make-video&hash=',
					dataType:'json',
					data:params,
					type: 'POST',
					error: function(xhr,status,error){

					},
				}).done(function(reply) {
					// alert("Video being made, come back in a few minutes and reload the page then because it's a beta so it's still a bit funky");

					video=reply.photos[0];

					// video['status']='processing';


					// hack to show the image as a video placeholder
					video['video']=1;

					video['status']='postprocessing';

					video['preprocessed_photo_url']=photo_url;
					video['original_photo_url']=photo_url;

					video['width']=512;
					video['height']=768

					console.log('plcaeholder video',video);


					var html=makePhotoBox(video);

					// add one
					$('.div_output_images.camera').prepend(
						html
					);

					// <start poller for each image>
						loadingSpinnerStep(video['photo_id']);
						setTimeout(waitForServerToGenerate,(pollIntervalTime*2*Math.random()),video['photo_id'],'poll_for_preprocessed');
					// </start poller for each image>


				});



			});

		// </image2video>


		// <image viewer>


			// <open/close image viewer>
				$('body').on('click','.action-view-image',function(event) {
					event.stopPropagation();

											// instead open the public photo page!
						return;

					$('.image_viewer img').unbind('load');

					if(isMetaOrShiftKeyPressed(event)) {
						// if modifier key or shift key pressed, open in new tab
						// hold ctrl or shift to open in new tab
						var url=$(this).parent().parent().find('.output_image').data('original-src');
						window.open(url,'_blank');
						return;
					}

					$('.loading_spinner.main').show();
					$('.image_viewer_backdrop').show();

					$('.image_viewer img').addClass('loading');
					console.log('added [loading] class');


					var is_video=false;
					if($(this).data('photo-id')) {
						// make clickable frontpage "Upload your selfies and start taking AI photos in 30 minutes" output photo clickable
						var photo_id=$(this).data('photo-id');
						var originalSrc=$(this).data('original-src');
					}
					else {
						var is_video=$(this).parent().parent().hasClass('video');
						var photo_id=$(this).parent().parent().data('photo-id');
						var originalSrc=$(this).parent().parent().find('.output_image').data('original-src');
					}

					$('.image_viewer').data('photo-id',
						photo_id
					);

					$('.image_viewer img').attr('src',
							//
							// load image in gallery already loaded as src first until big image loads
							//
							$(this).parent().parent().find('.output_image').attr('src')
					);

					if($(this).parent().parent().hasClass('remove_background')) {
						$('.image_viewer').addClass('remove_background');
						$('.image_viewer .action-save-photo').addClass('remove_background');
					}
					if($(this).parent().parent().hasClass('saved')) {
						$('.image_viewer').addClass('saved');
						$('.image_viewer .action-save-photo').addClass('saved');
					}
					else {
						$('.image_viewer').removeClass('saved');
						$('.image_viewer .action-save-photo').removeClass('saved');
					}
					if($(this).parent().parent().hasClass('frontpaged')) {
						$('.image_viewer').addClass('frontpaged');
						$('.image_viewer .action-put-photo-on-frontpage').addClass('frontpaged');
					}
					else {
						$('.image_viewer').removeClass('frontpaged');
						$('.image_viewer .action-put-photo-on-frontpage').removeClass('frontpaged');
					}

					$('.image_viewer').show();

					$('.image_viewer img').css('background-image','url('+
							//
							// load image in gallery already loaded as bg first until big image loads
							//
							$(this).parent().parent().find('.output_image').attr('src')+
						')'
					);


					$('.image_viewer').data('original-src',originalSrc);

					if(is_video) {
						// view video
						$('.image_viewer img').hide();
						$('.image_viewer').addClass('video');
						$('.image_viewer video').attr('src',originalSrc).show();
						$('.loading_spinner.main').hide();
					}
					else {
						// view image
						$('.image_viewer video').hide();
						$('.image_viewer').removeClass('video');
						// add timer because we first want to load the low res image into src above
						// then load the full res image
						setTimeout(function(originalSrc) {
							console.log(originalSrc);

							$('.image_viewer img').show();
							$('.image_viewer img').addClass('loading');
							console.log('added [loading] class 2');

							$('.image_viewer img').attr('src',
								//
								// add CDN because the 4MB PNG files are too slow to load
								// and they can always DOWNLOAD the full res file instead
								//

							// if u change this also change it below in the imageViewerGoPrevOrNextImage('prev') and imageViewerGoPrevOrNextImage('next') function and view-image bind
								//'https://photoai.com/cdn-cgi/image/format=jpeg,width=1536,quality=75/'+
								originalSrc
							);

							$('.image_viewer img').bind('load',function() {
								console.log('image viewer image loaded: '+$(this).attr('src'));
								$('.loading_spinner.main').hide();
								$(this).removeClass('loading');
								console.log('removed [loading] class');
								$('.image_viewer img').unbind('load');
							});

						},10,originalSrc);
					}


				});

			// </open/close image viewer>


			$('body').on('click','.image_viewer',function(event) {

				if(isMetaOrShiftKeyPressed(event)) {
					// if modifier key or shift key pressed, open in new tab
					// hold ctrl or shift to open in new tab
					var url=$(this).data('original-src');
					window.open(url,'_blank');
					return;
				}

				if($(window).width()>600 && !$(this).hasClass('dragging')) {
					// on desktop if image viewer is clicked zoom in to actual size
					if(
						!$(this).hasClass('zoomed-in') &&
						!$(this).hasClass('video') // do not zoom in videos
					) {

						// find where user clicked, and zoom in there

						var imageClickedWhereX=event.pageX-$('.image_viewer').offset().left;
						var imageClickedWhereY=event.pageY-$('.image_viewer').offset().top;
						var imageViewerZoomedOutWidth=$('.image_viewer').width();
						var imageViewerZoomedOutHeight=$('.image_viewer').height();

						console.log('imageClickedWhereX='+imageClickedWhereX,'imageClickedWhereY='+imageClickedWhereY,'imageViewerZoomedOutWidth='+imageViewerZoomedOutWidth,'imageViewerZoomedOutHeight='+imageViewerZoomedOutHeight);

						// now transform the imageClickedWhere vars from the unzoomed image to the zoomed image

						$(this).addClass('zoomed-in');

						var imageViewerZoomedInWidth=$('.image_viewer img').width();
						var imageViewerZoomedInHeight=$('.image_viewer img').height();

						var imageViewerZoomScale=imageViewerZoomedInWidth/imageViewerZoomedOutWidth;
						console.log('imageViewerZoomScale',imageViewerZoomScale);

						$('.image_viewer').scrollLeft(imageClickedWhereX*imageViewerZoomScale-$(window).width()/2);
						$('.image_viewer').scrollTop(imageClickedWhereY*imageViewerZoomScale-$(window).height()/2);

						console.log('imageClickedWhereX='+imageClickedWhereX,'imageClickedWhereY='+imageClickedWhereY,'imageViewerZoomedInWidth='+imageViewerZoomedInWidth,'imageViewerZoomedInHeight='+imageViewerZoomedInHeight);

					}
					else {
						$(this).removeClass('zoomed-in');
					}
				}
				else {
					// on mobile just close image viewer if tapped
					$('.image_viewer_backdrop').click();
				}

			});

			$(document).keyup(function(event) {
				// escape key
				if (event.key === "Escape") {
					$('.image_viewer').removeClass('zoomed-in')
					$('.image_viewer_backdrop').click();
				}
				// avoid press key in textarea input box triggers photo taking
				if($('input,textarea,select').is(':focus')) return;

				// enter key
				// enter button
				// press enter button
				if (event.key === "Enter") {
					if($('.image_viewer').is(':visible')) {
						// save/fav with enter if image viewer open
						$('.image_viewer .action-save-photo').click();
					}
					else {
						// 2023-01-04 remove this because many ppl use ENTER key for diff stuff like copycat upload img then press enter to close window
						// and it then starts taking photos
						// $('.action-take-photo').eq(0).click();
					}
				}

				// backspace button
				if (event.key === "Backspace") {
					// if image viewer open and backspace is pressed, delete photo
					if($('.image_viewer').is(':visible')) {
						$('.image_viewer .action-trash-photo').click();
					}
				}
			});

			$('body').on('click','.image_viewer_backdrop',function() {
				$('.image_viewer_backdrop').hide();
				$('.image_viewer_bottom_gallery').hide();
				$('.loading_spinner.main').hide();
				$('.image_viewer').hide().attr('src','');
				$('.image_viewer img').attr('src','');
				$('.image_viewer').removeClass('zoomed-in');
			});

			// <swipe image viewer left or right>
				var imageViewerSwipeStartX, imageViewerSwipeEndX;
				var imageViewerSwipeThreshold = 100; // Minimum distance needed to consider it a imageViewerSwipe

				$('.image_viewer img').on('touchstart', function(event) {
					var touch = event.originalEvent.touches[0];
					imageViewerSwipeStartX = touch.pageX;
				});

				$('.image_viewer img').on('touchmove', function(event) {
					var touch = event.originalEvent.touches[0];
					imageViewerSwipeEndX = touch.pageX;
				});

				$('.image_viewer img').on('touchend', function(event) {
					if (imageViewerSwipeStartX && imageViewerSwipeEndX) {
						var swipeDistance = imageViewerSwipeEndX - imageViewerSwipeStartX;

						if (Math.abs(swipeDistance) > imageViewerSwipeThreshold) {
							// Swipe detected
							if (swipeDistance > 0) {
								// Swipe right detected
								imageViewerGoPrevOrNextImage('prev');
							} else {
								// Swipe left detected
								imageViewerGoPrevOrNextImage('next');
							}
						}
					}
					// Reset values
					imageViewerSwipeStartX = null;
					imageViewerSwipeEndX = null;
				});
			// </swipe image viewer left or right>


			$(window).keydown(function(event){
				//
				// move through output gallery with arrow keys
				//
				if(!$('.image_viewer').is(':visible')) return;

				//
				// left arrow left key
				//
				if(event.which==37) {
					imageViewerGoPrevOrNextImage('prev');
				}

				//
				// right arrow right key
				//
				if(event.which==39) {
					imageViewerGoPrevOrNextImage('next');
				}
			});
			$('.image_viewer_arrow_left').bind('click',function(event) {
					event.stopPropagation();
					imageViewerGoPrevOrNextImage('prev');
			});
			$('.image_viewer_arrow_right').bind('click',function(event) {
					event.stopPropagation();
					imageViewerGoPrevOrNextImage('next');
			});

			function imageViewerGoPrevOrNextImage(prevOrNext) {
				console.log('imageViewerGoPrevOrNextImage');

				var src=$('.image_viewer').attr('src');
				var photo_id=$('.image_viewer').data('photo-id');

				if(prevOrNext=='next') {
					var new_image=$('.div_output_images .div_output_image:not(.placeholder)[data-photo-id="'+photo_id+'"]').nextAll('.div_output_image:not(.placeholder).finished').eq(0);
				}
				else if(prevOrNext=='prev') {
					var new_image=$('.div_output_images .div_output_image:not(.placeholder)[data-photo-id="'+photo_id+'"]').prevAll('.div_output_image:not(.placeholder).finished').eq(0);
				}

				$('.div_output_images .div_output_image').removeClass('current');
				new_image.addClass('current');

				console.log('imageViewerGoNextImage new_image.length = '+new_image.length);

				if(new_image.length) {

					//
					// scroll to next image in gallery
					//
					$('.section.main').scrollTop(
						-$('.section.main').offset().top+$('.section.main').scrollTop()+new_image.offset().top-14
					);
					// for mobile scroll with entire body
					$('html').scrollTop(
						new_image.offset().top-14
					);


					$('.image_viewer').removeClass('saved');
					$('.image_viewer .action-save-photo').removeClass('saved');
					$('.image_viewer').removeClass('frontpaged');
					$('.image_viewer .action-put-photo-on-frontpage').removeClass('frontpaged');

					// save previous image viewer zoomed in scroll position
					if($('.image_viewer').hasClass('zoomed-in')) {
						imageViewerZoomedInX=$('.image_viewer').scrollLeft();
						imageViewerZoomedInY=$('.image_viewer').scrollTop();
					}

					var next_photo_id=new_image.data('photo-id');


					if($('.div_output_images .div_output_image:not(.placeholder)[data-photo-id="'+next_photo_id+'"]').hasClass('remove_background')) {
						$('.image_viewer').addClass('remove_background');
						$('.image_viewer .action-save-photo').addClass('remove_background');
					}
					if($('.div_output_images .div_output_image:not(.placeholder)[data-photo-id="'+next_photo_id+'"]').hasClass('saved')) {
						$('.image_viewer').addClass('saved');
						$('.image_viewer .action-save-photo').addClass('saved');
					}
					if($('.div_output_images .div_output_image:not(.placeholder)[data-photo-id="'+next_photo_id+'"]').hasClass('frontpaged')) {
						$('.image_viewer').addClass('frontpaged');
						$('.image_viewer .action-put-photo-on-frontpage').addClass('frontpaged');
					}

					$('.image_viewer').data('photo-id',
						next_photo_id
					);
					console.log(new_image.data('photo-id'));

					$('.image_viewer img').attr('src','');
					$('.image_viewer img').unbind('load');


					if(new_image.hasClass('video')) {
						var originalSrc=new_image.find('.output_image').attr('src');
						console.log(originalSrc);

						$('.image_viewer img').hide();
						$('.image_viewer').addClass('video');
						$('.image_viewer video').attr('src',originalSrc).show();
					}
					else {
						$('.image_viewer img').show();
						$('.image_viewer video').hide();
						$('.image_viewer').removeClass('video');

						var originalSrc=new_image.find('.output_image').data('original-src');
						var gallerySrc=new_image.find('.output_image').attr('src');

						if(!$('.image_viewer').hasClass('zoomed-in')) {
							$('.image_viewer img').attr('src',
								//
								// load image in gallery already loaded as img first until big image loads
								//
								gallerySrc
							);
							$('.image_viewer img').css('background-image','url('+
									//
									// load image in gallery already loaded as bg first until big image loads
									//
									gallerySrc+
								')'
							);
						}


						$('.image_viewer').data('original-src',originalSrc);

						$('.loading_spinner.main').show();

						$('.image_viewer img').addClass('loading');

						// add timer because we first want to load the low res image into src above
						// then load the full res image
						setTimeout(function(originalSrc) {
							$('.image_viewer img').attr('src',
								//
								// add CDN because the 4MB PNG files are too slow to load
								// and they can always DOWNLOAD the full res file instead

								//
								// if u change this also change it below in the imageViewerGoPrevOrNextImage('next') function and view-image bind
								// 'https://photoai.com/cdn-cgi/image/format=jpeg,width=1536,quality=75/'+
								originalSrc
							);

							$('.image_viewer img').bind('load',function() {
								console.log('image viewer image loaded: '+$(this).attr('src'));
								$('.loading_spinner.main').hide();
								$(this).removeClass('loading');
								$('.image_viewer img').unbind('load');

								$('.image_viewer').scrollLeft(imageViewerZoomedInX);
								$('.image_viewer').scrollTop(imageViewerZoomedInY);

							});

						},10,originalSrc);
					}

				}
			}

		// </image viewer>


		$('body').on('click','.action-select-photos',function(event) {
			if(
				selectedFolder=='camera' || /* don't allow in other folders */
				selectedFolder=='saved'
			) {
				$('.select-photos-mode-download-bar').hide();
				$('html').toggleClass('select-photos-mode');
				if($('html').hasClass('select-photos-mode')) {
					$('.action-select-photos').text("Cancel select").removeClass('reverse');
				}
				else {
					$('.div_output_image.selected').removeClass('selected');
					$('.action-select-photos').text("Select").addClass('reverse');;
				}
			}
		});

		$('body').on('click','.action-select-all',function(event) {
			$('.div_output_images.'+selectedFolder+' .div_output_image').addClass('selected');
			$('.action-download-selected-photos').text('Download '+$('.div_output_image.selected').length+' photos');
		});


		$('body').on('click','.action-download-selected-photos',function(event) {
			// download the selected photos
			$('.loading_spinner.main').show();
			$('.div_output_image.selected').each(function() {
				$(this).find('.action-download-image').click();
				// unselect after
				$(this).removeClass('selected');
			});

			setTimeout(function() {
				$('.loading_spinner.main').hide();
			},1000);

			$('html').removeClass('select-photos-mode');
			$('.action-select-photos').text("Select").addClass('reverse');

		});

		$('body').on('click','.action-download-image',function(event) {
			event.stopPropagation();

			var is_video=false;
			if($(this).parent().hasClass('image_viewer_buttons')) {
				// image viewer download button
				var url=$('.image_viewer').data('original-src');
				var photo_id=$('.image_viewer').data('photo-id');
				var is_video=$('.image_viewer').hasClass('video');
			}
			else {
				// photo box hover download button
				var url=$(this).parent().parent().find('.output_image').data('original-src');
				var photo_id=$(this).parent().parent().data('photo-id');
				var is_video=$(this).parent().parent().hasClass('video');
				console.log(photo_id);
			}

			var url=url.split('?')[0];

			console.log(url);


			if(is_video) {
				//
				// use CORS fetch blob hack for video download
				//
				fetch(url)
				   // check to make sure you didn't have an unexpected failure (may need to check other things here depending on use case / backend)
				  .then(resp => resp.status === 200 ? resp.blob() : Promise.reject('something went wrong'))
				  .then(blob => {
				    const url = window.URL.createObjectURL(blob);
				    const a = document.createElement('a');
				    a.style.display = 'none';
				    a.href = url;
				    a.download = photo_id;
				    document.body.appendChild(a);
				    a.click();
				    window.URL.revokeObjectURL(url);
				  })
				  .catch(error => {
					// problem downloading, failback to open windwo
					window.open(url,'_blank');
				  });
			}
			else if($(window).width()<800) {
				//
				// on mobile, open window, and they can add to photos
				// cause iOS download dialog is shit
				//
				window.open(url,'_blank')
			}
			else {
			// 	//
			// 	// on desktop, save as download cause easy
			// 	//
				// abuse CF CDN to avoid CORS on R2
				url='https://photoai.com/cdn-cgi/image/format=png,fit=cover,quality=100/'+url;

				var a = document.createElement('a');
				a.href = url;

				// use photo id for download name
				a.download = photo_id;
				document.body.appendChild(a);
				a.click();
				document.body.removeChild(a);

				// <copy to clipboard>
					// Get the image element
					var imgElement = $(this).parent().parent().find('.output_image')[0];

					// Create a canvas element with the image's natural dimensions
					var canvas = document.createElement('canvas');
					canvas.width = imgElement.naturalWidth;  // Full resolution width
					canvas.height = imgElement.naturalHeight;  // Full resolution height

					// Draw the image onto the canvas at full resolution
					var ctx = canvas.getContext('2d');
					ctx.drawImage(imgElement, 0, 0, canvas.width, canvas.height);

					// Convert the canvas to a blob
					canvas.toBlob(function(blob) {
						// Create a new ClipboardItem
						var item = new ClipboardItem({'image/png': blob});

						// Copy the image to the clipboard
						navigator.clipboard.write([item]).then(function() {
							console.log('Image copied to clipboard');
						}).catch(function(error) {
							console.error('Error copying image to clipboard:', error);
						});
					});
				// </copy to clipboard>
			}
		});


		// <make example tab photos click default to copy the prompt>
			$('body').on('click','.div_output_image.example',function(event) {
				// only run this if examples folder selected
				if(selectedFolder!='examples') return;
				event.preventDefault();
				event.stopPropagation();
				/* make image clickable on desktop to view but not on mobile cause no viewer there */
				if($(window).width()>600) {
					if(isMetaOrShiftKeyPressed(event)) {
						// if modifier key or shift key pressed, open in new tab
						var url=$(this).find('.output_image').data('original-src');
						window.open(url,'_blank');
					}
					else {
						$(this).find('.action-copy-prompt').click();
					}
				}
			});
		// </make example tab photos click default to copy the prompt>




		// <make template tab photos click default to copy the prompt>
			$('body').on('click','.div_template',function(event) {

				if($(this).is('a')) {
					// is landing page <a href> tag so ignore our JS code here and exit
					// cause it brings us to the shoot page
					window.location.href=$(this).attr('href');
					console.log('tag is a so we return');
					return false;
				}

				if(userHasBatchTemplateRunning) {
					// don't run double
					return;
				}


				var template=templates[$(this).data('slug')];
				console.log(template);
				var promptCount=template.prompts.length;
				console.log('template.prompts'+template.prompts);
				console.log('template.prompts.length'+template.prompts.length);
				console.log('promptCount'+promptCount);
				var photosPerPrompt=template['photos_per_prompt'];
				console.log('photosPerPrompt'+template['photos_per_prompt']);


				if(
					template['gender'] &&
					currentModelGender!=template['gender']
				) {
					if(template['gender']=='f') {
						alert("This template is only for women, select a woman model first.");
					}
					else {
						alert("This template is only for men, select a different model first.");
					}
					return;
				}

				if(event.originalEvent !== undefined) {
					// ask confirmation if human clicked it
					// if robot just let it go
					if(!confirm("Would you like to take "+(promptCount*photosPerPrompt)+" photos in the ["+template['name']+"] photo pack with model ["+$('select.model_id option:selected').text().trim()+"]? This will cost "+(promptCount*photosPerPrompt)+" photo credits. You can still cancel here if you don't want to continue (press ESC). If you want to continue, press OK and we start the shoot.")) {
						return;

					}
				}



				// clear copycat image if set
				$('.div_copycat_uploader .action-delete-copycat').click();


				//
				// some templates have copycat pics to improve them for example headshots with body pose, set those if set in template
				//
				if(template['copycat_what']) {
					$('.sidebar .copycat_what').val(template['copycat_what']);
					copycatId='template-id-'+template['copycat_template'];
					copycatWidth=512;
					copycatHeight=768;
				}





				$('div.sidebar select.orientation').val('portrait');
				if($('.model_sample.active').hasClass('flux')) {
					$('div.sidebar select.final_upscaler').val('');
					$('div.sidebar select.add_noise').val('');
					$('div.sidebar select.faceswap').val('');
				}
				else {
					$('div.sidebar select.final_upscaler').val('clarity_2x');
				}
				$('div.sidebar select.add_noise').val('');
				$('div.sidebar select.place').val('');
				$('div.sidebar select.emotion').val('');
				$('div.sidebar select.camera').val('');
				$('div.sidebar input.manual_seed_active').prop('checked',false);




				userHasBatchTemplateRunning=true;

				$('.div_output_images.templates .div_template').removeClass('active');
				$(this).addClass('active');

				$('.select_mode').val('prompt').change();

				// set amount of photos
				if($('.model_sample.active').hasClass('flux')) {
					// flux limited to 1
					$('.select_amount_of_photos').val('1').change();
				}
				else if(photosPerPrompt) {
					// 2024-05-12 check if it exists, if not add it, e.g. 16 photos
					// because photos packs have 16 photos per prompt but some plans don't allow user to take 16 photos so just add it then
					if($('.select_amount_of_photos option[value="'+photosPerPrompt+'"]').length){
						$('.select_amount_of_photos').append('<option value="'+photosPerPrompt+'">'+photosPerPrompt+'</option>');
					}
					$('.select_amount_of_photos').val(photosPerPrompt).change();
				}
				else {
					// set to 1 photo
					$('.select_amount_of_photos').val('1').change();
				}

				templateBatchPromptIterator=0;

				// <iterate over all prompts to generate photos for them>
					setTimeout(function(){
						templateDoNextPrompt(template['slug'],templateBatchPromptIterator,event);
						templateBatchPromptIterator++;
					},1000);
				// </iterate over all prompts to generate photos for them>

				return;



			});
		// </make template tab photos click default to copy the prompt>


		// <if change to copycat prompt mode, ask to auto detect prompt for img>
			$('body').on('change','.copycat_what',async function(event) {
				if(copycatId && $(this).val()=='prompt') {
					if(confirm("Do you want me to auto detect the prompt of the photo to copycat?")) {
						$('.action-auto-prompt').click();
					}
				}
			});
		// </if change to copycat prompt mode, ask to auto detect prompt for img>


		$('body').on('click','.div_pose',async function(event) {

			// switch to copycat mode
			$('.select_mode').val('copycat').change();

			// set copy line pose only
			$('.copycat_what').val('line_pose').change();

			// // set prompt
			// $('div.copycat_mode .manual_prompt').text(
			// 	'model '+$(this).find('.div_output_image_meta').text().trim().split(' ')[0].toLowerCase()
			// );

			// scroll down to copycat part
			$('.sidebar').animate({
				scrollTop:
				-$('.sidebar').offset().top+$('.sidebar').scrollTop()+$('.sidebar div.copycat_mode').offset().top-14
			},500);

			// get pose image
			var response=await fetch($(this).find('img').attr('src'));
			var blob=await response.blob();

			// paste pose from clipboard
			uploadCopycatImage(blob);

		});


		$('body').on('click','.div_output_image.finished',function(event) {
			/* make image clickable on desktop to view but not on mobile cause no viewer there */
										$(this).find('.action-view-image').click();
					});




		$(window).on('offline',function(event) {
			$('.loading_spinner.main').show();
			$('.loading_spinner .loading_message').text("Your device seems to be offline, can you check your internet connection?");
			$('.loading_spinner .loading_message').show();
		});

		$(window).on('online',function(event) {
			$('.loading_spinner.main').hide();
			$('.loading_spinner .loading_message').text('');
			$('.loading_spinner .loading_message').hide();
		});




		// <copycat>
			$('.div_copycat_uploader .action-delete-copycat').bind('click',function(event) {
				event.stopPropagation();

				copycatId='';
				$('.div_copycat_uploader').removeClass('active');
				$('.div_copycat_uploader .img_copycat').attr('src','data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==');
				$('.div_copycat_uploader').addClass('collapsed');
				$('.div_copycat_uploader_center').show();

			});

			$('.div_copycat_uploader').bind('click',function() {
				console.log("$('.div_copycat_uploader').bind('click',function() {");

									if($('.hero .cta-box .input_confirm_email').val().trim()=='') {
						$('html').animate({
							scrollTop:
							-$('html').offset().top+$('.hero .cta-box').offset().top-14
						},500);
						$('.hero .cta-box .input_confirm_email').focus();
						return;
					}



				$('.input_copycat_uploader').click();
			});


			$('.input_copycat_uploader').bind('change',function(event) {

				console.log("$('.input_copycat_uploader').bind('change',function(event) {");

				$(this).addClass('disabled');
				var totalFiles = $('.input_copycat_uploader')[0].files.length;

				$('.div_copycat_uploader').addClass('active');
				uploadedFileIds=[];
				uploadedFileURLs=[];

				// filesToUploadDataURLs=[];


			 	if(!totalFiles) return;

				var totalFiles = $('.input_copycat_uploader')[0].files.length;
				$('.div_copycat_uploader .loading_spinner').show();

				var fileIndex=0;

				var file=$('.input_copycat_uploader')[0].files[fileIndex];
				console.log(file.name);
				uploadCopycatImage(file);


			});
		// </copycat>

		// <clothing>
			$('.div_clothing_uploader .action-delete-clothing').bind('click',function(event) {
				event.stopPropagation();

				clothingId='';
				$('.div_clothing_uploader').removeClass('active');
				$('.div_clothing_uploader .img_clothing').attr('src','data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==');
				$('.div_clothing_uploader').addClass('collapsed');
				$('.div_clothing_uploader_center').show();


			});
			$('.div_clothing_uploader').bind('click',function() {
				console.log("$('.div_clothing_uploader').bind('click',function() {");

				$('.input_clothing_uploader').click();
			});


			$('.input_clothing_uploader').bind('change',function(event) {

				console.log("$('.input_clothing_uploader').bind('change',function(event) {");

				$(this).addClass('disabled');
				var totalFiles = $('.input_clothing_uploader')[0].files.length;

				$('.div_clothing_uploader').addClass('active');
				uploadedFileIds=[];
				uploadedFileURLs=[];

				// filesToUploadDataURLs=[];


			 	if(!totalFiles) return;

				var totalFiles = $('.input_clothing_uploader')[0].files.length;
				$('.div_clothing_uploader .loading_spinner').show();

				var fileIndex=0;

				var file=$('.input_clothing_uploader')[0].files[fileIndex];
				console.log(file.name);
				uploadClothingImage(file);


			});
		// </clothing>

		// <training>
			$('.div_training_uploader').bind('click',function() {


				if(checkTrainingRequiredFieldsAreValid()) {
					$('.input_training_uploader').click();
				}

			});

			function checkTrainingRequiredFieldsAreValid() {
				if($('.input_create_model_name').val().trim()=='') {
					$('.input_create_model_name').focus();
					return false;
				}
				if($('.select_create_model_gender').val().trim()=='') {
					$('.select_create_model_gender').focus();
					return false;
				}
				if(
					$('.input_create_model_age').val().trim()=='' &&
					($('.select_create_model_gender').val()=='m' || $('.select_create_model_gender').val()=='f') /* only require for men/women */
				) {
					$('.input_create_model_age').focus();
					return false;
				}
				if(
					$('.select_create_model_ethnicity').val().trim()=='' &&
					($('.select_create_model_gender').val()=='m' || $('.select_create_model_gender').val()=='f') /* only require for men/women */
				) {
					$('.select_create_model_ethnicity').focus();
					return false;
				}
				if(
					$('.select_create_model_eye_color').val().trim()=='' &&
					($('.select_create_model_gender').val()=='m' || $('.select_create_model_gender').val()=='f') /* only require for men/women */
				) {
					$('.select_create_model_eye_color').focus();
					return false;
				}


				return true;
			}

			$('.input_training_uploader').bind('change',async function(event) {

				// hide so user can see the pics being uploaded
				$('div.training_mode .training_examples').hide();

				// <load face detection model>
					await faceapi.loadTinyFaceDetectorModel('/');
				// </load face detection model>

				var totalFiles = $('.input_training_uploader')[0].files.length;

				// <requirements for files>
											if(totalFiles<10) {
							alert("Select at least 10 different photos for training");
							event.preventDefault();
							return false;
						}
									// </requirements for files>

				$(this).addClass('disabled');

				$('.div_training_uploader').addClass('active');
				uploadedFileIds=[];
				uploadedFileURLs=[];
				filesToUploadBlobs=[];
				trainingUploadResemblanceCheckDataURLs=[];
				// filesToUploadDataURLs=[];
				duplicatePhotoFinderMD5=[];
				duplicatePhotosFound=0;
				similarPhotosFound=0;

			 	// start with 0th file, then it will auto go on to the next based on $('.input_training_uploader')[0].files.length; in a sync manner
			 	preprocessImageFromFileUploader(0);

			});

			$('.action-train-model').bind('click',function(event) {



				if(userIsUploading) {
					alert("Already uploading...");
					return;
				}


				// <require name and ethnicity before uploading>
					if($('.input_create_model_name').val().trim()=='') {
						$('.input_create_model_name').focus();
						alert("Enter your model's name");
						event.preventDefault();
						return false;
					}
					if(
						$('.select_create_model_gender').val()=='m' ||
						$('.select_create_model_gender').val()=='f'
					) {
						if($('.select_create_model_gender').val()=='') {
							alert("Select your model's gender");
							$('.select_create_model_gender').focus();
							event.preventDefault();
							return false;
						}
						if($('.input_create_model_age').val().trim()<18) {
							alert("We can only create models over 18");
							event.preventDefault();
							return false;
						}
						if($('.input_create_model_age').val().trim()=='') {
							alert("Enter your model's age");
							$('.input_create_model_age').focus();
							event.preventDefault();
							return false;
						}
						if($('.select_create_model_eye_color').val()=='') {
							alert("Select your model's eye color");
							$('.select_create_model_eye_color').focus();
							event.preventDefault();
							return false;
						}
						if($('.select_create_model_ethnicity').val()=='') {
							alert("Select your model's ethnicity");
							$('.select_create_model_ethnicity').focus();
							event.preventDefault();
							return false;
						}
					}
				// </require name and ethnicity before uploading>



									if($('.hero .cta-box .input_confirm_email').val().trim()=='') {
						$('html').animate({
							scrollTop:
							-$('html').offset().top+$('.hero .cta-box').offset().top-14
						},500);
						$('.hero .cta-box .input_confirm_email').focus();
						return;
					}

				userIsUploading=true;


				uploadProcessedTrainingImages(filesToUploadBlobs);

			});
		// </training>




		$('.label_manual_seed').bind('change click',function() {
			$('.manual_seed_active').click().change();
		});

		$('.manual_seed_active').bind('change click',function() {
			$('.manual_seed').change();
			if($(this).is(':checked')) {
				// if seed enabled, set amount of photos to 1
				$('.select_amount_of_photos').val('1').change();
			}
		});

		$('.manual_seed').bind('change click',function() {
			if(
				$(this).val()!='' &&
				$(this).parent().parent().find('.manual_seed_active').is(':checked')
			) {
				$(this).addClass('active');
			}
			else {
				$(this).removeClass('active');
			}
		});

		$('.show-outline-if-active').bind('change click',function() {
			// set active so user knows they prompt is overriding stuff
			if($(this).val()!='') {
				// is active
				$(this).addClass('active');
			}
			else {
				// is not active
				$(this).removeClass('active');
			}
		});

		$('div.design_mode textarea.manual_prompt').bind('change',function() {
			// set active so user knows they prompt is overriding stuff
			if($(this).val()!='') {

				// prompt is active
				$(this).addClass('active');

				// <empty the select boxes because manual prompt overrides them>
					$('div.design_mode select').each(function() {

						if($(this).hasClass('amount_of_photos')) return;
						if($(this).hasClass('orientation')) return;

						var options=$(this).find('option');

						$(this).val(
							''
						);
					});
				// <empty the select boxes because manualprompt overrides them>

			}
			else {
				// prompt is not active
				$(this).addClass('remove');
			}
		});


		// $('select.orientation').bind('change',function() {
		// 	if($(this).val()=='landscape') {
		// 		alert("FYI: landscape-oriented photos look worse than portrait and will have less resemblance as the AI has a harder time with them. I'm improving this in the future!");
		// 	}
		// });


		// <take photo>
			$('.action-take-photo').bind('click',function() {

				// take photo action
				// action take photo

				// if(userIsTakingPhotoNow) {
				// 	// don't let user take multiple photo sets, wait until last set finished first
				// 	return;
				// }

				// $(this).addClass('disabled');


				if($('.photo_search').val()) {
					// if searching, empty search and loadPhotos again with forceReload=true
					// then callback with take photo
					$('.photo_search').val('');
					loadPhotos(selectedFolder,function() {
						$('.action-take-photo').click();
					},true);
					return;
				}


				if($('html').hasClass('select-photos-mode')) {
					$('html').removeClass('select-photos-mode');
				}
				$('html').addClass('taking-photos');
				// userIsTakingPhotoNow=true;



									if($('.hero .cta-box .input_confirm_email').val().trim()=='') {
						$('html').animate({
							scrollTop:
							-$('html').offset().top+$('.hero .cta-box').offset().top-14
						},500);
						$('.hero .cta-box .input_confirm_email').focus();
						return;
					}




				if(autoDetectingPromptNow) {
					return;
				}


				// <subscribe web push when taking photo>
					//
					// many browsers like iOS Safari need a user action before being able
					// to subscribe to web push notifications, so take photo is a good action for it
					//
											if(!webPushSubscribedAlready) {

															alert("We can send you a push notification when your photos are done. If you want to get them, press [ Allow ] on the next popup")

							webPushSubscribedAlready=true;

							if (!("Notification" in window) || !("PushManager" in window)) {
								console.error("This browser does not support desktop notification");
							}
							else {
								Notification.requestPermission().then(permission => {
									if (permission === "granted") {
										console.log("Web push permission granted");
									} else {
										console.error("Web push permission denied");
									}
								});

								// Register the service worker
								navigator.serviceWorker.register('/webPushServiceWorker.js').then(registration => {
									console.log('Web push service worker registered:', registration);
								}).catch(error => {
									console.error('Web push service worker registration failed:', error);
								});

								// Sub to push
								navigator.serviceWorker.ready.then(registration => {
									registration.pushManager.subscribe({
										userVisibleOnly: true,
										applicationServerKey: "BH_40oBLW3CNu-Eo_XPrABHr0oCaK66qvl6iJ3MIq0PJDiGKHJt6phCEkUTPuCrhKR6eJgQtrcrMQxHDxR8lzhg"									}).then(subscription => {
										// Send this subscription object to your server
											fetch('/?action=web-push-subscribe&hash=', {
												method: 'POST',
												headers: {
													'Content-Type': 'application/json'
												},
												body: JSON.stringify(subscription)
											}).then(response => {
												if (response.ok) {
													console.log('Web push subscription data sent to server successfully.');
												} else {
													console.error('Failed to send subscription data to server.');
												}
											});
										// Send this subscription object to your server
									}).catch(error => {
										console.error('Web push subscription failed:', error);
									});
								});
							}
						}
									// </subscribe web push when taking photo>




				if(!$('.sidebar .model_id').val()) {
					$('.sidebar').animate({
						scrollTop:
						-$('.sidebar').offset().top+$('.sidebar').scrollTop()+$('.sidebar .model_id').offset().top-14
					},500);
				}

				if(
					$('.select_mode').val()=='copycat' &&
					!copycatId
				) {
					alert("First select a photo to copycat in the copycat gallery below or upload your own on the left");
					return;
				}



				// <switch to camera folder first if not selected>
					// because we need to add the photos to the camera folder, not saved/trash
					if(selectedFolder!='camera') {
						selectedFolder='camera';
						$('.div_output_images').hide();
						$('.top_folder_selector h3').removeClass('active');
						$('.top_folder_selector h3[data-folder="'+selectedFolder+'"]').addClass('active');
						$('.div_output_images.camera').show();
						// window.location.hash='';
					}
				// </switch to camera folder first if not selected>



				if(!userHasBatchTemplateRunning) {
					//
					// don't flash on template batch cause you get people sick
					//
					flash();
				}
				// $('.loading_spinner.main').show();


				if(userHasBatchTemplateRunning) {
					//
					// fake auto clicking visual
					//
					$(this).addClass('hover');
				}


				$(this).removeClass('blinking');


				if($('select.orientation').val()=='portrait') {
					var width=512;
					var height=768;
				}
				else if($('select.orientation').val()=='landscape') {
					var width=768;
					var height=512;
				}
				else if($('select.orientation').val()=='square') {
					var width=512;
					var height=512;
				}
				else if($('select.orientation').val()=='landscape') {
					var width=640;
					var height=512;
				}
				else {
					var width=512;
					var height=768;
				}


				if($('.section.main').scrollTop()<5000 && !userHasBatchTemplateRunning) {
					// don't scroll back up when taking photo if user is scrolled down to avoid losing their pos
					// scroll up to below search box
					setTimeout(function() {
						if(empty($('.photo_search').val()) && $('.photo_search').is(':visible')) {
							var scrollToPosY=$('.photo_search').outerHeight()+14;
						}
						else {
							var scrollToPosY=0;
						}
						$('.section.main').scrollTop(scrollToPosY);
					},250); /* fix race condition */
				}

				var manual_prompt='';
				var manual_negative_prompt='';

				//
				// if no copycat is set, it's prompt mode
				// also if a copycat photo is set, but copycat_what is prompt
				// go for prompt mode so we don't send the copycat photo
				//
				if(!copycatId || $('div.sidebar .copycat_what').val()=='prompt') {


					var amount_of_photos=$('select.amount_of_photos').val();
					var manual_prompt=$('div.sidebar textarea.manual_prompt').val();
					var manual_negative_prompt=$('div.sidebar textarea.manual_negative_prompt').val();

					var manual_prompt_strength=$('div.sidebar .manual_prompt_strength').val();

					var manual_seed='';
					if($('div.sidebar input.manual_seed_active').is(':checked')) {
						// only send seed if it's enabled/active
						var manual_seed=$('div.sidebar input.manual_seed').val();
					}

					var face_fix=$('div.sidebar .face_fix').val();
					if($('div.sidebar .face_fix').val()==null) {
						face_fix=1;
					}

					var faceswap=$('div.sidebar select.faceswap').val();
					if($('div.sidebar select.faceswap').val()==null) {
						faceswap=0;
					}

					var steps='';
					if($('div.sidebar .steps').val()) {
						steps=$('div.sidebar .steps').val();
					}

					if($('div.sidebar textarea.manual_prompt').val()=='') {
						$('div.sidebar textarea.manual_prompt').focus();
						$('.sidebar').animate({
							scrollTop:
							-$('.sidebar').offset().top+$('div.sidebar textarea.manual_prompt').scrollTop()+$('div.sidebar textarea.manual_prompt').offset().top-28
						},500);
						return;
					}

					var sampler=$('div.sidebar .sampler').val();

					var template='';

					if(userHasBatchTemplateRunning) {
						var template=$('.div_template.active').data('slug');
					}

					var upscale_strength='';
					if($('div.sidebar .upscale_strength').val()) {
						upscale_strength=$('div.sidebar .upscale_strength').val();
					}

					var final_upscaler='';
					if($('div.sidebar select.final_upscaler').val()) {
						final_upscaler=$('div.sidebar select.final_upscaler').val();
					}

					var add_noise='';
					if($('div.sidebar select.add_noise').val()) {
						add_noise=$('div.sidebar select.add_noise').val();
					}
					var grayscale='';
					if($('div.sidebar select.grayscale').val()) {
						grayscale=$('div.sidebar select.grayscale').val();
					}

					var try_on_what='';
					if($('div.sidebar select.try_on_what').val()) {
						try_on_what=$('div.sidebar select.try_on_what').val();
					}

					var clothing_id='';
					if(clothingId) {
						clothing_id=clothingId;
					}

					var emotion='';
					if($('div.sidebar select.emotion').val()) {
						emotion=$('div.sidebar select.emotion').val();
					}

					var place='';
					if($('div.sidebar select.place').val()) {
						place=$('div.sidebar select.place').val();
					}

					var camera='';
					if($('div.sidebar select.camera').val()) {
						camera=$('div.sidebar select.camera').val();
					}
					var film='';
					if($('div.sidebar select.film').val()) {
						film=$('div.sidebar select.film').val();
					}
					var model_strength='';
					if($('div.sidebar input.model_strength').val()) {
						model_strength=$('div.sidebar input.model_strength').val();
					}


					var params={
						mode:'prompt',
						model_id:$('.sidebar select.model_id').val(),
						amount_of_photos:amount_of_photos,
						orientation:$('.sidebar select.orientation').val(),
						emotion:emotion,
						place:place,
						camera:camera,
						film:film,
						model_strength:model_strength,
						manual_prompt:manual_prompt,
						manual_negative_prompt:manual_negative_prompt,
						manual_prompt_strength:manual_prompt_strength,
						manual_seed:manual_seed,
						faceswap:faceswap,
						upscale_strength:upscale_strength,
						final_upscaler:final_upscaler,
						grayscale:grayscale,
						add_noise:add_noise,
						steps:steps,
						sampler:sampler,
						clothing_id:clothing_id,
						try_on_what:try_on_what,
						template:template

					}
				}
				else {

					if(typeof copycatId==='undefined') {
						alert("First select a photo to copycat");
						$('.sidebar').animate({
							scrollTop:
							-$('.sidebar').offset().top+$('div.copycat_mode .div_copycat_uploader').scrollTop()+$('div.copycat_mode .div_copycat_uploader').offset().top-28
						},500);
						return;
					}

					var amount_of_photos=$('select.amount_of_photos').val();
					var manual_prompt=$('div.sidebar textarea.manual_prompt').val();
					var manual_negative_prompt=$('div.sidebar textarea.manual_negative_prompt').val();

					var manual_seed='';
					if($('div.sidebar input.manual_seed_active').is(':checked')) {
						// only send seed if it's enabled/active
						var manual_seed=$('div.sidebar input.manual_seed').val();
					}

					var steps='';
					if($('div.sidebar select.steps').val()) {
						steps=$('div.sidebar select.steps').val();
					}

					var sampler=$('div.sidebar select.sampler').val();

					var manual_seed='';
					if($('div.copycat_mode input.manual_seed_active').is(':checked')) {
						// only send seed if it's enabled/active
						var manual_seed=$('div.sidebar input.manual_seed').val();
					}


					var face_fix=$('div.sidebar select.face_fix').val();
					if($('div.sidebar select.face_fix').val()==null) {
						face_fix=1;
					}

					var faceswap=$('div.sidebar select.faceswap').val();
					if($('div.sidebar select.faceswap').val()==null) {
						faceswap=0;
					}

					var upscale_strength='';
					if($('div.sidebar select.upscale_strength').val()) {
						upscale_strength=$('div.sidebar select.upscale_strength').val();
					}

					var final_upscaler='';
					if($('div.sidebar select.final_upscaler').val()) {
						final_upscaler=$('div.sidebar select.final_upscaler').val();
					}

					var add_noise='';
					if($('div.sidebar select.add_noise').val()) {
						add_noise=$('div.sidebar select.add_noise').val();
					}

					var grayscale='';
					if($('div.sidebar select.grayscale').val()) {
						grayscale=$('div.sidebar select.grayscale').val();
					}

					var try_on_what='';
					if($('div.sidebar select.try_on_what').val()) {
						try_on_what=$('div.sidebar select.try_on_what').val();
					}

					var clothing_id='';
					if(clothingId) {
						clothing_id=clothingId;
					}

					var emotion='';
					if($('div.sidebar select.emotion').val()) {
						emotion=$('div.sidebar select.emotion').val();
					}

					var place='';
					if($('div.sidebar select.place').val()) {
						place=$('div.sidebar select.place').val();
					}

					var camera='';
					if($('div.sidebar select.camera').val()) {
						camera=$('div.sidebar select.camera').val();
					}

					var film='';
					if($('div.sidebar select.film').val()) {
						film=$('div.sidebar select.film').val();
					}

					var model_strength='';
					if($('div.sidebar select.film').val()) {
						model_strength=$('div.sidebar input.model_strength').val();
					}


					var params={
						mode:'copycat',
						model_id:$('.sidebar select.model_id').val(),
						amount_of_photos:amount_of_photos,
						faceswap:faceswap,
						copycat_id:copycatId,
						copycat_strength:$('.copycat_strength').val(),
						copycat_what:$('.copycat_what').val(),
						place:place,
						film:film,
						model_strength:model_strength,
						emotion:emotion,
						manual_prompt:manual_prompt,
						manual_negative_prompt:manual_negative_prompt,
						upscale_strength:upscale_strength,
						final_upscaler:final_upscaler,
						grayscale:grayscale,
						add_noise:add_noise,
						steps:steps,
						sampler:sampler,
						manual_seed:manual_seed,
						clothing_id:clothing_id,
						try_on_what:try_on_what,
						template:template
					}
				}







				// <add preliminary placeholders for images>
					var i=0;

					// preliminaryId is used to replace/remove the preliminary photo box after getting the AJAX back
					var preliminaryId='preliminary_id_'+Math.floor(Math.random() * 1000);

					while(i<$('.select_amount_of_photos').val()) {

						var photo={};
						photo['status']='preliminary';
						photo['model_id']=$('.model_id option:selected').val();
						if($('.sidebar select.orientation').val()=='portrait') {
							photo['width']=512;
							photo['height']=768;
						}
						if($('.sidebar select.orientation').val()=='landscape') {
							photo['width']=768;
							photo['height']=512;
						}
						if($('.sidebar select.orientation').val()=='square') {
							photo['width']=512;
							photo['height']=512;
						}

						var html=makePhotoBox(photo,null,null,preliminaryId);

						// console.log('html='+html);

						// add one
						$('.div_output_images.camera').prepend(
							html
						);


						i++;
					}
				// </add preliminary placeholders for images>

				// <remove N select_amount_of_photos same amount of last images in gallery for DOM performance on mobile>
					//
					// they can always come back with infinity scroll
					//
					var amount_of_photos=$('.select_amount_of_photos').val();
					if($('.div_output_image.finished').length>100) {
						if($('.div_output_image.finished:nth-last-child(-n+'+amount_of_photos+')').length) {
							$('.div_output_image.finished:nth-last-child(-n+'+amount_of_photos+')').remove();
						}
					}
				// </remove N select_amount_of_photos same amount of last images in gallery for DOM performance on mobile>

				// <increment all gallery photos in DOM with data-offset="" by N select_amount_of_photos, so infinity scrolling keeps working after taking more photos>
					$('.div_output_images .div_output_image').each(function() {
						var offset=$(this).data('offset');
						var newOffset=parseInt(offset)+parseInt(amount_of_photos);
						$(this).data('offset',newOffset);
					})
				// </increment all gallery photos in DOM with data-offset="" by N select_amount_of_photos, so infinity scrolling keeps working after taking more photos>




				// $('.action-take-photo').addClass('disabled');

				$.ajax({
					async:true,
					url: '/?action=take-photo&hash=',
					dataType:'json',
					data:params,
					type: 'POST',
					error: function(xhr,status,error){

					},
				}).done(function(reply) {


					if(userHasBatchTemplateRunning) {
						//
						// fake auto clicking visual
						//
						$('.action-take-photo').removeClass('hover');
					}

					// reset zoom after clicking it
					$('.select_zoom').val('');

					$('.loading_spinner.main').hide();

					// <remove preliminary placeholders>
						$('.div_output_images .div_output_image.preliminary.'+preliminaryId).remove();
					// </remove preliminary placeholders>

					if(!reply.success) {
						alert(reply.message);
						if(reply.error=='out_of_credits') {
							window.location.href='https://photoai.com/upgrade?hash=';
						}
						return;
					}

					// <add placeholders for images>
						var i=0;

						// reverse array so the top photos load first
						reply.photos=reply.photos.reverse();

						while(i<reply.photos.length) {

							var photo=reply.photos[i];

							photo['status']='processing';

							if(
								$('.select_mode').val()=='copycat' &&
								copycatId &&
								$('.copycat_what').val()!='reference' &&
								$('.copycat_what').val()!='prompt'
							) {
								//
								// only copy dimensions of copycat image if not only reference/prompt
								//
								photo['width']=copycatWidth;
								photo['height']=copycatHeight;
							}
							else {
								if($('div.sidebar .orientation').val()=='landscape') {
									photo['width']=768;
									photo['height']=512;
								}
								if($('div.sidebar .orientation').val()=='portrait') {
									photo['width']=512;
									photo['height']=768
								}
								if($('div.sidebar .orientation').val()=='square') {
									photo['width']=512;
									photo['height']=512
								}
							}
							var html=makePhotoBox(photo);

							$('.div_output_images.camera').prepend(
								html
							);

							// <start poller for each image>
								loadingSpinnerStep(photo['photo_id']);
								setTimeout(waitForServerToGenerate,(pollIntervalTime*2*Math.random()),photo['photo_id'],'poll_for_preprocessed');
							// </start poller for each image>


							i++;
						}
					// </add placeholders for images>


					// use first photo to make job divider
					// $('.div_output_images.camera').prepend(
					// 	makeJobDivider(reply.photos[0])
					// );

					// see if next job divider is in the same time range so we should remove that one to keep the photos together
					// this is to avoid every new job making a new divider
					// if(
					// 	(time()-$('.div_output_images .job_divider').eq(1).data('epoch'))<86400 /* same day */
					// 		&&
					// 	reply.photos[0]!=$('.div_output_images .job_divider').eq(1).data('prompt')
					// ) {
					// 	$('.div_output_images .job_divider').eq(1).remove();
					// 	$('.div_output_images .job_divider_prompt').eq(1).remove();
					// }

					$('.placeholder .loading_spinner').show();
					$('.placeholder .loading_spinner .loading_message').html('');






				});
			});
		// </take photo>





	});


	// <copy paste file upload>
		document.onpaste = function(event) {

			console.log("document.onpaste = function(event){");

			var items = (event.clipboardData || event.originalEvent.clipboardData).items;
			console.log(JSON.stringify(items)); // will give you the mime types
			for (index in items) {
				var item = items[index];
				if (item.kind === 'file') {
					$('div.copycat_mode .h3_input').addClass('expanded');
					$('div.copycat_mode .expandable_div').addClass('expanded');
					$('.sidebar').animate({scrollTop:-$('.sidebar').offset().top+$('.sidebar').scrollTop()+$('div.copycat_mode').eq(0).offset().top-14});
					uploadCopycatImage(item.getAsFile());
				}
			}

		}
	// </copy paste file upload>


	function templateDoNextPrompt(templateSlug,promptIterator,event) {
		//
		// photo packs
		//

		// <finished>
			//
			// when finishing the photo pack, make sure to reset some values we set for the templates
			//
			if(typeof templates[templateSlug]['prompts'][promptIterator]==='undefined') {
				// finished all prompts, end
				userHasBatchTemplateRunning=false;
				$('.div_template').removeClass('active');
				$('div.sidebar .manual_prompt').val('').removeClass('active');
				$('div.sidebar .manual_negative_prompt').val('').removeClass('active');
				//
				// unset copycat id if we set one for ex for headshots template
				//
				copycatId='';

				if(event.originalEvent !== undefined) {
					// human, not robot
					alert("Done with taking all photos for your photo shoot! Now you can wait for them to process! Meanwhile you can start more photo shoots or take photos yourself. You can close the tab and come back later as photos process in the background. Enjoy!");
				}
				else {
					// robot, reload page so we continue the robot cycle
					window.location.reload();
				}
				return;
			}
		// </finished>


		if(typeof templates[templateSlug]['faceswap']!=='undefined' && templates[templateSlug]['faceswap']==0) {
			// disable faceswap
			$('div.sidebar select.faceswap').val('0').change();
		}

		var manual_prompt=templates[templateSlug]['prompts'][promptIterator];

		// extend max length for older prompts
		$('div.sidebar .manual_prompt').val(manual_prompt).change();

		var negative_prompt=templates[templateSlug]['negative_prompt'];
		$('div.sidebar .manual_negative_prompt').val(negative_prompt).change();

		$('.action-take-photo').click();

		if($('.model_sample.active').hasClass('flux')) {
			// flux limited to 1 photo per job
			for (let i = 0; i < templates[templateSlug]['photos_per_prompt']; i++) {
				$('.action-take-photo').click();
			}
			$('.action-take-photo').click();
		}
		else {
			$('.action-take-photo').click();
		}

		// <do next prompt>
			setTimeout(function(){
				templateDoNextPrompt(templateSlug,templateBatchPromptIterator,event);
				templateBatchPromptIterator++;
			},1000,templateSlug,event);
		// </do next prompt>

	}

	// function htmlspecialchars(text) {
	// var map = {
	// 	'&': '&amp;',
	// 	'<': '&lt;',
	// 	'>': '&gt;',
	// 	'"': '&quot;',
	// 	"'": '&#039;'
	// };

	// return text.replace(/[&<>"']/g, function(m) { return map[m]; });
	// }

	function makeJobDivider(photo) {
		// return;
		// if same prompt, don't add divider!
		if(selectedFolder=='examples') {
			// don't divide on prompts/examples tab
			return;
		}
		if(photo['manual_prompt']) {
			var promptHtml='<div class="job_divider_prompt">'+photo['manual_prompt']+'<div>';
		}
		return (
			'<div class="job_divider" data-manual-prompt="'+(photo['manual_prompt'])+'" data-epoch="'+photo['epoch_queued']+'"><p>'+date('D, jS F, Y | H:i',photo['epoch_queued'])+' UTC</p><div class="job_divider_line"></div></div>'+
			promptHtml
		);
	}

	function uploadCopycatImage(file) {

					console.log('showStripeModal 11');
			showStripeModal();
			return;

		// avoid race condition so disable take photo until upload finished
		// $('.action-take-photo').addClass('disabled');

		$('.div_copycat_uploader .img_copycat').attr('src','data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==');
		$('.div_copycat_uploader').removeClass('collapsed');
		$('.div_copycat_uploader').addClass('active');
		$('.div_copycat_uploader_center').hide();
		$('.div_copycat_uploader .loading_spinner').show();

		if($('.copycat_strength').val()=='0') {
			$('.copycat_strength').val(0.3);
		}

		// <process image>
			var fileIndex=0;

			var fileReader = new FileReader();
			fileReader.readAsDataURL(file);

			fileReader.onload = function () {
				console.log('fileReader loaded file '+fileIndex);

				// <resize image>
					var img = document.createElement('img');
					img.src = fileReader.result;
					// console.log('#'+fileIndex+f ileReader.result);
					console.log('#'+fileIndex);

					// <resize image onload>
						img.onload = function() {

							console.log('#'+fileIndex+' created img object loaded');

							// Dynamically create a canvas element
							var canvasResize = document.createElement("canvas");
							var ctxResize = canvasResize.getContext("2d");

							// Actual resizing
							if(img.width<=img.height) {
								console.log('#'+fileIndex+' img.width='+img.width);
								console.log('#'+fileIndex+' img.height='+img.height);
								ctxResize.width=512;
								ctxResize.height=Math.round(img.height/img.width*512);

								// <% 64 fix for tensorflow>
									// "The size of tensor a (1601) must match the size of tensor b (1569) at non-singleton dimension 1"
									// if not multiples of 64 dimensions
									// if(ctxResize.width % 64 !== 0) ctxResize.width = ctxResize.width - (ctxResize.width % 64);
									// if(ctxResize.height % 64 !== 0) ctxResize.height = ctxResize.height - (ctxResize.height % 64);
								// </% 64 fix for tensorflow>

								console.log('#'+fileIndex+' resized width='+ctxResize.width);
								console.log('#'+fileIndex+' resized height='+ctxResize.height);
								canvasResize.width=ctxResize.width;
								canvasResize.height=ctxResize.height;
								ctxResize.drawImage(img, 0, 0, ctxResize.width, ctxResize.height);
							}
							else {
								console.log('#'+fileIndex+' img.width='+img.width);
								console.log('#'+fileIndex+' img.height='+img.height);
								ctxResize.height=512;
								ctxResize.width=Math.round(img.width/img.height*512);

								// <% 64 fix for tensorflow>
									// "The size of tensor a (1601) must match the size of tensor b (1569) at non-singleton dimension 1"
									// if not multiples of 64 dimensions
									// if(ctxResize.width % 64 !== 0) ctxResize.width = ctxResize.width - (ctxResize.width % 64);
									// if(ctxResize.height % 64 !== 0) ctxResize.height = ctxResize.height - (ctxResize.height % 64);
								// </% 64 fix for tensorflow>

								console.log('#'+fileIndex+' resized width='+ctxResize.width);
								console.log('#'+fileIndex+' resized height='+ctxResize.height);
								canvasResize.width=ctxResize.width;
								canvasResize.height=ctxResize.height;
								ctxResize.drawImage(img, 0, 0, ctxResize.width, ctxResize.height);
							}

							// Show resized image in preview element
							var dataURL = canvasResize.toDataURL('image/jpeg');
							var imgResize = document.createElement('img');
							imgResize.src = dataURL;
							imgResize.width=ctxResize.width;
							imgResize.height=ctxResize.height;

							copycatWidth=imgResize.width;
							copycatHeight=imgResize.height;

							// imgResize.classList.add('upload-image-preview');
							// document.body.appendChild(imgResize);

							// <resize image finished onload>
								imgResize.onload = function() {

									// Show cropped image in preview element
									var dataURL = canvasResize.toDataURL('image/jpeg');


									// <save as blob>
										canvasResize.toBlob(function(blob){

											var totalFiles = $('.input_copycat_uploader')[0].files.length;
											console.log('#'+fileIndex+' finished '+(fileIndex+1)+'/'+totalFiles);


											// done all pics, start uploading here?
											console.log('Done! Processed'+(fileIndex+1)+' photos of '+totalFiles+' total');


											// <upload>
												var uploadUrl='/copycat_upload?hash=';

												var formData = new FormData();
												formData.append('file',blob);

									 			var xhttp = new XMLHttpRequest();
								 					xhttp.open('POST', uploadUrl, true);

												xhttp.onreadystatechange = function() {
													if (this.readyState == 4 && this.status == 200) {
														$('.loading_spinner.main').hide();
														// $('.input_copycat_uploader').val('');

														// $('.div_copycat_uploader').removeClass('active');
														// $('.div_copycat_uploader_center').show();

														var reply=JSON.parse(xhttp.responseText);
														console.log(reply);

														copycatId='upload-id-'+reply.copycat_id;

														$('.action-take-photo').removeClass('disabled');

														$('.div_copycat_uploader .img_copycat').attr('src',dataURL);
														$('.div_copycat_uploader').removeClass('collapsed');
														$('.div_copycat_uploader').addClass('active');
														$('.div_copycat_uploader .loading_spinner').hide();
														$('.div_copycat_uploader_center').hide();

														setTimeout(function() {
															if(
																$('.copycat_what').val()!='pose'
															) {
																																if(confirm("Do you want me to auto detect the prompt of the photo to copycat?")) {
																	$('.action-auto-prompt').click();
																}
															}
														},100);

														if(!reply.success) {
															alert(reply.message);
															return;
														}
													}
												}
												xhttp.send(formData);
											// </upload zip>



										},'image/jpeg');
									// </save as blob>
								}
							// </resize image finished onload>
						}
					// </resize image onload>
				// </resize image>
			}
		// </process image>
	}




	function uploadClothingImage(file) {

					console.log('showStripeModal 11');
			showStripeModal();
			return;

		$('.div_clothing_uploader .img_clothing').attr('src','data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==');
		$('.div_clothing_uploader').removeClass('collapsed');
		$('.div_clothing_uploader').addClass('active');
		$('.div_clothing_uploader_center').hide();
		$('.div_clothing_uploader .loading_spinner').show();


		// <process image>
			var fileIndex=0;

			var fileReader = new FileReader();
			fileReader.readAsDataURL(file);

			fileReader.onload = function () {

				// <resize image>
					var img = document.createElement('img');
					img.src = fileReader.result;
					// console.log('#'+fileIndex+f ileReader.result);
					console.log('#'+fileIndex);

					// <resize image onload>
						img.onload = function() {

							// Dynamically create a canvas element
							var canvasResize = document.createElement("canvas");
							var ctxResize = canvasResize.getContext("2d");

							// Actual resizing
							if(img.width<=img.height) {
								ctxResize.width=512;
								ctxResize.height=Math.round(img.height/img.width*512);

								canvasResize.width=ctxResize.width;
								canvasResize.height=ctxResize.height;
								ctxResize.drawImage(img, 0, 0, ctxResize.width, ctxResize.height);
							}
							else {
								ctxResize.height=512;
								ctxResize.width=Math.round(img.width/img.height*512);

								canvasResize.width=ctxResize.width;
								canvasResize.height=ctxResize.height;
								ctxResize.drawImage(img, 0, 0, ctxResize.width, ctxResize.height);
							}

							// Show resized image in preview element
							var dataURL = canvasResize.toDataURL('image/jpeg');
							var imgResize = document.createElement('img');
							imgResize.src = dataURL;
							imgResize.width=ctxResize.width;
							imgResize.height=ctxResize.height;

							clothingWidth=imgResize.width;
							clothingHeight=imgResize.height;

							// <resize image finished onload>
								imgResize.onload = function() {

									// Show cropped image in preview element
									var dataURL = canvasResize.toDataURL('image/jpeg');

									// <save as blob>
										canvasResize.toBlob(function(blob){

											var totalFiles = $('.input_clothing_uploader')[0].files.length;
											console.log('#'+fileIndex+' finished '+(fileIndex+1)+'/'+totalFiles);

											// <upload>
												var uploadUrl='/copycat_upload?hash=';

												var formData = new FormData();
												formData.append('file',blob);

									 			var xhttp = new XMLHttpRequest();
								 					xhttp.open('POST', uploadUrl, true);

												xhttp.onreadystatechange = function() {
													if (this.readyState == 4 && this.status == 200) {
														$('.loading_spinner.main').hide();

														var reply=JSON.parse(xhttp.responseText);
														console.log(reply);

														clothingId='upload-id-'+reply.copycat_id;

														$('.action-take-photo').removeClass('disabled');

														$('.div_clothing_uploader .img_clothing').attr('src',dataURL);
														$('.div_clothing_uploader').removeClass('collapsed');
														$('.div_clothing_uploader').addClass('active');
														$('.div_clothing_uploader .loading_spinner').hide();
														$('.div_clothing_uploader_center').hide();

														// <now auto prompt>
															if(confirm("Do you want me to auto detect the prompt of the clothes?")) {
																if(autoDetectingPromptNow) return;
																$('.sidebar textarea.manual_prompt').val('Analyzing your clothes, this might take 30 seconds...');
																autoDetectingPromptNow=true;

																$('.loading_spinner.main').show();
																$.ajax({
																	async:true,
																	url: '/auto_detect_prompt?clothing=true&copycat_id='+clothingId+'&hash=',
																	dataType:'json',
																}).done(function(reply) {
																	// pollIntervalTime * 0.5 beacuse it's much faster than photo generating
																	setTimeout(waitForServerToGenerate,(pollIntervalTime*0.5*Math.random()),reply.prompt_id,'poll_for_auto_detect_clothes');

																}).fail(function(reply) {
																	autoDetectingPromptNow=false;
																	$('.loading_spinner.main').hide();
																	$('.sidebar textarea.manual_prompt').val('').removeClass('active');
																	alert("Failed to upload clothes, sorry!");
																});
															}
														// </now auto prompt>

														if(!reply.success) {
															alert(reply.message);
															return;
														}
													}
												}
												xhttp.send(formData);
											// </upload zip>



										},'image/jpeg');
									// </save as blob>
								}
							// </resize image finished onload>
						}
					// </resize image onload>
				// </resize image>
			}
		// </process image>
	}


	function uploadMaskImage(file) {

					console.log('showStripeModal 12');
			showStripeModal();
			return;

		// avoid race condition so disable take photo until upload finished
		// $('.action-take-photo').addClass('disabled');

		$('.div_mask_uploader .img_mask').attr('src','data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==');
		$('.div_mask_uploader').removeClass('collapsed');
		$('.div_mask_uploader').addClass('active');
		$('.div_mask_uploader_center').hide();
		$('.div_mask_uploader .loading_spinner').show();

		if($('.mask_strength').val()=='0') {
			$('.mask_strength').val(0.3);
		}

		// <process image>
			var fileIndex=0;

			var fileReader = new FileReader();
			fileReader.readAsDataURL(file);

			fileReader.onload = function () {
				console.log('fileReader loaded file '+fileIndex);

				// <resize image>
					var img = document.createElement('img');
					img.src = fileReader.result;
					// console.log('#'+fileIndex+f ileReader.result);
					console.log('#'+fileIndex);

					// <resize image onload>
						img.onload = function() {

							console.log('#'+fileIndex+' created img object loaded');

							// Dynamically create a canvas element
							var canvasResize = document.createElement("canvas");
							var ctxResize = canvasResize.getContext("2d");

							// Actual resizing
							if(img.width<=img.height) {
								console.log('#'+fileIndex+' img.width='+img.width);
								console.log('#'+fileIndex+' img.height='+img.height);
								ctxResize.width=512;
								ctxResize.height=Math.round(img.height/img.width*512);
								console.log('#'+fileIndex+' resized width='+ctxResize.width);
								console.log('#'+fileIndex+' resized height='+ctxResize.height);
								canvasResize.width=ctxResize.width;
								canvasResize.height=ctxResize.height;
								ctxResize.drawImage(img, 0, 0, ctxResize.width, ctxResize.height);
							}
							else {
								console.log('#'+fileIndex+' img.width='+img.width);
								console.log('#'+fileIndex+' img.height='+img.height);
								ctxResize.height=512;
								ctxResize.width=Math.round(img.width/img.height*512);
								console.log('#'+fileIndex+' resized width='+ctxResize.width);
								console.log('#'+fileIndex+' resized height='+ctxResize.height);
								canvasResize.width=ctxResize.width;
								canvasResize.height=ctxResize.height;
								ctxResize.drawImage(img, 0, 0, ctxResize.width, ctxResize.height);
							}

							// Show resized image in preview element
							var dataURL = canvasResize.toDataURL('image/jpeg');
							var imgResize = document.createElement('img');
							imgResize.src = dataURL;
							imgResize.width=ctxResize.width;
							imgResize.height=ctxResize.height;

							maskWidth=imgResize.width;
							maskHeight=imgResize.height;

							// imgResize.classList.add('upload-image-preview');
							// document.body.appendChild(imgResize);

							// <resize image finished onload>
								imgResize.onload = function() {

									// Show cropped image in preview element
									var dataURL = canvasResize.toDataURL('image/jpeg');


									// <save as blob>
										canvasResize.toBlob(function(blob){

											var totalFiles = $('.input_mask_uploader')[0].files.length;
											console.log('#'+fileIndex+' finished '+(fileIndex+1)+'/'+totalFiles);


											// done all pics, start uploading here?
											console.log('Done! Processed'+(fileIndex+1)+' photos of '+totalFiles+' total');


											// <upload>
												var uploadUrl='/mask_upload?hash=';

												var formData = new FormData();
												formData.append('file',blob);

									 			var xhttp = new XMLHttpRequest();
								 					xhttp.open('POST', uploadUrl, true);

												xhttp.onreadystatechange = function() {
													if (this.readyState == 4 && this.status == 200) {
														$('.loading_spinner.main').hide();
														// $('.input_mask_uploader').val('');

														// $('.div_mask_uploader').removeClass('active');
														// $('.div_mask_uploader_center').show();

														var reply=JSON.parse(xhttp.responseText);
														console.log(reply);

														maskId='upload-id-'+reply.mask_id;

														$('.action-take-photo').removeClass('disabled');

														$('.div_mask_uploader .img_mask').attr('src',dataURL);
														$('.div_mask_uploader').removeClass('collapsed');
														$('.div_mask_uploader').addClass('active');
														$('.div_mask_uploader .loading_spinner').hide();
														$('.div_mask_uploader_center').hide();



														if(!reply.success) {
															alert(reply.message);
															return;
														}
													}
												}
												xhttp.send(formData);
											// </upload>



										},'image/jpeg');
									// </save as blob>
								}
							// </resize image finished onload>
						}
					// </resize image onload>
				// </resize image>
			}
		// </process image>
	}


	function showStripeModal() {


		if(!stripeLoaded) {
			$('html').append('<script async defer src="https://js.stripe.com/v3/pricing-table.js">'+decodeURI('%3C/script%3E'));
		}
		stripeLoaded=true;
		$('.div_stripe_modal_backdrop').show();
		$('.div_stripe_modal').show();
	}




	var loadedPhotosYet=false;
	var stillLoadingPhotos=false;

	function loadPhotos(selectedFolderParameter,callbackFunction,forceReload=false,offset=0) {


		console.log('loadPhotos '+selectedFolder);

		selectedFolder=selectedFolderParameter;

		// <show or not show search>
			if(selectedFolder=='camera' || selectedFolder=='saved') {
				$('.photo_search').show();
			}
			else {
				$('.photo_search').hide();
			}
		// </show or not show search>

		if(
			selectedFolder=='templates' ||
			selectedFolder=='poses'
		) {
			// don't need to load photos for these tabs
			// as it's not dynamic but static and loaded
			// on page load inside HTML/PHP
			userIsChangingFolder=false;
			return;
		}

		$('.top_folder_selector h3').removeClass('active');
		$('.top_folder_selector h3[data-folder="'+selectedFolder+'"]').addClass('active');

		// <only load if no photos loaded in the selected folder yet>
			if(
				selectedFolder!='examples' && /* let user keep clicking examples to refresh examples, also important for when gender of model changes and we reload examples */
				!forceReload &&
				$('.div_output_images.'+selectedFolder+' .div_output_image:not(.placeholder)').length
			) {
				// folder already has photos, don't reload
				userIsChangingFolder=false;
				return;
			}
		// </only load if no photos loaded in the selected folder yet>

		userIsChangingFolder=true;



		if(loadedPhotosYet) {
			// don't show spinner on first load
			// only show if already loaded photos
			$('.loading_spinner.main').show();
		}

		$('.div_templates').hide();
		$('.div_output_images').css('opacity',0.5);

		// send current model gender so we can show example tab photos in right gender for model selected
		currentModelGender='';
		if($('.model_id option:selected').data('gender')) {
			currentModelGender=$('.model_id option:selected').data('gender');
		}
		currentModelId=$('.model_id option:selected').val();

		if(stillLoadingPhotos) {
			return;
		}
		stillLoadingPhotos=true;


		// <add placeholders>
			for(var placeholdersI=0; placeholdersI<18; placeholdersI++) {
				$('.div_output_images.'+selectedFolder).append(
					'<div class="div_output_image placeholder">'+
						'<img width="512" height="768" class="output_image" src="/cdn-cgi/image/format=auto,fit=cover,width=512,height=768,quality=50/assets/pixel.gif">'+
					'</div>'
				);
			}
		// </add placeholders>

		var searchQuery=$('.photo_search').val();

		$.ajax({
			async:true,
							url: '/?action=get-camera-roll',
						dataType:'json',
			type: 'GET',
			error: function(xhr,status,error){

			},
		}).done(function(photos) {

			console.log("Got photos back from AJAX for .div_output_images."+selectedFolder);

			$('.div_output_images.'+selectedFolder).html('');
			$('.loading_spinner.main').hide();

			// <set last photo made defaults>
							// <set last photo made defaults>

			loadedPhotosYet=true;
			stillLoadingPhotos=false;

			$('.div_output_images').css('opacity',1);

			$('.loading_spinner.main').hide();


							photos=photos.slice(0,4*7+2);


			var currentJobId;
			var previousPhoto=[];
			var firstDividerSkippedYet=false;

			for(var photosI=0; photosI<photos.length; photosI++) {
				var photo=photos[photosI];

				if(firstDividerSkippedYet && previousPhoto['manual_prompt']!=photo['manual_prompt'] && (previousPhoto['template'] && previousPhoto['template']!=photo['template'])){
					// new job, show prompt here
					// skip first (if previousPhoto is blank eg !), so we start with photos first and the next jobs are divided with a prompt
					$('.div_output_images.'+selectedFolder).append(
						makeJobDivider(photo)
					);
				}

				if(photosI<12) {
					// don't lazy load first N images to improve LCP
					var doNotLazyLoad=true;
				}
				else {
					var doNotLazyLoad=false;
				}

				// offset is used for infinity scrolling
				var offsetCounter=photosI;

				var html=makePhotoBox(photo,doNotLazyLoad,offsetCounter);
				$('.div_output_images.'+selectedFolder).append(
					html
				);

				if(photo['job_id']) {
					currentJobId=photo['job_id'];
				}

				previousPhoto=photo;
				firstDividerSkippedYet=true;
			}

			userIsChangingFolder=false;

			// scroll to top after adding but below search box
			if(empty($('.photo_search').val()) && $('.photo_search').is(':visible')) {
				var scrollToPosY=$('.photo_search').outerHeight()+14;
			}
			else {
				var scrollToPosY=0;
			}
			$('.section.main').animate({
				scrollTop:scrollToPosY
			},0);

			// if callbackFunction given, e.g. for taking photo after switching from saved to camera folder, run it
			if(typeof callbackFunction == 'function') {
				callbackFunction();
			}

		});
	}

	function forceDownload(blob, filename) {
		var a = document.createElement('a');
		a.download = filename;
		a.href = blob;
		// For Firefox https://stackoverflow.com/a/32226068
		document.body.appendChild(a);
		a.click();
		a.remove();
	}


	function makePhotoBox(photo,doNotLazyLoad,offsetCounter,preliminaryId) {

		var loadingSpinnerHTML='';
		var extraClasses='';
		var aLinkStart='';
		var aLinkEnd='';



		if(
			photo['status']=='processing'
		) {
			// show spinner and blur with placeholder class cause no image yet
			var loadingSpinnerHTML='<div class="loading_spinner">'+
				'<svg class="loading_spinner_svg" viewBox="25 25 50 50"><circle class="loading_spinner_circle" cx="50" cy="50" r="22" fill="none"></circle><circle class="loading_spinner_circle loading_spinner_circle--spinner" cx="50" cy="50" r="22" fill="none"></circle></svg>'+
				'<div class="loading_message"></div>'+
			'</div>';
			var extraClasses='placeholder';
		}

		if(
			photo['status']=='preliminary'
		) {
			// show spinner and blur with placeholder class cause no image yet
			var loadingSpinnerHTML='<div class="loading_spinner">'+
				'<svg class="loading_spinner_svg" viewBox="25 25 50 50"><circle class="loading_spinner_circle" cx="50" cy="50" r="22" fill="none"></circle><circle class="loading_spinner_circle loading_spinner_circle--spinner" cx="50" cy="50" r="22" fill="none"></circle></svg>'+
				'<div class="loading_message"></div>'+
			'</div>';
			var extraClasses='processing placeholder preliminary '+preliminaryId;
		}

		if(
			photo['status']=='postprocessing'
		) {
			// show spinner but not blur with placeholder class cause we have low-res preprocessed image
			var loadingSpinnerHTML='<div class="loading_spinner">'+
				'<svg class="loading_spinner_svg" viewBox="25 25 50 50"><circle class="loading_spinner_circle" cx="50" cy="50" r="22" fill="none"></circle><circle class="loading_spinner_circle loading_spinner_circle--spinner" cx="50" cy="50" r="22" fill="none"></circle></svg>'+
				'<div class="loading_message"></div>'+
			'</div>';
		}


					if(photo['status']=='nsfw_detected') {
				var loadingSpinnerHTML='<div class="loading_spinner">'+
					'<div class="loading_message">NSFW detected</div>'+
				'</div>';
			}

		var extraClasses=extraClasses+ ' '+photo['status'];


		if(
			photo['epoch_finished'] && photo['epoch_queued']
		) {
			if(photo['epoch_finished']-photo['epoch_queued']<60) {
				var tookText=', took <span>'+(Math.round(photo['epoch_finished']-photo['epoch_queued']))+'</span>s';
			}
			else {
				var tookText=', took <span>'+(Math.round((photo['epoch_finished']-photo['epoch_queued'])/60*10)/10)+'</span>m';
			}
		}
		else {
			var tookText='';
		}

		extraClasses=extraClasses+' photo-'+photo['photo_id'];

		var savedClass='';
		if(photo['saved']) {
			savedClass='saved';
		}

		var frontpagedClass='';
		if(photo['frontpage']) {
			frontpagedClass='frontpaged';
		}

		var trashedClass='';
		if(photo['trashed']) {
			trashedClass='trashed';
		}

		var src='';
		var originalImageAsDataSrc='';
		var extraMetaText='';


		if(photo['status']=='finished') {
			lastPhotoTaken=photo;
							var src=photo['photo_url'];
						var originalImageAsDataSrc='data-original-src="'+src+'"';
		}
		else if(photo['status']=='postprocessing') {
			var src=photo['preprocessed_photo_url']+'?'+photo['epoch_queued'];
			extraMetaText='Post-processing...';
			extraClasses=extraClasses+' postprocessing';
			var originalImageAsDataSrc='data-original-src="'+src+'"';
		}

		// else if(photo['status']=='nsfw_detected') {
		// 	var src=photo['preprocessed_photo_url']+'?'+photo['epoch_queued'];
		// 	extraMetaText='NSFW detected. ';
		// 	extraClasses=extraClasses+' nsfw-detected';
		// 	var originalImageAsDataSrc='data-original-src="'+src+'"';

		// 	$('.photo-'+photo['photo_id']+'.loading_spinner').show();
		// 	$('.photo-'+photo['photo_id']+'.loading_spinner .loading_message').show();
		// 	$('.photo-'+photo['photo_id']+'.loading_spinner .loading_message').text('NSFW detected');

		// }
		else {
			var extraMetaText='Taking photo...';

			if(photo['status']=='preliminary') {
				var extraMetaText='Picking up camera...';
			}

			var src='assets/photo-ai-social-media-pic-2023-01-13.jpg?1';
			if(!empty(copycatId)) {
				// use copycat input image as placeholder if active
				var src=$('.div_copycat_uploader .img_copycat').attr('src');
				photo['no_cdn']=true;
			}
			else {
				// non copycat, use last finished img as blurred preview
				if($('.div_output_image.finished:not(.video)').eq(0).find('img')) {
					var src=$('.div_output_image.finished:not(.video)').eq(0).find('img').data('preprocessed-src');
				}
			}
		}



		if(!photo['example']) {

			if(photo['model_id']) {
				var model_name=$('select.model_id option[value="'+photo['model_id']+'"]').text();
									model_name=model_name.split(' (')[0];
								extraMetaText=extraMetaText+model_name+': ';
			}


		}

		if(photo['example']) {
			extraMetaText=photo['manual_prompt'];
		}

		if(photo['complimentary'] && selectedFolder!='examples') {
			extraMetaText='‚ù§Ô∏è Free new model photos, no credits were used'+"\n<br/>"+extraMetaText;
		}

					if(photo['nsfw']) {
				extraMetaText="üî¥ NSFW detected, no credits were used. Try avoid NSFW."+"\n<br/>"+extraMetaText;
			}
				if(photo['nsfw']) {
			extraClasses=extraClasses+' nsfw';
		}
		if(photo['racy']) {
			extraClasses=extraClasses+' racy';
		}

		if(photo['copycat_id'] || photo['copycat_url']) {
			extraClasses=extraClasses+' copycat';
		}
		if(photo['clothing_id'] || photo['clothing_url']) {
			extraClasses=extraClasses+' try_on';
		}

		if(photo['copycat_what']) {
			var copycat_what=photo['copycat_what'];
			if(copycat_what=='all') {
				copycat_what='Copycat: '+'Photo + depth';
			}
			else {
				copycat_what='Copycat: '+ucfirst(copycat_what);
			}
			extraMetaText=extraMetaText+copycat_what+' (';

			var copycat_strength=photo['copycat_strength'];
			if(!photo['copycat_strength']) {
				copycat_strength=0.3;
			}
			if(copycat_strength==0.95) copycat_strength='Only photo';
			if(copycat_strength==0.7) copycat_strength='Maximum';
			if(copycat_strength==0.5) copycat_strength='Medium';
			if(copycat_strength==0.3) copycat_strength='Light';
			if(copycat_strength==0.01) copycat_strength='Featherlight';
			extraMetaText=extraMetaText+copycat_strength+'), ';
		}



		var preprocessedImageAsDataSrc='';

		if(photo['preprocessed_photo_url']) {
			preprocessedImageAsDataSrc='data-preprocessed-src="'+photo['preprocessed_photo_url']+'" ';
		}

		var cloudflareCDN='';
		if(!photo['no_cdn']) {
			cloudflareCDN='/cdn-cgi/image/format=auto,fit=cover,width='+Math.round(photo['width']*1.5)+',height='+Math.round(photo['height']*1.5)+',quality=85/';
								cloudflareCDN='/cdn-cgi/image/format=auto,fit=cover,width='+Math.round(photo['width'])+',height='+Math.round(photo['height'])+',quality=75/';
						}





		var actionCopyPromptHtml='<br/><div class="action-copy-prompt">'+'<span></span>'+'<br/>Copy prompt</div>';

		if(photo['flux']) {
			// copycat not available for Flux YET
			var actionCopycatHTML='';
		}
		else {
			var actionCopycatHTML='<div class="action-copycat">'+'<span></span>'+'<br/>Copy photo</div>';
		}

		var outputImageButtonsHtml=
			'<div class="action-download-image">'+'<span></span>'+'<br/>Download</div>'+
			'<div class="action-view-image">'+'<span></span>'+'<br/>View</div>'+
			actionCopycatHTML+
			// '<div class="action-google-lens">'+'<span></span>'+'<br/>Google Lens</div><br/>'+
			// '<div class="action-google-lens">'+'<span></span>'+'<br/>Find clothes</div><br/>'+
			actionCopyPromptHtml;



		// if($(window).width()>800 && !photo['example']) {
		// 	outputImageButtonsHtml=outputImageButtonsHtml
		// 								+'<div class="action-carbon-copy">'+'<span></span>'+'<br/>Carbon copy</div>';
		// }
		if($(window).width()>800 && !photo['video']) {
			outputImageButtonsHtml=outputImageButtonsHtml
										+'<div class="action-edit">'+'<span></span>'+'<br/>Edit</div>';
		}

					var outputImageButtonsHtml=
			'<div class="action-download-image">'+'<span></span>'+'<br/>Download</div>'+
				'<div class="action-view-image">'+'<span></span>'+'<br/>View</div>'
			;




		var outputImageButtonsHtml=outputImageButtonsHtml+
			'<div class="action-view-raw">'+'<span></span>'+'<br/>View raw</div>';

		var outputImageButtonsHtml=outputImageButtonsHtml+
			'<div class="action-make-video">'+'<span></span>'+'<br/>Make video</div>';


		var agoText='';





		var emotionDataTag='';
		if(!emptyAndNotZero(photo['emotion'])) {
			// save emotion in data- tag for easy copycatting
			var emotionDataTag=' data-emotion="'+escapeHtml(photo['emotion'])+'"';
		}

		var placeDataTag='';
		if(!emptyAndNotZero(photo['place'])) {
			// save place in data- tag for easy copycatting
			var placeDataTag=' data-place="'+escapeHtml(photo['place'])+'"';
		}

		var cameraDataTag='';
		if(!emptyAndNotZero(photo['camera'])) {
			// save camera in data- tag for easy copycatting
			var cameraDataTag=' data-camera="'+escapeHtml(photo['camera'])+'"';
		}

		var filmDataTag='';
		if(!emptyAndNotZero(photo['film'])) {
			// save film in data- tag for easy copycatting
			var filmDataTag=' data-film="'+escapeHtml(photo['film'])+'"';
		}

		var modelStrengthTag='';
		if(!emptyAndNotZero(photo['model_strength'])) {
			// save emotion in data- tag for easy copycatting
			var modelStrengthTag=' data-model-strength="'+escapeHtml(photo['model_strength'])+'"';
		}

		var manualPromptDataTag='';
		if(!emptyAndNotZero(photo['manual_prompt'])) {
			// save manual prompt in data- tag for easy copycatting
			var manualPromptDataTag=' data-manual-prompt="'+escapeHtml(photo['manual_prompt'])+'"';
		}

		var manualNegativePromptDataTag='';
		if(!emptyAndNotZero(photo['manual_negative_prompt'])) {
			// save manual negative prompt in data- tag for easy copycatting
			var manualNegativePromptDataTag=' data-manual-negative-prompt="'+escapeHtml(photo['manual_negative_prompt'])+'"';
		}


		var rootPromptDataTag='';
		if(!emptyAndNotZero(photo['prompt'])) {
			// save root prompt in data- tag for easy copycatting
			var rootPromptDataTag=' data-root-prompt="'+escapeHtml(photo['prompt'])+'"';
		}

		var rootNegativePromptDataTag='';
		if(!emptyAndNotZero(photo['negative_prompt'])) {
			// save root negative prompt in data- tag for easy copycatting
			var rootNegativePromptDataTag=' data-root-negative-prompt="'+escapeHtml(photo['negative_prompt'])+'"';
		}

		var guidanceScaleDataTag='';
		if(!emptyAndNotZero(photo['guidance_scale'])) {
			// save manual negative prompt in data- tag for easy copycatting
			var guidanceScaleDataTag=' data-guidance-scale="'+(photo['guidance_scale'])+'"';
		}

		var upscaleStrengthDataTag='';
		if(!emptyAndNotZero(photo['upscale_strength'])) {
			var upscaleStrengthDataTag=' data-upscale-strength="'+(photo['upscale_strength'])+'"';
		}

		var finalUpscalerDataTag='';
		if(!emptyAndNotZero(photo['final_upscaler'])) {
			var finalUpscalerDataTag=' data-final-upscaler="'+(photo['final_upscaler'])+'"';
		}

		var addNoiseDataTag='';
		if(!emptyAndNotZero(photo['add_noise'])) {
			var addNoiseDataTag=' data-add-noise="'+(photo['add_noise'])+'"';
		}

		var faceFixDataTag='';
		if(!emptyAndNotZero(photo['face_fix'])) {
			// save manual prompt in data- tag for easy copycatting
			var faceFixDataTag=' data-face-fix="'+escapeHtml(photo['face_fix'])+'"';
		}

		var faceswapDataTag='';
		if(!emptyAndNotZero(photo['faceswap'])) {
			// save manual prompt in data- tag for easy copycatting
			var faceswapDataTag=' data-faceswap="'+escapeHtml(photo['faceswap'])+'"';
		}

		var seedDataTag='';
		if(!emptyAndNotZero(photo['seed'])) {
			// save seed data- tag for easy copycatting
			var seedDataTag=' data-seed="'+photo['seed']+'"';
		}

		var stepsDataTag='';
		if(!emptyAndNotZero(photo['steps'])) {
			// save seed data- tag for easy copycatting
			var stepsDataTag=' data-steps="'+photo['steps']+'"';
		}

		var samplerDataTag='';
		if(!emptyAndNotZero(photo['sampler'])) {
			// save sampler data- tag for easy copycatting
			var samplerDataTag=' data-sampler="'+photo['sampler']+'"';
		}

		if(!emptyAndNotZero(photo['example'])) {
			extraClasses=extraClasses+' example';
		}

		if(!emptyAndNotZero(photo['saved'])) {
			extraClasses=extraClasses+' saved';
		}
		if(!emptyAndNotZero(photo['frontpage'])) {
			extraClasses=extraClasses+' frontpaged';
		}

		if(userHasBatchTemplateRunning) {
			extraClasses=extraClasses+' batch-template';
		}

		if(parseInt(photo['width'])>parseInt(photo['height'])) {
			extraClasses=extraClasses+' landscape';
		}

		if(photo['grayscale']=='1'){
			extraClasses=extraClasses+' grayscale';
		}

		if(photo['add_noise']=='remove_background') {
			extraClasses=extraClasses+' remove_background';
		}

		var nsfwIconHTML='';

		var saveAndTrashHtml='';
		if(!photo['example']) {
			saveAndTrashHtml='<span class="action-trash-photo '+trashedClass+'">'+
				'<svg width="25" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" fill-rule="evenodd" clip-rule="evenodd" d="M7.10002 5H3C2.44772 5 2 5.44772 2 6C2 6.55228 2.44772 7 3 7H4.06055L4.88474 20.1871C4.98356 21.7682 6.29471 23 7.8789 23H16.1211C17.7053 23 19.0164 21.7682 19.1153 20.1871L19.9395 7H21C21.5523 7 22 6.55228 22 6C22 5.44772 21.5523 5 21 5H19.0073C19.0018 4.99995 18.9963 4.99995 18.9908 5H16.9C16.4367 2.71776 14.419 1 12 1C9.58104 1 7.56329 2.71776 7.10002 5ZM9.17071 5H14.8293C14.4175 3.83481 13.3062 3 12 3C10.6938 3 9.58254 3.83481 9.17071 5ZM17.9355 7H6.06445L6.88085 20.0624C6.91379 20.5894 7.35084 21 7.8789 21H16.1211C16.6492 21 17.0862 20.5894 17.1192 20.0624L17.9355 7ZM14.279 10.0097C14.83 10.0483 15.2454 10.5261 15.2068 11.0771L14.7883 17.0624C14.7498 17.6134 14.2719 18.0288 13.721 17.9903C13.17 17.9517 12.7546 17.4739 12.7932 16.9229L13.2117 10.9376C13.2502 10.3866 13.7281 9.97122 14.279 10.0097ZM9.721 10.0098C10.2719 9.97125 10.7498 10.3866 10.7883 10.9376L11.2069 16.923C11.2454 17.4739 10.83 17.9518 10.2791 17.9903C9.72811 18.0288 9.25026 17.6134 9.21173 17.0625L8.79319 11.0771C8.75467 10.5262 9.17006 10.0483 9.721 10.0098Z" fill="#0F1729"/></svg>'+
			'</span>'+
			'<span class="action-save-photo '+savedClass+'">'+
				'<svg aria-hidden="true" width="25" focusable="false" data-prefix="fas" data-icon="heart" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-heart fa-w-16 fa-9x"><path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"></path></svg>'+
			'</span>';
		}

					if(photo['nsfw']) {
				outputImageButtonsHtml='';
				nsfwIconHTML='<svg class="nsfw-icon" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.4955 7.44088C3.54724 8.11787 2.77843 8.84176 2.1893 9.47978C0.857392 10.9222 0.857393 13.0778 2.1893 14.5202C3.9167 16.391 7.18879 19 12 19C13.2958 19 14.4799 18.8108 15.5523 18.4977L13.8895 16.8349C13.2936 16.9409 12.6638 17 12 17C7.9669 17 5.18832 14.82 3.65868 13.1634C3.03426 12.4872 3.03426 11.5128 3.65868 10.8366C4.23754 10.2097 4.99526 9.50784 5.93214 8.87753L4.4955 7.44088Z" fill="#fff"/><path d="M8.53299 11.4784C8.50756 11.6486 8.49439 11.8227 8.49439 12C8.49439 13.933 10.0614 15.5 11.9944 15.5C12.1716 15.5 12.3458 15.4868 12.516 15.4614L8.53299 11.4784Z" fill="#fff"/><path d="M15.4661 12.4471L11.5473 8.52829C11.6937 8.50962 11.8429 8.5 11.9944 8.5C13.9274 8.5 15.4944 10.067 15.4944 12C15.4944 12.1515 15.4848 12.3007 15.4661 12.4471Z" fill="#fff"/><path d="M18.1118 15.0928C19.0284 14.4702 19.7715 13.7805 20.3413 13.1634C20.9657 12.4872 20.9657 11.5128 20.3413 10.8366C18.8117 9.18002 16.0331 7 12 7C11.3594 7 10.7505 7.05499 10.1732 7.15415L8.50483 5.48582C9.5621 5.1826 10.7272 5 12 5C16.8112 5 20.0833 7.60905 21.8107 9.47978C23.1426 10.9222 23.1426 13.0778 21.8107 14.5202C21.2305 15.1486 20.476 15.8603 19.5474 16.5284L18.1118 15.0928Z" fill="#fff"/><path d="M2.00789 3.42207C1.61736 3.03155 1.61736 2.39838 2.00789 2.00786C2.39841 1.61733 3.03158 1.61733 3.4221 2.00786L22.0004 20.5862C22.391 20.9767 22.391 21.6099 22.0004 22.0004C21.6099 22.3909 20.9767 22.3909 20.5862 22.0004L2.00789 3.42207Z" fill="#fff"/></svg>';
			}

		lazyLoadingTag=' loading="lazy" ';
		if(doNotLazyLoad) {
			// for improving LCP of first N images do not lazy load
			lazyLoadingTag='';
		}

		predictionIdDataTag='';
				var copycatImageHTML='';

		if(!photo['template']) {
			//
			// hide copycat pics if it's a photo pack, because we use those to improve pic quality but not relevant to show them to user
			// like headshot poses
			//
			if(photo['copycat_url']) {
				copycatImageHTML='<img src="/cdn-cgi/image/format=auto,fit=cover,width=100,quality=50/'+photo['copycat_url']+'" class="copycat_image" />';
			}

			if(photo['clothing_url']) {
				copycatImageHTML='<img src="/cdn-cgi/image/format=auto,fit=cover,width=100,quality=50/'+photo['clothing_url']+'" class="copycat_image" />';
			}
		}

		if(typeof src=='undefined') {
			// back up if src fails for placeholders
			var src='https://photoai.com/cdn-cgi/image/format=jpeg,fit=cover,width=512,height=768,quality=85/https://photoai.com/assets/photo-ai-social-media-pic-2023-01-13.jpg?1'
		}

		var outputImageHTML='';

		if(photo['flux']) {
			extraClasses=extraClasses+' flux ';
		}

		if(photo['video']) {
			var video=photo;
			var videoAutoplay='';
			if(photo['original_photo_url'].indexOf('cdn-cgi')>-1) {
				// already has CDN we use for resizign for Stable Video Diffusion fit
				var videoPlaceholderPhotoURL=photo['original_photo_url'];
			}
			else {
				var videoPlaceholderPhotoURL=cloudflareCDN+photo['original_photo_url'];
			}
			extraClasses=extraClasses+' video ';
			var outputImageHTML='<video preload="none" poster="'+videoPlaceholderPhotoURL+'" type="video/mp4" loop muted '+lazyLoadingTag+' data-original-photo-url="'+photo['original_photo_url']+'" data-width="'+video['width']+'" data-height="'+video['height']+'" width="'+photo['width']+'" height="'+video['height']+'" class="output_image" '+originalImageAsDataSrc+' '+preprocessedImageAsDataSrc+' src="'+src+'"></video>';
		}
		else {
			var outputImageHTML='<img '+lazyLoadingTag+' data-width="'+photo['width']+'" data-height="'+photo['height']+'" width="'+photo['width']+'" height="'+photo['height']+'" class="output_image" '+originalImageAsDataSrc+' '+preprocessedImageAsDataSrc+' src="'+cloudflareCDN+src+'">';
		}

					// frontpage, guest, so wrrap img around <a href> to the public photo page
			var outputImageHTML='<a href="/photo/'+photo['slug']+'">'+outputImageHTML+'</a>';

		if(photo[''])

		if(photo['edit']) {
			extraClasses=extraClasses+' edit ';
		}

		var topLeftLabelHtml='';
		var topLeftLabel='';
		if(photo['emotion']) {
			// topLeftLabel=$('.sidebar .emotion option[value="'+photo['emotion']+'"]').text();
			topLeftLabel=photo['emotion'];
		}

		if(photo['camera']) {
			if(topLeftLabel) {
				topLeftLabel=topLeftLabel+' | ';
			}
			// topLeftLabel=topLeftLabel+' '+$('.sidebar .camera option[value="'+photo['camera']+'"]').text();
			topLeftLabel=topLeftLabel+photo['camera'];
		}

		if(photo['film']) {
			if(topLeftLabel) {
				topLeftLabel=topLeftLabel+' | ';
			}
			// topLeftLabel=topLeftLabel+' '+$('.sidebar .camera option[value="'+photo['camera']+'"]').text();
			topLeftLabel=topLeftLabel+photo['film'];
		}

		if(photo['place']) {
			if(topLeftLabel) {
				topLeftLabel=topLeftLabel+' | ';
			}
			var placeLabel='';
			$('.sidebar select.place option').each(function() {
				if ($(this).val() === photo['place']) {
					placeLabel = $(this).text();
				}
			});
			if(placeLabel) {
				topLeftLabel=topLeftLabel+' '+placeLabel;
			}
			else {
				topLeftLabel=topLeftLabel+photo['place'];
			}
		}
		topLeftLabel=topLeftLabel.trim();
		if(topLeftLabel) {
			topLeftLabelHtml='<div class="top_left_label">'+topLeftLabel+'</div>';
		}

		console.log(photo['width'],photo['height'],photo['width']>photo['height']);

		return ''+
			'<div class="div_output_image '+extraClasses+'" data-offset="'+offsetCounter+'" data-photo-id="'+photo['photo_id']+'" data-model-id="'+photo['model_id']+'" '+guidanceScaleDataTag+' '+faceFixDataTag+' '+faceswapDataTag+' '+upscaleStrengthDataTag+' '+addNoiseDataTag+' '+predictionIdDataTag+' '
				+' '+seedDataTag+' '+stepsDataTag+' '+samplerDataTag
				+cameraDataTag+filmDataTag+modelStrengthTag+placeDataTag+emotionDataTag+manualPromptDataTag+' '+manualNegativePromptDataTag+' '+rootPromptDataTag+ ' '+rootNegativePromptDataTag+'>'+
												topLeftLabelHtml+
				'<div class="div_output_image_buttons">'+
					outputImageButtonsHtml+
				'</div>'+
				'<div class="div_output_image_meta">'+
					extraMetaText+agoText+tookText+
				'</div>'+
				loadingSpinnerHTML
				+
				nsfwIconHTML
				+
				'<div class="div_output_image_container">'+
					copycatImageHTML
					+
					outputImageHTML
				'</div>'+
			'</div>';
	}

	function in_array(needle, haystack, argStrict) {
		var key = '',
		strict = !! argStrict;

		//we prevent the double check (strict && arr[key] === ndl) || (!strict && arr[key] == ndl)
		//in just one for, in order to improve the performance
		//deciding wich type of comparation will do before walk array
		if (strict) {
		for (key in haystack) {
			if (haystack[key] === needle) {
			return true;
			}
		}
		} else {
		for (key in haystack) {
			if (haystack[key] == needle) {
			return true;
			}
		}
		}

		return false;
	}

	function shuffle(array) {
		let currentIndex = array.length,  randomIndex;

		// While there remain elements to shuffle.
		while (currentIndex > 0) {

			// Pick a remaining element.
			randomIndex = Math.floor(Math.random() * currentIndex);
			currentIndex--;

			// And swap it with the current element.
			[array[currentIndex], array[randomIndex]] = [
			array[randomIndex], array[currentIndex]];
		}

		return array;
	}

	function setCookie(cname, cvalue, extimeDays) {
		var d = new Date();
		d.setTime(d.getTime() + (extimeDays*86400*1000));
		var expires = "expires="+d.toGMTString();
		document.cookie = cname + "=" + cvalue + "; " + expires+'; secure;domain=.'+location.hostname+';path=/; samesite=lax';
	}
	function getCookie(cname) {
			var name = cname + "=";
			var ca = document.cookie.split(';');
			for(var i=0; i<ca.length; i++) {
					var c = ca[i];
					while (c.charAt(0)==' ') c = c.substring(1);
					if (c.indexOf(name) != -1) return c.substring(name.length,c.length);
			}
			return "";
	}
	function str_replace(search, replace, subject, count) {
		var i = 0,
			j = 0,
			temp = '',
			repl = '',
			sl = 0,
			fl = 0,
			f = [].concat(search),
			r = [].concat(replace),
			s = subject,
			ra = Object.prototype.toString.call(r) === '[object Array]',
			sa = Object.prototype.toString.call(s) === '[object Array]';
		s = [].concat(s);
		if (count) {
			this.window[count] = 0;
		}

		for (i = 0, sl = s.length; i < sl; i++) {
			if (s[i] === '') {
				continue;
			}
			for (j = 0, fl = f.length; j < fl; j++) {
				temp = s[i] + '';
				repl = ra ? (r[j] !== undefined ? r[j] : '') : r[0];
				s[i] = (temp)
					.split(f[j])
					.join(repl);
				if (count && s[i] !== temp) {
					this.window[count] += (temp.length - s[i].length) / f[j].length;
				}
			}
		}
		return sa ? s : s[0];
	}

	function escapeHtml(text) {
		if(typeof text=='number') {
			var text=text.toString();
		}

		var map = {
			'&': '&amp;',
			'<': '&lt;',
			'>': '&gt;',
			'"': '&quot;',
			"'": '&#039;'
		};

		return text.replace(/[&<>"']/g, function(m) { return map[m]; });
	}

	function timeAgoShort(epoch) {
		var secs = ((new Date()).getTime() / 1000) - epoch;
		Math.floor(secs);
		var minutes = secs / 60;
		secs = Math.floor(secs % 60);
		if (minutes < 1) {
			return secs + (secs > 1 ? 's' : 's');
		}
		var hours = minutes / 60;
		minutes = Math.floor(minutes % 60);
		if (hours < 1) {
			return minutes + (minutes > 1 ? 'm' : 'm');
		}
		var days = hours / 24;
		hours = Math.floor(hours % 24);
		if (days < 1) {
			return hours + (hours > 1 ? 'h' : 'h');
		}
		/*var weeks = days / 7;
		days = Math.floor(days % 7);
		if (weeks < 1) {
			return days + (days > 1 ? 'd' : 'd');
		}
		var months = weeks / 4.35;
		weeks = Math.floor(weeks % 4.35);
		if (months < 1) {
			return weeks + (weeks > 1 ? 'w' : 'w');
		}*/
		var months = days / 30;
		days = Math.floor(days % 30);
		if (months < 1) {
			return days + (days > 1 ? 'd' : 'd');
		}
		var years = months / 12;
		months = Math.floor(months % 12);
		if (years < 1) {
			return months + (months > 1 ? 'mo' : 'mo');
		}
		years = Math.floor(years);
		return years + (years > 1 ? 'y' : 'y');
	}
	function loadingSpinnerStep(photo_id) {

		//
		// this function increments the loading spinner used when placeholder images are loading
		// it is tied to each photo_id in an array so each photo has its own progress spinner
		//

		if(typeof loadingSpinnerPhotoIdsFinished[photo_id]!=='undefined') {
			// if finished end
			return;
		}
		if(typeof loadingSpinnerStartTime[photo_id]=='undefined') {
			loadingSpinnerStartTime[photo_id]=microtime();
		}
		if(typeof loadingSpinnerProgress[photo_id]=='undefined') {
			loadingSpinnerProgress[photo_id]=0;
		}

		if(typeof polledServerCount[photo_id]=='undefined') {
			polledServerCount[photo_id]=0;
		}

		// base progress bar time on avg waiting time, e.g. 100% is the avg waiting time
		// var loadingSpinnerDelayBasedOnAvgWaitingTime=1000/60*avgWaitingTime/10;


		loadingSpinnerProgress[photo_id]=loadingSpinnerProgress[photo_id]+0.1;

		// if(loadingSpinnerProgress[photo_id]>99) {
		// 	loadingSpinnerProgress[photo_id]=99;
		// 	// end at 99
		// 	return;
		// }
		// if(loadingSpinnerProgress[photo_id]>95) {
		// 	// delay at end
		// 	loadingSpinnerDelay[photo_id]=loadingSpinnerDelayBasedOnAvgWaitingTime+loadingSpinnerProgress[photo_id]*20;
		// }
		// else if(loadingSpinnerProgress[photo_id]>90) {
		// 	// delay at end
		// 	loadingSpinnerDelay[photo_id]=loadingSpinnerDelayBasedOnAvgWaitingTime+loadingSpinnerProgress[photo_id]*8;
		// }
		// else if(loadingSpinnerProgress[photo_id]>75) {
		// 	// delay at end
		// 	loadingSpinnerDelay[photo_id]=loadingSpinnerDelayBasedOnAvgWaitingTime+loadingSpinnerProgress[photo_id]*3;
		// }
		// else {
		// 	loadingSpinnerDelay[photo_id]=loadingSpinnerDelayBasedOnAvgWaitingTime;
		// }


		$('.photo-'+photo_id+' .loading_message').show();

		var timeSpentSeconds=(microtime()-loadingSpinnerStartTime[photo_id])/1000;

		if(timeSpentSeconds>60) {
			var addZero='';
			if((timeSpentSeconds-Math.floor(timeSpentSeconds/60)*60)<10) {
				addZero='0';
			}
			timeSpentText=Math.floor(timeSpentSeconds/60)+'m'+addZero+(timeSpentSeconds-Math.floor(timeSpentSeconds/60)*60).toFixed(0)+'s';
		}
		else {
			timeSpentText=timeSpentSeconds.toFixed(1)+'s';
		}
		if(!loadingSpinnerPhotoIdsPreprocessed[photo_id]) {
			// if(timeSpentSeconds>180) {
				// timeSpentText='Booting up model, this usually takes 3mins and it\'s fast once it\'s booted...<br/><br/>'+timeSpentText;
			// }
			if(timeSpentSeconds>1000) {
				timeSpentText='This is taking longer than expected. Try reloading the page.<br/><br/>Processing runs in the background and will show up when you come back later.<br/><br/>'+timeSpentText;
			}
		}
		$('.photo-'+photo_id+' .loading_spinner .loading_message').html(timeSpentText);

		// slowly unblur pic until done
		// var blurAmountPx=Math.round(25 * (1 - timeSpentSeconds / 180)*10)/10;
		// console.log(blurAmountPx);
		// console.log($('.photo-'+photo_id+' .div_output_image_container img.output_image').length);
		// console.log('.photo-'+photo_id+' .div_output_image_container img.output_image');
		// $('.photo-'+photo_id+'.postprocessing .div_output_image_container img.output_image').css('filter','blur('+blurAmountPx+'px)');



		if(!loadingSpinnerPhotoIdsFinished[photo_id]) {
			// loadingSpinnerTimeout[photo_id]=setTimeout(loadingSpinnerStep,loadingSpinnerDelay[photo_id],photo_id);
			window.requestAnimationFrame(function() {
				loadingSpinnerStep(photo_id);
			});
		}

		// console.log('loadingSpinnerStep '+photo_id+' '+loadingSpinnerDelay[photo_id]+'ms '+loadingSpinnerProgress[photo_id]+'%');
	}


	function waitForServerToGenerate(photo_id,what) {
		//
		// check every N seconds, if output_image_uid.json exists yet after requesting to generate it
		// the JSON contains the images
		//

		if(typeof photo_id==='undefined') {
			return;
		}

		// console.log('waitForServerToGenerate '+photo_id);
		polledServerCount[photo_id]++;


		// try N times then give up
		if(polledServerCount[photo_id]>1000) {
			// alert("Giving up, the AI API might be down, sometimes it's a bit unstable. Please try again in an hour! Upgrade to Pro and you can can come back later and your renders will show up when you reload the page in your own private workspace.");
			console.log('max polled, so stop trying now');
			// showStripeModal();
			$('.loading_spinner.main').hide();
			clearTimeout(loadingSpinnerTimeout);
			$('.loading_spinner .loading_message').text('');
			return;
		}

		var time=Math.floor(Date.now() / 1000);

		console.log(what);


		if(what=='poll_for_preprocessed') {
			var url='/assets/tmp/'+photo_id+'-pre.json?'+time;
		}
		else if(what=='poll_for_postprocessed') {
			var url='/assets/tmp/'+photo_id+'.json?'+time;
		}
		else if(what=='poll_for_auto_detect_prompt') {
			var url='/assets/tmp/'+photo_id+'-prompt.json?'+time;
			var val=$('div.sidebar textarea.manual_prompt').val();
			if(val.indexOf('...')>-1) {
				$('.sidebar textarea.manual_prompt').val('Detecting prompt, this might take 30 seconds.');
			}
			else if(val.indexOf('..')>-1) {
				$('.sidebar textarea.manual_prompt').val('Detecting prompt, this might take 30 seconds...');
			}
			else if(val.indexOf('.')>-1) {
				$('.sidebar textarea.manual_prompt').val('Detecting prompt, this might take 30 seconds..');
			}

		}
		else if(what=='poll_for_auto_detect_clothes') {
			var url='/assets/tmp/'+photo_id+'-prompt.json?'+time;
			var val=$('div.sidebar textarea.manual_prompt').val();
			if(val.indexOf('...')>-1) {
				$('.sidebar textarea.manual_prompt').val('Analyzing clothes, this might take 30 seconds.');
			}
			else if(val.indexOf('..')>-1) {
				$('.sidebar textarea.manual_prompt').val('Analyzing clothes, this might take 30 seconds...');
			}
			else if(val.indexOf('.')>-1) {
				$('.sidebar textarea.manual_prompt').val('Analyzing clothes, this might take 30 seconds..');
			}
		}
		else {
			alert("No poll for what in waitForServerToGenerate specified");
			return;
		}

		$.ajax({
			async:true,
			timeout: 3000,
			url: url,
			type: 'GET'
		}).done(function(photo) {

			if(what=='poll_for_auto_detect_prompt') {
				var prompt=photo;
				$('.loading_spinner.main').hide();
				$('.sidebar textarea.manual_prompt').val(prompt.prompt);

				if(prompt.prompt!='') {
					// scroll to manual prompt to show it's auto detected
					$('.sidebar').animate({scrollTop:-$('.sidebar').offset().top+$('.sidebar').scrollTop()+$('.sidebar textarea.manual_prompt').eq(0).offset().top-28});

					$('.sidebar textarea.manual_prompt').addClass('active');
					// preset light copycat strength if we have both prompt and image now
					// because it gives enough info to make similar image on light mode if
					// we have prompt + increases resemblance
					$('.copycat_strength').val(0.3);
				}
				autoDetectingPromptNow=false;
				return;
			}

			if(what=='poll_for_auto_detect_clothes') {
				var prompt=photo;
				$('.loading_spinner.main').hide();

				if(prompt.prompt!='') {
					$('.sidebar textarea.manual_prompt').val('(full body frontal photo) of model wearing '+prompt.prompt+'');
					$('.sidebar textarea.manual_prompt').addClass('active');
				}

				autoDetectingPromptNow=false;
				return;
			}

			// <show preprocessed image first for speed>
				if(
					photo['status']=='postprocessing'
				) {
					// photo not done post processing yet, but preprocessed pic ready, show that first!
					console.log(photo['photo_id']+' is done generating! adding preprocessed photo now');
					// var html=makePhotoBox(photo);


					var html=makePhotoBox(photo);
					// replace placeholder for specific photo with photo that's done
					$('.div_output_image.photo-'+photo['photo_id']).replaceWith(html);
					// $('.div_output_image.photo-'+photo['photo_id']).remove();
					// $('.div_output_images').prepend(html);

					// keep polling for post processed image so we can replace preprocessed pic with it once it's done
					setTimeout(waitForServerToGenerate,(pollIntervalTime*2*Math.random()),photo['photo_id'],'poll_for_postprocessed');

					// set 50% because post processing still busy now
					loadingSpinnerProgress[photo['photo_id']]=50;

					loadingSpinnerPhotoIdsPreprocessed[photo_id]=true;
				}
			// </show preprocessed image first for speed>

			// <show finished image after>
				if(
					photo['status']=='finished' ||
					photo['status']=='nsfw_detected' /* if nsfw detected, also finish but don't show pic */
				) {
					// newly finished photo, add it
					console.log(photo['photo_id']+' is finished! adding to photos now');

					if(photo['status']=='finished') {
						if(photo.cost_in_credits) {
							// decrement user credits with cost of finished photo from the photo's cost_in_credits data
							$('.photoCreditsLeft').data('credits',
								$('.photoCreditsLeft').data('credits')-photo.cost_in_credits
							);
							$('.photoCreditsLeft').text(number_format(
								$('.photoCreditsLeft').data('credits')
							));
							$('.photoCreditsLeft').addClass('glow');
							setTimeout(function() {
								$('.photoCreditsLeft').removeClass('glow')
							},500);
						}
					}

					if(photo['photo_id'].split('-')[2]==1){
						//
						// only get avg waiting time from the FIRST photo of the batch
						// cause they run sequentially so it doesn't make sense to show
						// avg waiting time for later ones
						//
						avgWaitingTime=Math.round(photo['epoch_finished']-photo['epoch_queued']);

						if(avgWaitingTime>60) {
							var addZero='';
							if((avgWaitingTime-Math.floor(avgWaitingTime/60)*60)<10) {
								addZero='0';
							}
							var avgWaitingTimeText=Math.floor(avgWaitingTime/60)+'m'+addZero+(avgWaitingTime-Math.floor(avgWaitingTime/60)*60).toFixed(0)+'s';
						}
						else {
							avgWaitingTimeText=avgWaitingTime+'s';
						}

						$('.avgWaitingTime').text(avgWaitingTimeText);
					}

					var html=makePhotoBox(photo);

					// replace placeholder for specific photo with photo that's done
					$('.div_output_image.photo-'+photo['photo_id']).replaceWith(html);
					// $('.div_output_image.photo-'+photo['photo_id']).remove();
					// $('.div_output_images').prepend(html);

					// set finished so spinner stops
					loadingSpinnerPhotoIdsFinished[photo_id]=true;

					// check if all images are done and we can unlock take photo button
					if(
						!$('.div_output_images .div_output_image.placeholder').length &&
						!$('.div_output_images .div_output_image.preprocessed').length
					) {
						$('.action-take-photo').removeClass('disabled');
						$('html').removeClass('taking-photos');
					}
				}
			// </show finished image after>



		}).fail(function(reply) {
			// alert("error");
			// console.log('FAIL Poll try #'+polledServerCount[photo_id]+', not yet ready for '+photo_id);

			if(what=='poll_for_auto_detect_prompt') {
				$('.sidebar textarea.manual_prompt').val('Detecting prompt, not ready yet...');
			}

							setTimeout(waitForServerToGenerate,(pollIntervalTime*2*Math.random()),photo_id,what);
					});
	}


	async function preprocessImageFromFileUploader(fileIndex) {
		// console.log('=============');
		console.log('processing image #'+fileIndex);

		var totalFiles = $('.input_training_uploader')[0].files.length;

		if(
			$('.select_create_model_base').val()=='flux' ||
			empty($('.select_create_model_base').val())
		) {
			trainingResolution=1024;
		}

		$('.div_training_uploader .loading_spinner').show();
		$('.div_training_uploader .loading_spinner .loading_message').show();
		$('.div_training_uploader .loading_spinner .loading_message').text(
			(fileIndex+1)+'/'+totalFiles
		);
		$('.div_training_uploader_center').hide();

		// <process image>
			var file=$('.input_training_uploader')[0].files[fileIndex];
			// console.log(file.name);

			var fileReader = new FileReader();

			if(typeof file==='undefined') {
				// not a good file, skip
				console.log('Bad file: '+(typeof file));
				// preprocessImageFromFileUploader(fileIndex+1);
				return;
			}

			fileReader.readAsDataURL(file);

			fileReader.onload = function () {

				console.log('#'+fileIndex+' fileReader.onload');

				// <flux>
					if(
						$('.select_create_model_base').val()=='flux' ||
						empty($('.select_create_model_base').val())
					) {

						var img = document.createElement('img');
						img.src = fileReader.result;

						$('.div_training_uploader .img_training').attr('src',fileReader.result);

						img.onerror = async function() {
							console.log('#'+fileIndex+' error creating img object, skipping photo');
							preprocessImageFromFileUploader(fileIndex+1);
							return;
						}

						img.onload = async function() {
							var maxWidth = 1024;
							var maxHeight = 1024;

							var width = img.width;
							var height = img.height;

							if (width > height) {
								if (width > maxWidth) {
									height *= maxWidth / width;
									width = maxWidth;
								}
							} else {
								if (height > maxHeight) {
									width *= maxHeight / height;
									height = maxHeight;
								}
							}

							var canvas = document.createElement('canvas');
							canvas.width = width;
							canvas.height = height;

							var ctx = canvas.getContext('2d');
							ctx.drawImage(img, 0, 0, width, height);

							var dataURL = canvas.toDataURL('image/jpeg');

							$('.img_training_results').append('<img style="outline:4px solid red" src="'+dataURL+'">&nbsp;');

							var blob = await new Promise(resolve => canvas.toBlob(resolve,'image/jpeg'));
							filesToUploadBlobs.push(blob);


							// <if done all quit>
								if(fileIndex>=(totalFiles-1)) {
									// done all pics, start uploading here?
									console.log('Done! Processed '+totalFiles+', of which '+filesToUploadBlobs.length+' passed');
									$('.div_training_uploader').addClass('primed');
									$('.action-train-model').removeClass('disabled');
									$('.div_training_uploader .loading_spinner').hide();
									$('.div_training_uploader').css('background-image','');
									$('.div_training_uploader').removeClass('active');
									$('.div_training_uploader_center').show();

									if(duplicatePhotosFound || similarPhotosFound) {
										if(filesToUploadBlobs.length<510) {
											// not enough pics after filtering duplicates and similar ones so abort
											alert("The photos you uploaded are too similar and not varied enough. Try selecting photos in more varied settings like different places at different times. A photo shoot in the same room with the same clothes does not work for example. The AI needs to see you in different settings to understand how you look. Ask your friends for photos of you, they're usually very varied.");

											// <reset upload box and quit>
												userIsUploading=false;
												filesToUploadBlobs=[];
												trainingUploadResemblanceCheckDataURLs=[];
												$('.input_training_uploader').val('');
												$('.input_training_uploader').removeClass('disabled');

												$('.div_training_uploader').css('background-image','');
												$('.div_training_uploader').removeClass('active');
												$('.div_training_uploader_center').show();
												$('.div_training_uploader').removeClass('primed');
												$('.action-train-model').removeClass('disabled');
												$('.div_training_uploader .loading_spinner').hide();
											// </reset upload box and quit>

											return false;
										}
									}


									// if we here, all good
									$('.action-train-model').click();
								}
								else {
									// more pics to do! do next pic
									console.log('Now have '+(filesToUploadBlobs.length)+' usable photos');
									preprocessImageFromFileUploader(fileIndex+1)
								}
							// </if done all quit>

						}

					}
				// <flux>
				// <legacy training scaling>
					else {
						// <prescale image for face detection>
							var img = document.createElement('img');
							img.src = fileReader.result;

							$('.div_training_uploader .img_training').attr('src',fileReader.result);

							// console.log('#'+fileIndex+' '+fileReader.result);
							// console.log('#'+fileIndex);

							img.onerror = function() {
								console.log('#'+fileIndex+' error creating img object, skipping photo');
								preprocessImageFromFileUploader(fileIndex+1);
								return;
							}

							img.onload = function() {

								console.log('#'+fileIndex+' created img object loaded');

								// Dynamically create a canvas element
								var canvasResize = document.createElement("canvas");
								var ctxResize = canvasResize.getContext("2d");

								// Actual resizing
								if(img.width<=img.height) {
									// console.log('#'+fileIndex+' img.width='+img.width);
									// console.log('#'+fileIndex+' img.height='+img.height);
									ctxResize.width=(trainingResolution*trainingInputMultiplier);
									ctxResize.height=Math.round(img.height/img.width*(trainingResolution*trainingInputMultiplier));
									// console.log('#'+fileIndex+' resized width='+ctxResize.width);
									// console.log('#'+fileIndex+' resized height='+ctxResize.height);
									canvasResize.width=ctxResize.width;
									canvasResize.height=ctxResize.height;
									ctxResize.drawImage(img, 0, 0, ctxResize.width, ctxResize.height);
								}
								else {
									// console.log('#'+fileIndex+' img.width='+img.width);
									// console.log('#'+fileIndex+' img.height='+img.height);
									ctxResize.height=(trainingResolution*4);
									ctxResize.width=Math.round(img.width/img.height*(trainingResolution*trainingInputMultiplier));
									// console.log('#'+fileIndex+' resized width='+ctxResize.width);
									// console.log('#'+fileIndex+' resized height='+ctxResize.height);
									canvasResize.width=ctxResize.width;
									canvasResize.height=ctxResize.height;
									ctxResize.drawImage(img, 0, 0, ctxResize.width, ctxResize.height);
								}

								console.log('resizing from '+img.width+'x'+img.height+' to '+ctxResize.width+'x'+ctxResize.height);


								// Show resized image in preview element
								var dataURL = canvasResize.toDataURL('image/jpeg');
								var imgResized = document.createElement('img');
								imgResized.src = dataURL;
								imgResized.width=ctxResize.width;
								imgResized.height=ctxResize.height;

								$('.div_training_uploader').css('background-image','url('+dataURL+')');

								$('.img_training_results').append('<img style="outline:4px solid green" src="'+dataURL+'">&nbsp;');

								// imgResized.classList.add('upload-image-preview');
								// document.body.appendChild(imgResized);

								// <resize image finished onload>
									imgResized.onload = async function() {

										// Show cropped image in preview element
										var dataURL = canvasResize.toDataURL('image/jpeg');

										// generate md5 hash to check for duplicates in training set to skip
										var dataMD5 = md5(dataURL);

										var skipFaceDetect=false;
										var skipResemblanceCheck=false;

										var skipImageBecauseTooSimilar=false;



										if(
											$('.select_create_model_gender').val()=='couple' ||
											$('.select_create_model_gender').val()=='style'
										) {
											// skip face detect on couple because it'll zoom in on ONE face but we need both faces
											skipFaceDetect=true;
										}

										if($('.select_create_model_gender').val()=='style') {
											// skip face detect on style
											skipFaceDetect=true;
											// skip resemblance check on style
											skipResemblanceCheck=true;
										}


										if(skipImageBecauseTooSimilar) {
											//
											//
											//
											similarPhotosFound++;
											// $('.img_training_results').append('<img style="outline:4px solid red" src="'+resemblanceCheckDataURL+'">&nbsp;');
											console.log("skipImageBecauseTooSimilar, skipping");
										}
										else if(in_array(dataMD5,duplicatePhotoFinderMD5)) {
											//
											// duplicate photo detected from same md5 hash, skip this pic
											//
											duplicatePhotosFound++;
											console.log("Duplicate photo detected with hash "+dataMD5+", skipping");
											// $('.img_training_results').append('<img style="outline:4px solid red" src="'+dataURL+'">&nbsp;');
											//
										}
										else {
											// not duplicate, continue;
											duplicatePhotoFinderMD5.push(dataMD5);

											// <body/full pic>
												if(
													Math.floor(Math.random()*2) || /* half the time */
													$('.select_create_model_gender').val()=='style' /* for style/object etc we don't have face crop so we need ALL the pics */
												) {
													// only do half the times though to avoid oversaturating face training with same face cause gets distortionts

													// <crop to fit whole pic>
														//
														// after face crop, also add the full frame picture to train body
														//

														var canvasFitCrop = document.createElement("canvas");
														var ctxFitCrop = canvasFitCrop.getContext("2d");
														ctxFitCrop.width=trainingResolution;
														ctxFitCrop.height=trainingResolution;
														canvasFitCrop.width=trainingResolution;
														canvasFitCrop.height=trainingResolution;

														// make bg white for padding
														// ctxFitCrop.fillStyle = "#fff";
														// ctxFitCrop.fillRect(0, 0, canvasFitCrop.width, canvasFitCrop.height);

														var sourceX=0;
														var sourceY=0;

														var sourceWidth=img.width;
														var sourceHeight=img.height;
														var sourceWidthRatio=ctxFitCrop.width/img.width;
														// console.log('sourceWidthRatio='+sourceWidthRatio);
														var sourceHeightRatio=ctxFitCrop.height/img.height;
														// console.log('sourceHeightRatio='+sourceHeightRatio);
														var sourceRatio=Math.min(sourceHeightRatio,sourceWidthRatio);


														// Calculate the centered position for the destination image
														// var destX = (ctxFitCrop.width - destWidth) / 2;
														// var destY = (ctxFitCrop.height - destHeight) / 2;
														var destX=0;
														var destY=0;

														var destX=(ctxFitCrop.width-img.width*sourceRatio)/2;
														var destY=(ctxFitCrop.height-img.height*sourceRatio)/2;


														var destWidth=sourceWidth*sourceRatio;
														var destHeight=sourceHeight*sourceRatio;

														ctxFitCrop.drawImage(img, sourceX, sourceY, sourceWidth, sourceHeight, destX, destY, destWidth, destHeight);
														// console.log(sourceX, sourceY, sourceWidth, sourceHeight, destX, destY, destWidth, destHeight);


														var dataURL = canvasFitCrop.toDataURL('image/jpeg');
														var imgFitCrop = document.createElement('img');
														imgFitCrop.src = dataURL;
														imgFitCrop.width=trainingResolution;
														imgFitCrop.height=trainingResolution;

														// $('.div_training_uploader').css('background-image','url('+dataURL+')');

														$('.img_training_results').append('<img style="outline:4px solid red" src="'+dataURL+'">&nbsp;');

														var blob = await new Promise(resolve => canvasFitCrop.toBlob(resolve,'image/jpeg'));
														filesToUploadBlobs.push(blob);
														// filesToUploadDataURLs.push(dataURL);
													// </crop to fit whole pic>


													// // <scale down crop to fit pic for resemblance>
													// 	// if(totalFiles<40) {
													// 		// if too many pics we can't do this cause training will be too long and time out
													// 		//
													// 		// "Olivio Sarikas, he does videos for LoRa and stuff like that. And he says for good small faces in the generated images we need also small faces in the dataset."
													// 		//
													// 		var canvasScaledFitCrop = document.createElement("canvas");
													// 		canvasScaledFitCrop.width=trainingResolution;
													// 		canvasScaledFitCrop.height=trainingResolution;
													// 		var ctxScaledFitCrop = canvasScaledFitCrop.getContext("2d");
													// 		ctxScaledFitCrop.width=trainingResolution;
													// 		ctxScaledFitCrop.height=trainingResolution;

													// 		// scale down
													// 		destWidth=Math.round(imgFitCrop.width/2);
													// 		destHeight=Math.round(imgFitCrop.height/2);

													// 		var sourceX=0;
													// 		var sourceY=0;
													// 		var sourceWidth=imgFitCrop.width;
													// 		var sourceHeight=imgFitCrop.height;

													// 		var sourceWidthRatio=destWidth/imgFitCrop.width;
													// 		var sourceHeightRatio=destHeight/imgFitCrop.height;
													// 		var sourceRatio=Math.min(sourceHeightRatio,sourceWidthRatio);


													// 		var destX=0;
													// 		var destY=0;

													// 		var destX=(ctxFitCrop.width-img.width*sourceRatio)/2;
													// 		var destY=(ctxFitCrop.height-img.height*sourceRatio)/2;




													// 		var destX=Math.round(150/512*trainingResolution);
													// 		var destY=Math.round(100/512*trainingResolution);
													// 		ctxScaledFitCrop.drawImage(imgFitCrop, sourceX, sourceY, sourceWidth, sourceHeight, destX, destY, destWidth, destHeight);


													// 		// now rotate it a bit
													// 		// ctxScaledFitCrop.translate(canvasScaledFitCrop.width/2,canvasScaledFitCrop.height/2);
													// 		// ctxScaledFitCrop.rotate(5*Math.PI/180);
													// 		// var dataURL = canvasScaledFitCrop.toDataURL('image/jpeg');
													// 		// var imgScaledFitCrop = document.createElement('img');

													// 		// ctxScaledFitCrop.drawImage(imgScaledFitCrop, 0, 0, trainingResolution, trainingResolution, 0, 0, trainingResolution, trainingResolution);
													// 		// ctxScaledFitCrop.rotate(-5*Math.PI/180);
													// 		// ctxScaledFitCrop.translate(-canvasScaledFitCrop.width/2,-canvasScaledFitCrop.height/2);


													// 		// Show cropped image in preview element
													// 		var dataURL = canvasScaledFitCrop.toDataURL('image/jpeg');
													// 		var imgScaledFitCrop = document.createElement('img');
													// 		imgScaledFitCrop.src = dataURL;
													// 		imgScaledFitCrop.width=destWidth;
													// 		imgScaledFitCrop.height=destHeight;

													// 		// $('.div_training_uploader').css('background-image','url('+dataURL+')');

													// 		$('.img_training_results').append('<img style="outline:4px solid yellow" src="'+dataURL+'">&nbsp;');

													// 		// save as blob
													// 		var blob = await new Promise(resolve => canvasScaledFitCrop.toBlob(resolve,'image/jpeg'));
													// 		filesToUploadBlobs.push(blob);
													// 		// filesToUploadDataURLs.push(dataURL);
													// 	// }
													// // </scale down crop to fit pic for resemblance>
												}
											// </body/full pic>



											// <face pic>

												if(!skipFaceDetect) {
													console.log('starting face detect');
													var faceApiFace = await faceapi.detectSingleFace(imgResized, new faceapi.TinyFaceDetectorOptions());
													console.log('executed face detect');
												}


												if(
													!skipFaceDetect &&
													typeof faceApiFace !=='undefined' &&
													typeof faceApiFace['_box'] !=='undefined'
												) {

													console.log('cropping on face');

													// <crop on face>
														var face=[];
														face['x']=faceApiFace['_box']['_x'];
														face['y']=faceApiFace['_box']['_y'];
														face['width']=faceApiFace['_box']['_width'];
														face['height']=faceApiFace['_box']['_height'];

														// $('.img_training_results').append('<img src="'+fileReader.result+'">');

														// <make face a square box>
															if(face['width']>=face['height']) {
																var faceSquareSize=face['width'];
															}
															else if(face['height']>=face['width']) {
																var faceSquareSize=face['height'];
															}
															if(imgResized.width>=imgResized.height) {
																var facePadding=Math.round(imgResized.width*0.1);
															}
															else if(imgResized.height>=imgResized.width) {
																var facePadding=Math.round(imgResized.height*0.1);
															}
														// </make face a square box>

														// var sourceX=face['x'];
														var sourceX=face['x']-facePadding;

														// correct for hair so go N paddings up but no paddings down
														// var sourceY=face['y'];
														var sourceY=face['y']-facePadding*1.5;
														var sourceWidth=faceSquareSize+facePadding*2;
														var sourceHeight=faceSquareSize+facePadding*2;


														if(sourceX<0) {
															// if out of bounds, put it back
															sourceX=0;
														}
														if(sourceY<0) {
															// if out of bounds, put it back
															sourceY=0;
														}

														var destX=0;
														var destY=0;



														var destWidth=trainingResolution;
														var destHeight=trainingResolution;

														var canvasFaceCrop = document.createElement("canvas");
														canvasFaceCrop.width=destWidth;
														canvasFaceCrop.height=destHeight
														var ctxFaceCrop = canvasFaceCrop.getContext("2d");
														ctxFaceCrop.width=destWidth;
														ctxFaceCrop.height=destHeight;

														ctxFaceCrop.drawImage(imgResized, sourceX, sourceY, sourceWidth, sourceHeight, destX, destY, destWidth, destHeight);


														// console.log(sourceX, sourceY, sourceWidth, sourceHeight, destX, destY, destWidth, destHeight);

														// console.log([sourceX, sourceY, sourceWidth, sourceHeight, destX, destY, destWidth, destHeight]);

														// Show cropped image in preview element
														var dataURL = canvasFaceCrop.toDataURL('image/jpeg');
														var imgFaceCrop = document.createElement('img');
														imgFaceCrop.src = dataURL;
														// imgFaceCrop.width=512;
														// imgFaceCrop.height=512;
														imgFaceCrop.width=destWidth;
														imgFaceCrop.height=destHeight;

														// console.log('skipFaceDetect='+skipFaceDetect);
														// console.log(faceApiFace);


														// $('.div_training_uploader .img_training').attr('src',dataURL);
														// $('.div_training_uploader').css('background-image','url('+dataURL+')');

														$('.img_training_results').append('<img style="outline:4px solid yellow" src="'+dataURL+'">&nbsp;');


														// save as blob
														var blob = await new Promise(resolve => canvasFaceCrop.toBlob(resolve,'image/jpeg'));
														filesToUploadBlobs.push(blob);
														// filesToUploadDataURLs.push(dataURL);
													// </crop on face>




												}
											// </face pic>



										}



										// <save face crop as blob>
											// console.log('#'+fileIndex+' finished '+(fileIndex+1)+'/'+totalFiles);

											if(fileIndex>=(totalFiles-1)) {
												// done all pics, start uploading here?
												console.log('Done! Processed '+totalFiles+', of which '+filesToUploadBlobs.length+' passed');
												$('.div_training_uploader').addClass('primed');
												$('.action-train-model').removeClass('disabled');
												$('.div_training_uploader .loading_spinner').hide();
												$('.div_training_uploader').css('background-image','');
												$('.div_training_uploader').removeClass('active');
												$('.div_training_uploader_center').show();

												if(duplicatePhotosFound || similarPhotosFound) {
													if(filesToUploadBlobs.length<10) {
														// not enough pics after filtering duplicates and similar ones so abort
														alert("The photos you uploaded are too similar and not varied enough. Try selecting photos in more varied settings like different places at different times. A photo shoot in the same room with the same clothes does not work for example. The AI needs to see you in different settings to understand how you look. Ask your friends for photos of you, they're usually very varied.");

														// <reset upload box and quit>
															userIsUploading=false;
															filesToUploadBlobs=[];
															trainingUploadResemblanceCheckDataURLs=[];
															$('.input_training_uploader').val('');
															$('.input_training_uploader').removeClass('disabled');

															$('.div_training_uploader').css('background-image','');
															$('.div_training_uploader').removeClass('active');
															$('.div_training_uploader_center').show();
															$('.div_training_uploader').removeClass('primed');
															$('.action-train-model').removeClass('disabled');
															$('.div_training_uploader .loading_spinner').hide();
														// </reset upload box and quit>

														return false;
													}
												}


												// if we here, all good
												$('.action-train-model').click();
											}
											else {
												// more pics to do! do next pic
												console.log('Now have '+(filesToUploadBlobs.length)+' usable photos');
												preprocessImageFromFileUploader(fileIndex+1)
											}
										// </save face crop as blob>






									}
								// </resize image finished onload>
							}
						// <prescale image for face detection>
					}
				// </legacy training scaling>
			}
		// </process image>

	}



	function uploadProcessedTrainingImages(filesToUploadBlobs) {

		if(filesToUploadBlobs.length==0) {
			alert("No photos passed, please select more photos");
			return;
		}

		if(
			filesToUploadBlobs.length<10		) {
			alert("You don't have enough photos that are good enough to be used for training. For photorealistic results we recommend selecting at least 10+ photos, try selecting more and more varied input photos.");
			trainingUploadResemblanceCheckDataURLs=[];
			filesToUploadBlobs=[];
			userIsUploading=false;
			$('.input_training_uploader').val('');
			$('.input_training_uploader').removeClass('disabled');

			$('.div_training_uploader').css('background-image','');
			$('.div_training_uploader').removeClass('active');
			$('.div_training_uploader_center').show();
			$('.div_training_uploader').removeClass('primed');
			$('.action-train-model').removeClass('disabled');
			$('.div_training_uploader .loading_spinner').hide();
			return;
		}
		else if(
			!confirm("Are you ready to upload and train? You can still cancel here if you don't want to continue (press ESC). If you continue, press OK, don't close the tab until it's done uploading. I will show you a popup when it's done!")
		) {
			$('.input_training_uploader').val('');
			userIsUploading=false;
			filesToUploadBlobs=[];
			trainingUploadResemblanceCheckDataURLs=[];
			$('.input_training_uploader').val('');
			$('.input_training_uploader').removeClass('disabled');
			$('.input_create_model_name').val('');
			$('.input_create_model_age').val('');
			$('.select_create_model_gender').val('');
			$('.select_create_model_eye_color').val('');
			$('.select_create_model_ethnicity').val('');
			$('.select_create_model_base').val('');
			$('.select_create_model_permission').val('');
			$('.div_training_uploader').css('background-image','');
			$('.div_training_uploader').removeClass('active');
			$('.div_training_uploader_center').show();
			$('.div_training_uploader').removeClass('primed');
			$('.action-train-model').removeClass('disabled');
			$('.div_training_uploader .loading_spinner').hide();
			return false;
		}

		$('.div_training_uploader').css('background-image','');
		$('.div_training_uploader').removeClass('active');
		$('.div_training_uploader_center').show();
		$('.div_training_uploader').removeClass('primed');
		$('.action-train-model').addClass('disabled');
		$('.div_training_uploader .loading_spinner').hide();

		$('.loading_spinner.main').show();
		console.log('uploadProcessedTrainingImages: '+filesToUploadBlobs.length+' files to upload');

		// <auto skip over 50 photos because training will time out>
			if(filesToUploadBlobs.length>60) {
				filesToUploadBlobs=shuffle(filesToUploadBlobs);
				filesToUploadBlobs=filesToUploadBlobs.slice(0,60);
				console.log("Shuffled photos and took max of 60");
			}
		// </auto skip over 50 photos because training will time out>


		// <first zip all images>
			var zip = new JSZip();

			for (var i = 0; i < filesToUploadBlobs.length; i++) {

				var blob=filesToUploadBlobs[i];

				if($('.select_create_model_gender').val()=='m') {
					var className='man';
				}
				else if($('.select_create_model_gender').val()=='f') {
					var className='woman';
				}
				else if($('.select_create_model_gender').val()=='o') {
					var className='img';
				}
				else {
					var className=$('.select_create_model_gender').val();
				}
				console.log('zipping file '+className+'-'+(i+1)+'.jpg');

				zip.file(className+'-'+(i+1)+'.jpg', blob);
			}

			zip.generateAsync({type:"blob"}).then(function(zipContent) {

				// <upload zip>
					var uploadUrl='/training_upload?hash=';

					var formData = new FormData();
					formData.append('file',zipContent);
					formData.append('name',$('.input_create_model_name').val());
					formData.append('gender',$('.select_create_model_gender').val());
					formData.append('age',$('.input_create_model_age').val());
					formData.append('ethnicity',$('.select_create_model_ethnicity').val());
					formData.append('eye_color',$('.select_create_model_eye_color').val());
					formData.append('base',$('.select_create_model_base').val());
					// formData.append('permission',$('.select_create_model_permission').val());
					formData.append('training_photo_count',filesToUploadBlobs.length);

		 			var xhttp = new XMLHttpRequest();
	 					xhttp.open('POST', uploadUrl, true);

					xhttp.onreadystatechange = function() {
						if (this.readyState == 4 && this.status == 200) {
							$('.input_training_uploader').val('');
							$('.div_training_uploader').css('background-image','');
							$('.div_training_uploader').removeClass('active');
							$('.div_training_uploader_center').show();
							$('.input_create_model_name').val('');
							$('.select_create_model_gender').val('');
							$('.select_create_model_eye_color').val('');
							$('.input_create_model_age').val('');
							$('.select_create_model_ethnicity').val('');

							var reply=JSON.parse(xhttp.responseText);
							if(!reply.success) {
								$('.loading_spinner.main').hide();
								alert(reply.message);
								return;
							}

							// alert('Uploaded! It will take about 2 seconds to create your model. Come back then to take photos with it! You can close this tab now if you want.');

							// now reload page
							window.location.reload();

						}
					}
					xhttp.send(formData);
				// </upload zip>

			});
		// </first zip all images>

	}

	var md5 = function(d){var r = M(V(Y(X(d),8*d.length)));return r.toLowerCase()};function M(d){for(var _,m="0123456789ABCDEF",f="",r=0;r<d.length;r++)_=d.charCodeAt(r),f+=m.charAt(_>>>4&15)+m.charAt(15&_);return f}function X(d){for(var _=Array(d.length>>2),m=0;m<_.length;m++)_[m]=0;for(m=0;m<8*d.length;m+=8)_[m>>5]|=(255&d.charCodeAt(m/8))<<m%32;return _}function V(d){for(var _="",m=0;m<32*d.length;m+=8)_+=String.fromCharCode(d[m>>5]>>>m%32&255);return _}function Y(d,_){d[_>>5]|=128<<_%32,d[14+(_+64>>>9<<4)]=_;for(var m=1732584193,f=-271733879,r=-1732584194,i=271733878,n=0;n<d.length;n+=16){var h=m,t=f,g=r,e=i;f=md5_ii(f=md5_ii(f=md5_ii(f=md5_ii(f=md5_hh(f=md5_hh(f=md5_hh(f=md5_hh(f=md5_gg(f=md5_gg(f=md5_gg(f=md5_gg(f=md5_ff(f=md5_ff(f=md5_ff(f=md5_ff(f,r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+0],7,-680876936),f,r,d[n+1],12,-389564586),m,f,d[n+2],17,606105819),i,m,d[n+3],22,-1044525330),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+4],7,-176418897),f,r,d[n+5],12,1200080426),m,f,d[n+6],17,-1473231341),i,m,d[n+7],22,-45705983),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+8],7,1770035416),f,r,d[n+9],12,-1958414417),m,f,d[n+10],17,-42063),i,m,d[n+11],22,-1990404162),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+12],7,1804603682),f,r,d[n+13],12,-40341101),m,f,d[n+14],17,-1502002290),i,m,d[n+15],22,1236535329),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+1],5,-165796510),f,r,d[n+6],9,-1069501632),m,f,d[n+11],14,643717713),i,m,d[n+0],20,-373897302),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+5],5,-701558691),f,r,d[n+10],9,38016083),m,f,d[n+15],14,-660478335),i,m,d[n+4],20,-405537848),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+9],5,568446438),f,r,d[n+14],9,-1019803690),m,f,d[n+3],14,-187363961),i,m,d[n+8],20,1163531501),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+13],5,-1444681467),f,r,d[n+2],9,-51403784),m,f,d[n+7],14,1735328473),i,m,d[n+12],20,-1926607734),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+5],4,-378558),f,r,d[n+8],11,-2022574463),m,f,d[n+11],16,1839030562),i,m,d[n+14],23,-35309556),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+1],4,-1530992060),f,r,d[n+4],11,1272893353),m,f,d[n+7],16,-155497632),i,m,d[n+10],23,-1094730640),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+13],4,681279174),f,r,d[n+0],11,-358537222),m,f,d[n+3],16,-722521979),i,m,d[n+6],23,76029189),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+9],4,-640364487),f,r,d[n+12],11,-421815835),m,f,d[n+15],16,530742520),i,m,d[n+2],23,-995338651),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+0],6,-198630844),f,r,d[n+7],10,1126891415),m,f,d[n+14],15,-1416354905),i,m,d[n+5],21,-57434055),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+12],6,1700485571),f,r,d[n+3],10,-1894986606),m,f,d[n+10],15,-1051523),i,m,d[n+1],21,-2054922799),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+8],6,1873313359),f,r,d[n+15],10,-30611744),m,f,d[n+6],15,-1560198380),i,m,d[n+13],21,1309151649),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+4],6,-145523070),f,r,d[n+11],10,-1120210379),m,f,d[n+2],15,718787259),i,m,d[n+9],21,-343485551),m=safe_add(m,h),f=safe_add(f,t),r=safe_add(r,g),i=safe_add(i,e)}return Array(m,f,r,i)}function md5_cmn(d,_,m,f,r,i){return safe_add(bit_rol(safe_add(safe_add(_,d),safe_add(f,i)),r),m)}function md5_ff(d,_,m,f,r,i,n){return md5_cmn(_&m|~_&f,d,_,r,i,n)}function md5_gg(d,_,m,f,r,i,n){return md5_cmn(_&f|m&~f,d,_,r,i,n)}function md5_hh(d,_,m,f,r,i,n){return md5_cmn(_^m^f,d,_,r,i,n)}function md5_ii(d,_,m,f,r,i,n){return md5_cmn(m^(_|~f),d,_,r,i,n)}function safe_add(d,_){var m=(65535&d)+(65535&_);return(d>>16)+(_>>16)+(m>>16)<<16|65535&m}function bit_rol(d,_){return d<<_|d>>>32-_};

	function validateEmail(email) {
	  var re = /\S+@\S+\.\S+/;
	  return re.test(email);
	}

	function isset(a) {
	  var a = arguments
	  var l = a.length
	  var i = 0
	  var undef
	  if (l === 0) {
		throw new Error('Empty isset')
	  }
	  while (i !== l) {
		if (a[i] === undef || a[i] === null) {
		  return false
		}
		i++
	  }
	  return true;
	}
	function empty(mixed_var) {

		if(typeof mixed_var === 'undefined') return true;

		var undef, key, i, len;
		var emptyValues = [undef, null, false, 0, '', '0'];

		for (i = 0, len = emptyValues.length; i < len; i++) {
		if (mixed_var === emptyValues[i]) {
		return true;
		}
		}

		if (typeof mixed_var === 'object') {
		for (key in mixed_var) {

		//if (mixed_var.hasOwnProperty(key)) {
		return false;
		//}
		}
		return true;
		}

		return false;
	}
	function emptyAndNotZero(mixed_var) {
		// fix for zero values, they should NOT be called empty
		// because they can be BOOLEAN false values for us as '0'

		if(typeof mixed_var === 'undefined') return true;

		var undef, key, i, len;
		var emptyValues = [undef, null, false];

		for (i = 0, len = emptyValues.length; i < len; i++) {
		if (mixed_var === emptyValues[i]) {
		return true;
		}
		}

		if (typeof mixed_var === 'object') {
		for (key in mixed_var) {

		//if (mixed_var.hasOwnProperty(key)) {
		return false;
		//}
		}
		return true;
		}

		return false;
	}
	function number_format(number, decimals, dec_point, thousands_sep) {
		number = (number + '')
			.replace(/[^0-9+\-Ee.]/g, '');
		var n = !isFinite(+number) ? 0 : +number,
			prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),
			sep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,
			dec = (typeof dec_point === 'undefined') ? '.' : dec_point,
			s = '',
			toFixedFix = function(n, prec) {
				var k = Math.pow(10, prec);
				return '' + (Math.round(n * k) / k)
					.toFixed(prec);
			};

		s = (prec ? toFixedFix(n, prec) : '' + Math.round(n))
			.split('.');
		if (s[0].length > 3) {
			s[0] = s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, sep);
		}
		if ((s[1] || '')
			.length < prec) {
			s[1] = s[1] || '';
			s[1] += new Array(prec - s[1].length + 1)
				.join('0');
		}
		return s.join(dec);
	}

	function date(format, timestamp) {

		var that = this;
		var jsdate, f;
		// Keep this here (works, but for code commented-out below for file size reasons)
		// var tal= [];
		var txt_words = [
			'Sun', 'Mon', 'Tues', 'Wednes', 'Thurs', 'Fri', 'Satur',
			'January', 'February', 'March', 'April', 'May', 'June',
			'July', 'August', 'September', 'October', 'November', 'December'
		];
		// trailing backslash -> (dropped)
		// a backslash followed by any character (including backslash) -> the character
		// empty string -> empty string
		var formatChr = /\\?(.?)/gi;
		var formatChrCb = function(t, s) {
			return f[t] ? f[t]() : s;
		};
		var _pad = function(n, c) {
			n = String(n);
			while (n.length < c) {
			n = '0' + n;
			}
			return n;
		};
		f = {
			// Day
			d: function() { // Day of month w/leading 0; 01..31
			return _pad(f.j(), 2);
			},
			D: function() { // Shorthand day name; Mon...Sun
			return f.l()
				.slice(0, 3);
			},
			j: function() { // Day of month; 1..31
			return jsdate.getDate();
			},
			l: function() { // Full day name; Monday...Sunday
			return txt_words[f.w()] + 'day';
			},
			N: function() { // ISO-8601 day of week; 1[Mon]..7[Sun]
			return f.w() || 7;
			},
			S: function() { // Ordinal suffix for day of month; st, nd, rd, th
			var j = f.j();
			var i = j % 10;
			if (i <= 3 && parseInt((j % 100) / 10, 10) == 1) {
				i = 0;
			}
			return ['st', 'nd', 'rd'][i - 1] || 'th';
			},
			w: function() { // Day of week; 0[Sun]..6[Sat]
			return jsdate.getDay();
			},
			z: function() { // Day of year; 0..365
			var a = new Date(f.Y(), f.n() - 1, f.j());
			var b = new Date(f.Y(), 0, 1);
			return Math.round((a - b) / 864e5);
			},

			// Week
			W: function() { // ISO-8601 week number
			var a = new Date(f.Y(), f.n() - 1, f.j() - f.N() + 3);
			var b = new Date(a.getFullYear(), 0, 4);
			return _pad(1 + Math.round((a - b) / 864e5 / 7), 2);
			},

			// Month
			F: function() { // Full month name; January...December
			return txt_words[6 + f.n()];
			},
			m: function() { // Month w/leading 0; 01...12
			return _pad(f.n(), 2);
			},
			M: function() { // Shorthand month name; Jan...Dec
			return f.F()
				.slice(0, 3);
			},
			n: function() { // Month; 1...12
			return jsdate.getMonth() + 1;
			},
			t: function() { // Days in month; 28...31
			return (new Date(f.Y(), f.n(), 0))
				.getDate();
			},

			// Year
			L: function() { // Is leap year?; 0 or 1
			var j = f.Y();
			return j % 4 === 0 & j % 100 !== 0 | j % 400 === 0;
			},
			o: function() { // ISO-8601 year
			var n = f.n();
			var W = f.W();
			var Y = f.Y();
			return Y + (n === 12 && W < 9 ? 1 : n === 1 && W > 9 ? -1 : 0);
			},
			Y: function() { // Full year; event.g. 1980...2010
			return jsdate.getFullYear();
			},
			y: function() { // Last two digits of year; 00...99
			return f.Y()
				.toString()
				.slice(-2);
			},

			// Time
			a: function() { // am or pm
			return jsdate.getHours() > 11 ? 'pm' : 'am';
			},
			A: function() { // AM or PM
			return f.a()
				.toUpperCase();
			},
			B: function() { // Swatch Internet time; 000..999
			var H = jsdate.getUTCHours() * 36e2;
			// Hours
			var i = jsdate.getUTCMinutes() * 60;
			// Minutes
			var s = jsdate.getUTCSeconds(); // Seconds
			return _pad(Math.floor((H + i + s + 36e2) / 86.4) % 1e3, 3);
			},
			g: function() { // 12-Hours; 1..12
			return f.G() % 12 || 12;
			},
			G: function() { // 24-Hours; 0..23
			return jsdate.getHours();
			},
			h: function() { // 12-Hours w/leading 0; 01..12
			return _pad(f.g(), 2);
			},
			H: function() { // 24-Hours w/leading 0; 00..23
			return _pad(f.G(), 2);
			},
			i: function() { // Minutes w/leading 0; 00..59
			return _pad(jsdate.getMinutes(), 2);
			},
			s: function() { // Seconds w/leading 0; 00..59
			return _pad(jsdate.getSeconds(), 2);
			},
			u: function() { // Microseconds; 000000-999000
			return _pad(jsdate.getMilliseconds() * 1000, 6);
			},

			// Timezone
			e: function() { // Timezone identifier; event.g. Atlantic/Azores, ...
			// The following works, but requires inclusion of the very large
			// timezone_abbreviations_list() function.
			/*			  return that.date_default_timezone_get();
			*/
			throw 'Not supported (see source code of date() for timezone on how to add support)';
			},
			I: function() { // DST observed?; 0 or 1
			// Compares Jan 1 minus Jan 1 UTC to Jul 1 minus Jul 1 UTC.
			// If they are not equal, then DST is observed.
			var a = new Date(f.Y(), 0);
			// Jan 1
			var c = Date.UTC(f.Y(), 0);
			// Jan 1 UTC
			var b = new Date(f.Y(), 6);
			// Jul 1
			var d = Date.UTC(f.Y(), 6); // Jul 1 UTC
			return ((a - c) !== (b - d)) ? 1 : 0;
			},
			O: function() { // Difference to GMT in hour format; event.g. +0200
			var tzo = jsdate.getTimezoneOffset();
			var a = Math.abs(tzo);
			return (tzo > 0 ? '-' : '+') + _pad(Math.floor(a / 60) * 100 + a % 60, 4);
			},
			P: function() { // Difference to GMT w/colon; event.g. +02:00
			var O = f.O();
			return (O.substr(0, 3) + ':' + O.substr(3, 2));
			},
			T: function() { // Timezone abbreviation; event.g. EST, MDT, ...
			// The following works, but requires inclusion of the very
			// large timezone_abbreviations_list() function.
			/*			  var abbr, i, os, _default;
			if (!tal.length) {
				tal = that.timezone_abbreviations_list();
			}
			if (that.php_js && that.php_js.default_timezone) {
				_default = that.php_js.default_timezone;
				for (abbr in tal) {
				for (i = 0; i < tal[abbr].length; i++) {
					if (tal[abbr][i].timezone_id === _default) {
					return abbr.toUpperCase();
					}
				}
				}
			}
			for (abbr in tal) {
				for (i = 0; i < tal[abbr].length; i++) {
				os = -jsdate.getTimezoneOffset() * 60;
				if (tal[abbr][i].offset === os) {
					return abbr.toUpperCase();
				}
				}
			}
			*/
			return 'UTC';
			},
			Z: function() { // Timezone offset in seconds (-43200...50400)
			return -jsdate.getTimezoneOffset() * 60;
			},

			// Full Date/Time
			c: function() { // ISO-8601 date.
			return 'Y-m-d\\TH:i:sP'.replace(formatChr, formatChrCb);
			},
			r: function() { // RFC 2822
			return 'D, d M Y H:i:s O'.replace(formatChr, formatChrCb);
			},
			U: function() { // Seconds since UNIX epoch
			return jsdate / 1000 | 0;
			}
		};
		this.date = function(format, timestamp) {
			that = this;
			jsdate = (timestamp === undefined ? new Date() : // Not provided
			(timestamp instanceof Date) ? new Date(timestamp) : // JS Date()
			new Date(timestamp * 1000) // UNIX timestamp (auto-convert to int)
			);
			return format.replace(formatChr, formatChrCb);
		};
		return this.date(format, timestamp);
		}

	function strtotime(text, now) {
	  //  discuss at: http://phpjs.org/functions/strtotime/
	  //	 version: 1109.2016
	  // original by: Caio Ariede (http://caioariede.com)
	  // improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
	  // improved by: Caio Ariede (http://caioariede.com)
	  // improved by: A. Mat√≠as Quezada (http://amatiasq.com)
	  // improved by: preuter
	  // improved by: Brett Zamir (http://brett-zamir.me)
	  // improved by: Mirko Faber
	  //	input by: David
	  // bugfixed by: Wagner B. Soares
	  // bugfixed by: Artur Tchernychev
	  //		note: Examples all have a fixed timestamp to prevent tests to fail because of variable time(zones)
	  //   example 1: strtotime('+1 day', 1129633200);
	  //   returns 1: 1129719600
	  //   example 2: strtotime('+1 week 2 days 4 hours 2 seconds', 1129633200);
	  //   returns 2: 1130425202
	  //   example 3: strtotime('last month', 1129633200);
	  //   returns 3: 1127041200
	  //   example 4: strtotime('2009-05-04 08:30:00 GMT');
	  //   returns 4: 1241425800

	  var parsed, match, today, year, date, days, ranges, len, times, regex, i, fail = false;

	  if (!text) {
		return fail;
	  }

	  // Unecessary spaces
	  text = text.replace(/^\s+|\s+$/g, '')
		.replace(/\s{2,}/g, ' ')
		.replace(/[\t\r\n]/g, '')
		.toLowerCase();

	  // in contrast to php, js Date.parse function interprets:
	  // dates given as yyyy-mm-dd as in timezone: UTC,
	  // dates with "." or "-" as MDY instead of DMY
	  // dates with two-digit years differently
	  // etc...etc...
	  // ...therefore we manually parse lots of common date formats
	  match = text.match(
		/^(\d{1,4})([\-\.\/\:])(\d{1,2})([\-\.\/\:])(\d{1,4})(?:\s(\d{1,2}):(\d{2})?:?(\d{2})?)?(?:\s([A-Z]+)?)?$/);

	  if (match && match[2] === match[4]) {
		if (match[1] > 1901) {
		  switch (match[2]) {
			case '-':
			  { // YYYY-M-D
				if (match[3] > 12 || match[5] > 31) {
				  return fail;
				}

				return new Date(match[1], parseInt(match[3], 10) - 1, match[5],
				  match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;
			  }
			case '.':
			  { // YYYY.M.D is not parsed by strtotime()
				return fail;
			  }
			case '/':
			  { // YYYY/M/D
				if (match[3] > 12 || match[5] > 31) {
				  return fail;
				}

				return new Date(match[1], parseInt(match[3], 10) - 1, match[5],
				  match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;
			  }
		  }
		} else if (match[5] > 1901) {
		  switch (match[2]) {
			case '-':
			  { // D-M-YYYY
				if (match[3] > 12 || match[1] > 31) {
				  return fail;
				}

				return new Date(match[5], parseInt(match[3], 10) - 1, match[1],
				  match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;
			  }
			case '.':
			  { // D.M.YYYY
				if (match[3] > 12 || match[1] > 31) {
				  return fail;
				}

				return new Date(match[5], parseInt(match[3], 10) - 1, match[1],
				  match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;
			  }
			case '/':
			  { // M/D/YYYY
				if (match[1] > 12 || match[3] > 31) {
				  return fail;
				}

				return new Date(match[5], parseInt(match[1], 10) - 1, match[3],
				  match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;
			  }
		  }
		} else {
		  switch (match[2]) {
			case '-':
			  { // YY-M-D
				if (match[3] > 12 || match[5] > 31 || (match[1] < 70 && match[1] > 38)) {
				  return fail;
				}

				year = match[1] >= 0 && match[1] <= 38 ? +match[1] + 2000 : match[1];
				return new Date(year, parseInt(match[3], 10) - 1, match[5],
				  match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;
			  }
			case '.':
			  { // D.M.YY or H.MM.SS
				if (match[5] >= 70) { // D.M.YY
				  if (match[3] > 12 || match[1] > 31) {
					return fail;
				  }

				  return new Date(match[5], parseInt(match[3], 10) - 1, match[1],
					match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;
				}
				if (match[5] < 60 && !match[6]) { // H.MM.SS
				  if (match[1] > 23 || match[3] > 59) {
					return fail;
				  }

				  today = new Date();
				  return new Date(today.getFullYear(), today.getMonth(), today.getDate(),
					match[1] || 0, match[3] || 0, match[5] || 0, match[9] || 0) / 1000;
				}

				return fail; // invalid format, cannot be parsed
			  }
			case '/':
			  { // M/D/YY
				if (match[1] > 12 || match[3] > 31 || (match[5] < 70 && match[5] > 38)) {
				  return fail;
				}

				year = match[5] >= 0 && match[5] <= 38 ? +match[5] + 2000 : match[5];
				return new Date(year, parseInt(match[1], 10) - 1, match[3],
				  match[6] || 0, match[7] || 0, match[8] || 0, match[9] || 0) / 1000;
			  }
			case ':':
			  { // HH:MM:SS
				if (match[1] > 23 || match[3] > 59 || match[5] > 59) {
				  return fail;
				}

				today = new Date();
				return new Date(today.getFullYear(), today.getMonth(), today.getDate(),
				  match[1] || 0, match[3] || 0, match[5] || 0) / 1000;
			  }
		  }
		}
	  }

	  // other formats and "now" should be parsed by Date.parse()
	  if (text === 'now') {
		return now === null || isNaN(now) ? new Date()
		  .getTime() / 1000 | 0 : now | 0;
	  }
	  if (!isNaN(parsed = Date.parse(text))) {
		return parsed / 1000 | 0;
	  }

	  date = now ? new Date(now * 1000) : new Date();
	  days = {
		'sun': 0,
		'mon': 1,
		'tue': 2,
		'wed': 3,
		'thu': 4,
		'fri': 5,
		'sat': 6
	  };
	  ranges = {
		'yea': 'FullYear',
		'mon': 'Month',
		'day': 'Date',
		'hou': 'Hours',
		'min': 'Minutes',
		'sec': 'Seconds'
	  };

	  function lastNext(type, range, modifier) {
		var diff, day = days[range];

		if (typeof day !== 'undefined') {
		  diff = day - date.getDay();

		  if (diff === 0) {
			diff = 7 * modifier;
		  } else if (diff > 0 && type === 'last') {
			diff -= 7;
		  } else if (diff < 0 && type === 'next') {
			diff += 7;
		  }

		  date.setDate(date.getDate() + diff);
		}
	  }

	  function process(val) {
		var splt = val.split(' '), // Todo: Reconcile this with regex using \s, taking into account browser issues with split and regexes
		  type = splt[0],
		  range = splt[1].substring(0, 3),
		  typeIsNumber = /\d+/.test(type),
		  ago = splt[2] === 'ago',
		  num = (type === 'last' ? -1 : 1) * (ago ? -1 : 1);

		if (typeIsNumber) {
		  num *= parseInt(type, 10);
		}

		if (ranges.hasOwnProperty(range) && !splt[1].match(/^mon(day|\.)?$/i)) {
		  return date['set' + ranges[range]](date['get' + ranges[range]]() + num);
		}

		if (range === 'wee') {
		  return date.setDate(date.getDate() + (num * 7));
		}

		if (type === 'next' || type === 'last') {
		  lastNext(type, range, num);
		} else if (!typeIsNumber) {
		  return false;
		}

		return true;
	  }

	  times = '(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec' +
		'|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?' +
		'|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)';
	  regex = '([+-]?\\d+\\s' + times + '|' + '(last|next)\\s' + times + ')(\\sago)?';

	  match = text.match(new RegExp(regex, 'gi'));
	  if (!match) {
		return fail;
	  }

	  for (i = 0, len = match.length; i < len; i++) {
		if (!process(match[i])) {
		  return fail;
		}
	  }

	  // ECMAScript 5 only
	  // if (!match.every(process))
	  //	return false;

	  return (date.getTime() / 1000);
	}
	function time() {
		return Math.floor(new Date().getTime() / 1000);
	}
	function microtime() {
		return Math.floor(new Date().getTime());
	}
	function isMetaOrShiftKeyPressed(event) {
		if(event?.shiftKey) {
			return true;
		}
		if(event?.metaKey) {
			return true;
		}
		if(event?.ctrlKey) {
			return true;
		}
		if(event?.altKey) {
			return true;
		}
		return false;
	}

</script>



<!--

<section id="contact">
    <h2>Contact</h2>
    <p>Feel free to reach out via the links below.</p>
    <div class="card">
        <h3>GitHub</h3>
        <p><a href="https://github.com/your-profile" target="_blank">Visit my GitHub Profile</a></p>
    </div>
    <div class="card">
        <h3>LinkedIn</h3>
        <p><a href="https://www.linkedin.com/in/davide-marino1/" target="_blank">Visit my LinkedIn Profile</a></p>
    </div>
</section>


<section style="max-width: 1000px; margin: 0 auto; padding: 20px;">
    <h2>Gallery</h2>
    <div class="gallery">
        <img src="image1.jpg" class="gallery-image" alt="Image 1">
        <img src="image2.jpg" class="gallery-image" alt="Image 2">
        <img src="image3.jpg" class="gallery-image" alt="Image 3">
        <img src="parallax2.jpg" class="gallery-image" alt="Image 4">
    </div>

    <div id="lightbox" style="display: none;">
        <span id="close">&times;</span>
        <img id="lightbox-image" src="" alt="">
    </div>

</section>


<section>
<h2>My Chart</h2>
    <canvas id="myChart" width="400" height="200"></canvas>

    &lt;!&ndash; Include Chart.js from CDN &ndash;&gt;
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    &lt;!&ndash; Your custom JavaScript code to render the chart &ndash;&gt;
    <script>
        const ctx = document.getElementById('myChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'bar', // Change to 'line', 'pie', etc., for different types of charts
            data: {
                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                datasets: [{
                    label: '# of Votes',
                    data: [12, 19, 3, 5, 2, 3],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
</section>


<section>
<h2>My Chart 6</h2>
    <div id="derivativePlot" style="width: 600px; height: 400px;"></div>
    <h1>Input</h1>
    <input type="text" id="functionInput" placeholder="Enter a function (e.g., Math.sin(x))" style="width: 100%; padding: 10px;">


    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script>
        function plotFunction(f, df) {
            const xValues = [];
            const yValues = [];
            const dyValues = [];

            for (let x = -10; x <= 10; x += 0.1) {
                xValues.push(x);
                yValues.push(f(x));
                dyValues.push(df(x));
            }

            const traceOriginal = {
                x: xValues,
                y: yValues,
                mode: 'lines',
                name: 'f(x)',
                line: { color: '#007bff' }
            };

            const traceDerivative = {
                x: xValues,
                y: dyValues,
                mode: 'lines',
                name: "f'(x)",
                line: { color: '#ff5733' }
            };

            const layout = {
                title: 'Function and Its Derivative',
                xaxis: { title: 'x' },
                yaxis: { title: 'y' }
            };

            Plotly.newPlot('derivativePlot', [traceOriginal, traceDerivative], layout);
        }

        function evaluateFunction() {
            const input = document.getElementById('functionInput').value;

            try {
                const f = new Function('x', `return ${input};`);
                const df = new Function('x', `
                    const h = 0.00001;
                    return (${input.replace(/x/g, 'x + h')} - ${input}) / h;
                `);

                plotFunction(f, df);
            } catch (e) {
                alert('Invalid function');
            }
        }

        document.getElementById('functionInput').addEventListener('change', evaluateFunction);

        // Default plot
        document.getElementById('functionInput').value = 'Math.sin(x)';
        evaluateFunction();
    </script>

</section>
-->


<!--Header-->
<section class="header">

	<div class="logo">
		<a tabindex="-1" href="/">
			<h1 style="font-weight:300">
				<style>
					@-webkit-keyframes rotating /* Safari and Chrome */ {
						from {
							-webkit-transform: rotate(0deg);
							-o-transform: rotate(0deg);
							transform: rotate(0deg);
						}
						to {
							-webkit-transform: rotate(360deg);
							-o-transform: rotate(360deg);
							transform: rotate(360deg);
						}
					}
					@keyframes rotating {
						from {
							-ms-transform: rotate(0deg);
							-moz-transform: rotate(0deg);
							-webkit-transform: rotate(0deg);
							-o-transform: rotate(0deg);
							transform: rotate(0deg);
						}
						to {
							-ms-transform: rotate(360deg);
							-moz-transform: rotate(360deg);
							-webkit-transform: rotate(360deg);
							-o-transform: rotate(360deg);
							transform: rotate(360deg);
						}
					}
					html.training_mode .div_generate_button_container {
						display:none;
					}
					html.training .logo-box,
					html.taking-photos .logo-box {
						-webkit-animation: rotating 5s linear infinite;
						-moz-animation: rotating 5s linear infinite;
						-ms-animation: rotating 5s linear infinite;
						-o-animation: rotating 5s linear infinite;
						animation: rotating 5s linear infinite;
					}
					.logo-box {
						width:30px;
						height:30px;
						margin-right:7px;
						margin-top:-4px;
						vertical-align:middle;
						background: -webkit-linear-gradient(45deg, #680aca, #ff897e);
						background: linear-gradient(60deg,#f79533,#f37055,#ef4e7b,#a166ab,#5073b8,#1098ad,#07b39b,#6fba82);
						-webkit-animation: animatedgradient 6s ease infinite alternate;
						animation: animatedgradient 6s ease infinite alternate;
						background-size: 300% 300%;
						mask-image:url('logo.svg');
						mask-repeat: no-repeat;
						mask-size: contain;
						-webkit-mask-image:url('logo.svg');
						-webkit-mask-repeat: no-repeat;
						-webkit-mask-size: contain;
						display:inline-block;
					}
					html.guest .logo-box {
						-webkit-animation: rotating 5s linear infinite;
						-moz-animation: rotating 5s linear infinite;
						-ms-animation: rotating 5s linear infinite;
						-o-animation: rotating 5s linear infinite;
						animation: rotating 5s linear infinite;
					}
				</style>
				<div class="logo-box"></div><span style="font-weight:bold">Photo</span>&nbsp;AI<span class="trademark">TM</span>
			</h1>
		</a>
	</div>

	<h2>

	</h2>

	<div class="header-right">

		<a href="javascript:" class="header-link" onclick="window.scrollTo(0,0);$('.input_confirm_email').focus();$('.action-confirm-email').text('Log in to your account ‚Üí');$('.already_have_account_text').remove();">
			Log in
		</a>

		<a href="page1.html" class="header-link">
			Page 1
		</a>

		<a href="page2.html" class="header-link">
			Page 2
		</a>

		<a href="page3.html" class="header-link">
			Page 3
		</a>

		<a href="page4.html" class="header-link">
			Page 4
		</a>

		<a href="page5.html" class="header-link">
			Page 5
		</a>

		<a href="AI.html" class="header-link">
			AI Projects
		</a>

			<a href="javascript:" class="header-link" onclick="window.scrollTo(0,0);$('.input_confirm_email').focus()">
				<span class="button">
					Take photos ‚Üí
				</span>
			</a>
	</div>
</section>


<!-- Hero Section-->
<section>

	<div class="flash"></div>

	<style>
		.hero {
			position: relative;
/*			height:450px;*/
			// height:600px;
			height:800px;
			background-size:cover;
			background-position: 0 -25px;
/*			padding-top:var(&#45;&#45;header-height);*/
/*			margin-bottom:-28px;*/
		}
		@media (max-width:600px) {
			.hero {
				margin-bottom:0;
			}
		}
		.hero .cta-box p {
			margin:14px;
		}
		.hero .text {
			position:absolute;
			left:21px;
			transform:translateY(-50%);
			top:50%;
			max-width:calc(100% - 350px - 21px - 21px);
			width:100%;
			text-shadow:1px 1px 1px rgba(0,0,0,.25),2px 2px 1px rgba(0,0,0,.25);
			z-index:2;
		}
		.hero .cta-box {
			position:absolute;
			right:21px;
			transform:translateY(-50%);
			top:50%;
			max-width:350px;
			width:100%;
			background:var(&#45;&#45;sidebar-background-color);
			border-radius:12px;
			padding:7px;
			border:1px solid var(&#45;&#45;global-border-color);
			z-index:5;
		}
		.hero .cta-box.floating {
			bottom: 0;
			position: fixed;
			z-index: 100;
			top: auto;
			transform: none;
			left: 0;
			width: 100%;
			max-width: none;
			border-radius: 0;
			border-bottom: none;
			border-left: none;
			border-right: none;
			margin:0;
		}
		.hero .cta-box.floating .action-login-with-google {
			display:none;
		}
		.hero .cta-box.floating .already_have_account_text {
			display:none;
		}
		@media (min-width:800px) {
			.hero .cta-box.floating input {
				width:calc(75% - 14px);
				float:left;
				margin:7px;
			}
			.hero .cta-box.floating .button {
				width:calc(25% - 14px);
				margin:7px;
				float:right;
			}
		}
		.header .button {
			background: -webkit-linear-gradient(45deg, #680aca, #ff897e);
			background: linear-gradient(60deg,#f79533,#f37055,#ef4e7b,#a166ab,#5073b8,#1098ad,#07b39b,#6fba82);
			-webkit-animation: animatedgradient 6s ease infinite alternate;
			animation: animatedgradient 6s ease infinite alternate;
			background-size: 300% 300%;
			border: 1px solid rgba(0,0,0,0);
			color:#fff;
		}
		.footer-cta-box .button,
		.hero .cta-box .button.action-confirm-email {
			margin-bottom:14px;
			background: -webkit-linear-gradient(45deg, #680aca, #ff897e);
			background: linear-gradient(60deg,#f79533,#f37055,#ef4e7b,#a166ab,#5073b8,#1098ad,#07b39b,#6fba82);
			-webkit-animation: animatedgradient 6s ease infinite alternate;
			animation: animatedgradient 6s ease infinite alternate;
			background-size: 300% 300%;
			border: 1px solid rgba(0,0,0,0);
			color:#fff;
			padding-top:14px;
			padding-bottom:14px;
		}
		.hero .cta-box .button.action-confirm-email:hover {
			background: none;
			color: var(&#45;&#45;global-text-color);
			border: 1px solid #fff;
		}
		.hero .cta-box input {
			background:#fff;
			color:#000;
			margin:14px;
			width:calc(100% - 14px - 14px);
			margin-bottom:7px;
		}
		.hero .cta-box input:focus {
			border:4px solid #f47353;
		}
		.hero h1 {
			text-transform: initial;
			font-size:56px;
			margin-bottom:14px;
			margin-top:0;
			line-height:1;
		}
		@media (max-width:600px) {
			.hero h1 {
				font-size:36px;
			}
		}
		.hero h2 {
			font-weight:600;
			margin-top:0;
			font-size:28px;
			margin-bottom:14px;
			padding-right:56px;
/*			line-height:1;*/
		}
		.hero h3 {
			font-weight:500;
			margin-top:0;
			font-size:21px;
			margin-bottom:14px;
			padding-right:56px;
/*			line-height:1;*/
		}
		.hero p {
			margin-left: 21px;
			margin-right: 21px;
		}
		.hero_width_container {
			/* keeps hero to max width and centered */
			max-width:1200px;
			margin:0 auto;
			position: relative;
			height:100%;
		}
		.hero .wave {
			position: absolute;
			bottom: -50px;
			left: -10px;
			z-index: 3;
			width: 105vw;
/*			fill:var(&#45;&#45;header-background-color);*/
			fill:var(&#45;&#45;global-background-color);
		}
		@media (max-width:1200px) {
			.hero .text p {
				display:none;
			}
		}
		@media (max-width:1200px) {
			.hero h2 {
				font-size:18px;
			}
		}
		@media (max-width:1000px) {
			.hero_width_container {
				height:auto;
			}
			.hero h3 {
				font-weight:400;
			}
			.hero .text {
/*				display:none;*/
				width:initial;
				max-width:initial;
				position:relative;
				top:initial;
				left:initial;
				right:initial;
				transform:initial;
				padding-top:28px;
				text-align: center;
				text-align:left;
			}
			.hero .cta-box {
				/*right:0;
				margin:0 auto;
				left:50%;
				transform:translateX(-50%) translateY(-50%);
				max-width:calc(100% - 21px - 21px);*/
				width:initial;
				max-width:initial;
				position:relative;
				top:initial;
				left:initial;
				right:initial;
				transform:initial;
				margin:21px;
				width:auto;
			}
			html.guest .hero {
				height:auto !important;
			}
			.hero .cta-box .cta-box-header,
			.hero .cta-box .cta-box-subtext {
				display:none;
			}
			.hero_footer_logos {
				position:relative !important;
			}
			.hero h1,
			.hero h2,
			.hero h3 {
				padding:0;
				padding:0;
				color: #ffffff;
			}
			.hero h2 {
				font-size:18px;
			}
		}
		html.guest .hero .cta-box .cta-box-header,
		html.guest .hero .cta-box .cta-box-subtext,
		html.template .hero .cta-box .cta-box-header,
		html.template .hero .cta-box .cta-box-subtext {
			display:none;
		}
		@media (max-height:500px) {
			.hero .cta-box p {
				display:none;
			}
			.hero .cta-box p:first-of-type {
				display:block;
			}
			.hero .cta-box p:last-of-type {
				display:block;
			}
			.hero_footer_logos {
				display:none;
			}
		}
		.hero .benefit {
			padding-top:14px;
		}
		@media (max-height:800px) {
			/* hide some benefits to make sure that the sign up cta email box is above the fold */
			.hero h1 {
				margin-bottom:0;
			}
			.hero .sub_sub_slogan,
			.hero .benefit {
				display:none;
			}
			.hero .benefit:nth-of-type(2),
			.hero .benefit:nth-of-type(3),
			.hero .benefit:nth-of-type(4) {
				display:block;
			}
		}
	</style>

	<div class="hero">

		<!--Wave-like shape at hero's bottom-->
		<!--<svg viewBox="0 0 1440 120" class="wave"><path d="M1440,21.2101911 L1440,120 L0,120 L0,21.2101911 C120,35.0700637 240,42 360,42 C480,42 600,35.0700637 720,21.2101911 C808.32779,12.416393 874.573633,6.87702029 918.737528,4.59207306 C972.491685,1.8109458 1026.24584,0.420382166 1080,0.420382166 C1200,0.420382166 1320,7.35031847 1440,21.2101911 Z"></path></svg>-->

		<div class="hero_width_container">
			<div class="text">

			<style>
				div.laurel img.laurel-img {
					width:185px;
				}
				div.laurel {
					margin-left:21px;
					display: table !important;
					position:relative;
					filter:invert(1);
				// margin-top:21px;
					margin-bottom:14px;
				}
				.laurel-text {
					position:absolute;
					width:100%;
					text-align: center;
					top:31px;
					color:#000;
					font-size:13px;
					font-weight:bold;
					text-shadow:none;
				}
				.laurel-stars {
					position:absolute;
					width:100%;
					text-align: center;
					top:50px;
				}
				.laurel-stars img {
					width:13px;
					margin-left:2px;
					margin-right:2px;
				}
				@media (max-width:1000px) {
					div.laurel {
						margin:0 auto !important;
					}
				}

				h1, h2, h3 {
					color: #ffffff;
					line-height: 1.2;
				}

			</style>

				<div class="laurel">
					<span class="laurel-text">
						#1 AI Website
					</span>
					<span class="laurel-stars">
						<img width="13" height="13" src="star.svg?3"><img width="13" height="13" src="star.svg?3"><img width="13" height="13" src="star.svg?3"><img width="13" height="13" src="star.svg?3"><img width="13" height="13" src="star.svg?3">
					</span>
					<img width="185" height="98" class="laurel-img" src="laurel.svg?7">
				</div>
				<h1>
					üî• Fire your Cervi
				</h1>
				</br>
				<h3>
					This is a test website cloned from Pieter Levels' PhotoAI
					<br/>
					No function is working
					<br/>

				</h3>
			</div>

			<div class="cta-box shaded_border">
				<style>
					.rotated-badge {
						background:#2bde73;
						color:rgba(0,0,0,0.75);
						font-weight:600;
						border-radius:12px;
						text-align:center;
						display:block;
						padding:7px;;
						padding-left:14px;
						padding-right:14px;
						position: absolute;
						right: -50px;
						top: -20px;
						-webkit-transform: rotate(10deg);
						-moz-transform: rotate(10deg);
						-ms-transform: rotate(10deg);
						transform: rotate(10deg);
					}
					.cta-box.floating .rotated-badge {
						display:none;
					}
					@media (max-width:1000px) {
						.rotated-badge {
							display:none;
						}
					}
				</style>
				<div class="rotated-badge">
					Now with Flux!
				</div>
				<!-- <h3 style="margin-bottom:7px;">Start using Photo AI for free</h3> -->
				<input type="email" class="input_confirm_email" placeholder="Type your email..." style="margin-bottom: 7px;">
				<label for="agreeTOS"  style="opacity:0;opacity: 0;position: absolute;top: 0;left: 0;height: 0;width: 0;z-index: -1;">I agree to the Terms of Service</label>
				<input type="checkbox" autocomplete="off" tabindex="-1" class="agreeTOS" for="agreeTOS" placeholder="yes" value="no" style="opacity: 0;position: absolute;top: 0;left: 0;height: 0;width: 0;z-index: -1;">


				<span class="button action-confirm-email">
					Create your AI model +
				</span>

				<div class="or-wrap">
					<div class="or-line" style="color: white"></div>
					<div class="or-text" style="color: white">or</div>
					<div class="or-line" style="color: white"></div>
				</div>
				<a href="/?action=login-with-google&ref=&via=&template=">
					<span class="button action-login-with-google" style="margin-bottom:14px;">
						<svg style="vertical-align:middle" width="22" height="22" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_229_5144)"><path d="M23.766 12.5477C23.766 11.732 23.6999 10.9119 23.5588 10.1094H12.24V14.7304H18.7217C18.4528 16.2207 17.5885 17.5391 16.323 18.3769V21.3752H20.19C22.4608 19.2852 23.766 16.1987 23.766 12.5477Z" fill="#4285F4"></path><path d="M12.24 24.2708C15.4764 24.2708 18.2058 23.2082 20.1944 21.3739L16.3274 18.3756C15.2516 19.1075 13.8626 19.522 12.2444 19.522C9.11376 19.522 6.45934 17.4099 5.50693 14.5703H1.51648V17.6613C3.55359 21.7134 7.70278 24.2708 12.24 24.2708Z" fill="#34A853"></path><path d="M5.50253 14.5683C4.99987 13.0779 4.99987 11.4641 5.50253 9.97375V6.88281H1.51649C-0.18551 10.2736 -0.18551 14.2684 1.51649 17.6592L5.50253 14.5683Z" fill="#FBBC04"></path><path d="M12.24 5.01919C13.9508 4.99274 15.6043 5.6365 16.8433 6.8182L20.2694 3.39215C18.1 1.35504 15.2207 0.235065 12.24 0.27034C7.70277 0.27034 3.55359 2.82775 1.51648 6.88434L5.50252 9.97528C6.45052 7.13126 9.10935 5.01919 12.24 5.01919Z" fill="#EA4335"></path></g><defs><clipPath id="clip0_229_5144"><rect width="24" height="24" fill="white" transform="translate(0 0.269531)"></rect></clipPath></defs></svg>
						<span style="vertical-align:middle">
							Continue with Google
						</span>
					</span>
				</a>

				<p id="cloudflare-captcha" style="margin-top:-14px;margin-bottom:14px;text-align:center;"></p>

				<p class="already_have_account_text" style="font-size: 11px;text-align: center;margin-top: -10px;opacity: 0.75;">
					If you already have an account, we'll log you in
				</p>

				<style>
					#cloudflare-captcha {
						display:none;
					}
				</style>
				<script src="https://challenges.cloudflare.com/turnstile/v0/api.js"></script>
				<script>
					var cloudflareCaptchaResponse;
					var cloudflareCaptchaInited;


					$(function() {

						$('.input_confirm_email').bind('click keydown',function() {
							//
							// when clicking/typing in email box, load Cloudflare CAPTCHA
							//
							if(!cloudflareCaptchaInited) {
								cloudflareCaptchaInited=true;

								$('.button.action-confirm-email').hide();
								$('#cloudflare-captcha').show();

								window.onloadTurnstileCallback = function () {
									turnstile.render('#cloudflare-captcha', {
										sitekey: '0x4AAAAAAACTOHNWH2C9O6sn',
										callback: function(response) {
											$('#cloudflare-captcha').hide();
											cloudflareCaptchaResponse=response;
											$('.button.action-confirm-email').show();
										},
									});
								};

								// if using synchronous loading, will be called once the DOM is ready
								turnstile.ready(onloadTurnstileCallback);

							}
						});

						$('.input_confirm_email').bind('keyup',function(event) {
							// enter key
							if(event.keyCode==13) {
								$('.action-confirm-email').click();
							}
						});

						$('.action-confirm-email').bind('click',function() {
							if(cloudflareCaptchaResponse=='' || !cloudflareCaptchaResponse) {
								$('.input_confirm_email').focus();
								return;
							}

							var email=$('.input_confirm_email').val().trim();
							if(email=='') {
								$('.input_confirm_email').focus();
								return;
							}

							if(!validateEmail(email)) {
								alert("Your email seems invalid, maybe you have a typo?");
								$('.input_confirm_email').focus();
								return;
							}

							if($(this).hasClass('disabled')) return;

							$('.action-confirm-email').addClass('disabled');

							$('.loading_spinner.main').show();

							// <track conversion>
								window._conv_q = window._conv_q || [];
								_conv_q.push(["triggerConversion", "10043691"]);
							// </track conversion>

							activeAjax=$.ajax({
								async:true,
								url: '/?action=confirm-email-address',
								dataType:'json',
								data:{
									email:$('.input_confirm_email').val(),
									agreeTOS:$('.cta-box .agreeTOS').prop('checked')?'yes':'no', /* honeypot */
									ref:null,
									via:null,
									template:null,
									cloudflareCaptchaResponse:cloudflareCaptchaResponse
								},
								type: 'POST',
								error: function(xhr,status,error){
									$('.input_confirm_email').focus();
								},
							}).done(function(reply) {

								$('.loading_spinner.main').hide();
								if(!reply.success) {
									alert(reply.message);

									$('.button.action-confirm-email').removeClass('disabled');
									$('.input_confirm_email').focus();

									$('.button.action-confirm-email').hide();
									$('#cloudflare-captcha').show();


									// failed, try render CAPTCHA again
									$('#cloudflare-captcha').show();
									turnstile.render('#cloudflare-captcha', {
										sitekey: '0x4AAAAAAACTOHNWH2C9O6sn',
										callback: function(response) {
											$('#cloudflare-captcha').hide();
											cloudflareCaptchaResponse=response;
											$('.button.action-confirm-email').show();
										},
									});

									return;
								}

								// $('.hero .cta-box').html("<p><strong>Check your inbox at "+$('.input_confirm_email').val()+" and click the link in the email to start taking AI photos!</strong></p>");

								alert("Check your inbox at "+$('.input_confirm_email').val().toLowerCase()+" and click the link in the email to start taking AI photos!");

								// $('.hero').fadeOut();
							});
						});

					});
				</script>

			</div>

		</div>


		<netflix>
			<style>
				.netflix-container {
					top:0;
					left:0;
					width:100%;
					height:100%;
					position:absolute;
					overflow:hidden;
					margin-bottom:56px;
					background-color: #1c1c1c;
					z-index:1;
				}
				.netflix-container-perspective {
					perspective: 500px;
					height:100%;
					position:relative;
				}
				.netflix-box {
					margin: 5px 0;
					display: flex;
					justify-content: flex-end;
					/*perspective: 500px;
					transform-style: preserve-3d;
					transform: rotateY(-35deg);*/
					width: 100%;
					flex-wrap: nowrap;
					flex-grow: 1;
					transform: translateX(100px) translateY(-200px);
				}

				.netflix-thumbnail {
					transform-style: preserve-3d;
					transform: rotateX(20deg) rotateY(0deg);
					min-width: 125px;
					min-height: 187px;
					display: inline-block;
					background-position: center;
					background-size: cover;
					margin: 7px;
					border-radius:12px;
					transform: skewX(335deg);
				}

				.netflix-cover {
					transform-style: preserve-3d;
					transform: rotateX(20deg) rotateY(0deg);
					min-width: 120px;
					min-height: 150px;
					display: inline-block;
					background-position: center;
					background-size: cover;
					margin: 0 0.2rem;
					transform: skewX(335deg);
				}
				.netflix-container-background {
					height:100%;
					transform: rotateX(365deg) rotateY(352deg) rotateZ(10deg) translateX(1300px);
					transform-style: preserve-3d;
					animation: netflix_move 180s linear infinite alternate;
				}
				@keyframes netflix_move {
					to {
						transform: rotateX(365deg) rotateY(352deg) rotateZ(10deg) translateX(-190px);
					}
				}
				.hero_footer_logos {
					white-space: nowrap;
					overflow-x:scroll;
					overflow-y:hidden;
					text-align: center;
					position:absolute;
					bottom:0;
					left:0;
					z-index:10;
					width:100%;
					padding:14px;
				}
				.hero_footer_logos {
					-ms-overflow-style: none;  /* Internet Explorer 10+ */
					scrollbar-width: none;  /* Firefox */
				}
				.hero_footer_logos::-webkit-scrollbar {
					display: none;  /* Safari and Chrome */
				}
				.hero_footer_logos img {
					pointer-events: none;
					margin-right: 14px;
					height:25px;
					filter:invert(1) saturate(0) brightness(2);
					mix-blend-mode: lighten;
					vertical-align: middle;
				}
				.netflix-container h1 span.highlight-stroke {
					background: url('image1.jpg');
					margin: -20px -6px;
					padding: 2px 6px;
					color: #000;
					text-shadow:none;
					padding-left: 24px;
					padding-right: 24px;
					display: table;
					margin: 0 auto;
				}
				.netflix-container h1 {
					line-height:1;
					text-shadow:5px 3px 14px rgb(0 0 0 / 70%);
					color:#fff;
					font-size:80px;
					font-weight:bold;
					text-align:center;
					font-family: -apple-system,system-ui,Segoe UI,sans-serif;
					margin:0;
					width:100%;
				}
				.highlighted-text {
					background-image: url('image2.jpg');
					background-position: 50% 50%;
					padding-left: 20px;
					padding-right: 20px;
					padding-top: 5px;
					background-repeat: no-repeat;
					background-size: cover;
				}
				.netflix-container .wave {
					position: absolute;
					bottom: -5vw;
					left: 0;
					z-index: 0;
					width: 100vw;
					fill:var(--global-background-color);
				}
				.netflix-gradient {
					width:100%;
					height:100%;
					position:absolute;
					left:0;
					top:0;
					z-index:2;
					background:linear-gradient(to bottom,rgba(0,0,0,0.8) 15%,rgba(0,0,0,0.80) 50%,rgba(0,0,0,0.95) 70%,rgba(0,0,0,0.6) 95%, rgba(0,0,0,1) 100%);
					opacity:0.3;
				}
			</style>

			<div class="netflix-container">
				<div class="netflix-gradient">

					<div class="netflix-container-perspective">
						<div class="netflix-container-background" id="netflix-container-bg">

						</div>
					</div>
				</div>
			</div>

			<script>
				const ROWS = 10;
				const ROW_ITEMS = 25;
				const COVER_PROBABILTY = 0;
				const alreadyDone=[];




				var heroPhotos=["image1.jpg", "image2.jpg", "image3.jpg", "parallax2.jpg"];



				if(heroPhotos.length>0) {
					var containerBg = document.getElementById("netflix-container-bg");

					var chance = COVER_PROBABILTY / 100;

					for (let i = 0; i < ROWS; i++) {
						const box = createBox();
						for (let i = 0; i < ROW_ITEMS; i++) {
							Math.random() < chance ?
							createElement(box, "netflix-cover") :
							createElement(box, "netflix-thumbnail");
						}
					}
				}



				function createElement(box, classname) {
					const element = document.createElement("div");
					imageNumber=Math.floor(Math.random()*heroPhotos.length);
					// hot fix to avoid random pics
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);
					if(in_array(imageNumber,alreadyDone)) imageNumber=Math.floor(Math.random()*heroPhotos.length);

					randomImage=heroPhotos[imageNumber];
					alreadyDone.push(imageNumber);
					let background = 'url('+randomImage+')';
					element.style.backgroundImage = background;
					element.classList.add(classname);
					box.appendChild(element);
				}

				function createBox() {
					const box = document.createElement("div");
					box.classList.add("netflix-box");
					containerBg.appendChild(box);
					return box;
				}

				function getRandomInt(min, max) {
					min = Math.ceil(min);
					max = Math.floor(max);
					return Math.floor(Math.random() * (max - min + 1)) + min;
				}

			</script>
		</netflix>

		<div class="hero_footer_logos">
			<p style="font-size:10px;opacity:0.5;margin:0;margin-right:7px;display:inline-block;vertical-align:middle;">
				as seen on
			</p>
			<img alt="New York Times" width="auto" height="auto" loading="lazy" style="margin-bottom:-3px" src="nytimes.png">
			<img alt="Shopify" width="auto" height="auto" loading="lazy" src="shopify.png">
			<img alt="Yahoo! News" width="auto" height="auto" loading="lazy" src="yahoo-news.png">
			<img alt="FastCompany" width="auto" height="auto" loading="lazy" style="margin-bottom:3px" src="fastcompany.svg">
			<br/>
		</div>


		<style>
			.hero_footer_quotes {
				position: absolute;
				bottom: 0;
				z-index: 10;
				max-width:100%;
				width:calc(1200px - 14px - 14px);
				left:50%;
				transform:translateX(-50%);
				top:100%;
			}
			.testimonial,
			.hero_footer_quote {
				box-shadow:5px 5px 5px rgba(0,0,0,0.25);
				padding:14px;
				float:left;
				width:calc(100% / 3 - 21px - 21px);
/*				border:1px solid var(--global-border-color);*/
/*				border:2px solid #161616;*/
/*				border:2px solid #fff;*/
				background:#fff;
				color:#000;

/*				background:#000;*/
/*				background:rgba(0,0,0,0.75);*/
/*				background:rgb(50 50 50 / 50%);*/
/*				color:#fff;*/

				border-radius:12px;
				margin:21px;
/*				margin-top:7px;*/
				text-align: center;
/*				background: linear-gradient(60deg,#f79533,#f37055,#ef4e7b,#a166ab,#5073b8,#1098ad,#07b39b,#6fba82);*/
/*				animation: animatedgradient 6s ease infinite alternate;*/
				background-size: 300% 300%;
				border:2px solid #f47353;
			}
			.hero_footer_quote p {
				margin:0;
				font-style:bold;
				font-weight: 500;
				font-size: 18px;
				line-height: 160%;
				margin-bottom:14px;
			}
			.hero_footer_quote img {
				pointer-events: none;
				height:25px;
/*				filter:invert(1) saturate(0) brightness(2);*/
/*				mix-blend-mode: lighten;*/
				vertical-align: middle;
				margin-top: 14px;
				margin-bottom: 14px;
			}
			.hero_footer_quote {
				white-space: initial;
			}
			.hero_footer_quotes {
				-ms-overflow-style: none;  /* Internet Explorer 10+ */
				scrollbar-width: none;  /* Firefox */
			}
			.hero_footer_quotes::-webkit-scrollbar {
				display: none;  /* Safari and Chrome */
			}
			@media (min-width:600px) {
				.hero_footer_quotes .quote_1 {
					transform: perspective(500px) rotateY(14deg);
					transition: transform 1s ease 0s;
				}
				.hero_footer_quotes .quote_2 {
					transform: perspective(500px) translateZ(-41px);
					transition: transform 1s ease 0s;
				}
				.hero_footer_quotes .quote_3 {
					transform: perspective(500px) rotateY(-14deg);
					transition: transform 1s ease 0s;
				}
				.hero_footer_quotes .hero_footer_quote:hover {
					transform:none;
				}
				.feature-left .feature-3d {

				}
			}
			@media (max-width:600px) {
				.hero_footer_quotes {
					width:auto;
					left:initial;
					transform:none;
					width:calc(100% - 21px - 21px);
				}
				.testimonial,
				.hero_footer_quote {
					display:block;
					float:none;
					transform:none;
					width:100%;
				}
			}
		</style>

		<div class="hero_footer_quotes" style="margin-top: 20px">

			<div class="hero_footer_quote quote_1">
				<p>
					"Cervi is making money by selling the computing cycles required to run the prompts and spit out a set of images"
				</p>
				<img alt="Shopify" width="auto" height="auto" loading="lazy" src="shopify.png">
			</div>

			<div class="hero_footer_quote quote_2">
				<p>
					"Cervi can help content creators save time and money as they'll no longer need to travel or hire expensive photographers to do photoshoots"
				</p>
				<img alt="New York Times" width="auto" height="auto" loading="lazy" src="nytimes.png">

			</div>

			<div class="hero_footer_quote quote_3">
				<p>
					"Cervi will be able to generate a virtually limitless number of portraits of that person with different clothing..."
				</p>
				<img alt="Yahoo! News" width="auto" height="auto" loading="lazy" src="yahoo-news.png">
			</div>

		</div>

		<div style="clear:both"></div>

	</div>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
	</br>
</section>


<!--Test for the Pinterest style grid-->
<section>
	<style>
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); /* Responsive grid */
            grid-auto-rows: 150px; /* Default row height */
            gap: 10px;
            padding: 20px;
        }

        .grid-item {
            background-color: #222; /* Background color for each grid item */
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* Shadow for depth */
            position: relative;
        }

        .grid-item img {
            position: absolute;
            top: 50%;
            left: 50%;
            width: auto;
            height: 120%;
            transform: translate(-50%, -50%) rotate(15deg); /* Rotate the image by 15 degrees */
            transition: transform 0.3s ease-in-out;
        }

        .grid-item img:hover {
            transform: translate(-50%, -50%) rotate(15deg) scale(1.05); /* Slight zoom on hover */
        }

        /* Staggered positioning */
        .grid-item:nth-child(2) {
            transform: translateY(-50%);
        }

        .grid-item:nth-child(4) {
            transform: translateY(-50%);
        }

        .grid-item:nth-child(6) {
            transform: translateY(-50%);
        }

		.grid-item:nth-child(9) {
            transform: translateY(-50%);
        }

		.grid-item:nth-child(11) {
            transform: translateY(-50%);
        }

        .grid-item:nth-child(13) {
            transform: translateY(-50%);
        }

        .grid-item:nth-child(16) {
            transform: translateY(-50%);
        }

		.grid-item:nth-child(18) {
            transform: translateY(-50%);
        }

		.grid-item:nth-child(20) {
            transform: translateY(-50%);
        }
    </style>


	<div class="grid-container">
		<div class="grid-item"><img src="image1.jpg" alt="Photo 1"></div>
		<div class="grid-item"><img src="image2.jpg" alt="Photo 2"></div>
		<div class="grid-item"><img src="image3.jpg" alt="Photo 3"></div>
		<div class="grid-item"><img src="image1.jpg" alt="Photo 4"></div>
		<div class="grid-item"><img src="image2.jpg" alt="Photo 5"></div>
		<div class="grid-item"><img src="image3.jpg" alt="Photo 6"></div>
		<div class="grid-item"><img src="image1.jpg" alt="Photo 7"></div>
		<div class="grid-item"><img src="image2.jpg" alt="Photo 8"></div>
		<div class="grid-item"><img src="image3.jpg" alt="Photo 9"></div>
		<div class="grid-item"><img src="parallax2.jpg" alt="Photo 10"></div>
		<div class="grid-item"><img src="image1.jpg" alt="Photo 11"></div>
		<div class="grid-item"><img src="image2.jpg" alt="Photo 12"></div>
		<div class="grid-item"><img src="image3.jpg" alt="Photo 13"></div>
		<div class="grid-item"><img src="image1.jpg" alt="Photo 14"></div>
		<div class=""><img src="" alt=""></div>
		<div class="grid-item"><img src="image3.jpg" alt="Photo 16"></div>
		<div class=""><img src="" alt=""></div>
		<div class="grid-item"><img src="image2.jpg" alt="Photo 18"></div>
		<div class=""><img src="" alt=""></div>
		<div class="grid-item"><img src="image3.jpg" alt="Photo 20"></div>
	</div>
</section>




<!--This is part deals with some kind of photo uploads. Is giving the scacchiera effect of pictures as well?-->
<!--
<section>

	<div class="section main" tabindex="-1">
		<div class="landing-main-top-gradient"></div>
		<style>
			.landing-main-top-gradient {
				pointer-events: none;
				width:100%;
				height:350px;
				position:absolute;
				left:0;
				top:-1px;
				z-index:2;
				/* Permalink - use to edit and share this gradient: https://colorzilla.com/gradient-editor/#000000+0,7db9e8+100&1+0,0+100 */
				background: -moz-linear-gradient(top,  rgba(0,0,0,1) 15%, rgba(125,185,232,0) 100%); /* FF3.6-15 */
				background: -webkit-linear-gradient(top,  rgba(0,0,0,1) 15%,rgba(125,185,232,0) 100%); /* Chrome10-25,Safari5.1-6 */
				background: linear-gradient(to bottom,  rgba(0,0,0,1) 15%,rgba(125,185,232,0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
				background: -moz-linear-gradient(top,  rgba(17,17,17,1) 15%, rgba(125,185,232,0) 100%); /* FF3.6-15 */
				background: -webkit-linear-gradient(top,  rgba(17,17,17,1) 15%,rgba(125,185,232,0) 100%); /* Chrome10-25,Safari5.1-6 */
				background: linear-gradient(to bottom,  rgba(17,17,17,1) 15%,rgba(125,185,232,0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
				filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#000000', endColorstr='#007db9e8',GradientType=0 ); /* IE6-9 */
				opacity:1;
			}
		</style>

		<script>

			var userIsChangingFolder=false;

			$(function() {

				$('.top_folder_selector h3').bind('click',function() {

											$('html').animate({
							scrollTop:
							-$('html').offset().top+$('.hero .cta-box').scrollTop()+$('.hero .cta-box ').offset().top-28
						},500);
						$('.hero .cta-box .input_confirm_email').focus();
						return;

					if(userIsChangingFolder) {
						return;
					}

					userIsChangingFolder=true;
					disableInfinityScrollBecauseWeReachedEnd=false;

					selectedFolder=$(this).data('folder');
					$('.div_output_images').hide();
					$('.div_output_images.'+selectedFolder).show();

					$('html').data('selected-folder',selectedFolder);
					// window.location.hash=selectedFolder;

					loadPhotos(selectedFolder);

					$('.top_folder_selector h3').removeClass('active');
					$(this).addClass('active');

					// scroll back to top when changing folder
					if(empty($('.photo_search').val()) && $('.photo_search').is(':visible')) {
						var scrollToPosY=$('.photo_search').outerHeight()+14;
					}
					else {
						var scrollToPosY=0;
					}
					$('.section.main').animate({
						scrollTop:scrollToPosY
					},0);

				});
			});
		</script>
		<style>
			.top_folder_selector h3 {
				white-space: nowrap;
				font-size:18px;
				padding-bottom:14px;
				float:left;
				text-align:center;
				margin-left:0;
				margin-right:0;
				margin-top:0;
				margin-bottom:0px;
				padding-top:14px;
	/*			width:calc(100% / 3);*/
	/*			width:calc(100% / 4);*/
	/*			width:calc(100% / 5);*/
	/*			width:calc(100% / 6);*/
				width:calc(100% / 5);
				display:inline-block;
	/*			border-bottom:1px solid var(&#45;&#45;global-border-color);*/
				cursor:pointer;
				opacity:0.5;
				background:var(&#45;&#45;header-background-color);
				text-overflow: ellipsis;
				overflow-x: hidden;
			}
			/* 2023-06-09 counting too heavy so just hide it */
			.top_folder_selector h3 .count {
				display:none;
			}
			@media (max-width:1200px) {
				.top_folder_selector h3 .count {
					display:none;
				}
			}
			.top_folder_selector h3 span.icon {
				padding-top:1px;
				margin-right:7px;
			}
			@media (max-width:600px) {
				.top_folder_selector h3 .badge {
					display:none;
				}
				.top_folder_selector h3 {
					width:calc(100% / 4);
				}
				.top_folder_selector h3[data-folder="poses"] {
					display:none;
				}
				.top_folder_selector h3[data-folder="trash"] {
					display:none;
				}
				.top_folder_selector h3 span.icon {
					display:none !important;
				}
			}
			.top_folder_selector h3:hover {
				opacity:0.75;
			}
			.top_folder_selector h3:active {
				opacity:0.5;
			}
			.top_folder_selector h3.active {
				border-bottom:1px solid #fff;
				opacity:1;
			}
		</style>


		<div class="top_folder_selector">

			<h3 data-folder="templates" class="">
				Packs <span class="badge">new</span>
			</h3>

			<h3 data-folder="examples" class="active">
				Prompts
			</h3>

			<h3 data-folder="camera" class="">
				<span class="icon" style="font-size:25px;line-height:10px;vertical-align:top;margin-top:5px;display:inline-block;">÷é</span> Camera
			</h3>

			<h3 data-folder="saved" class="">
				Saved
			</h3>

			<h3 data-folder="trash" class="">
				Deleted
			</h3>


		</div>

		<div style="clear:both"></div>

		&lt;!&ndash;This part deals with photo upload somehow&ndash;&gt;
		<style>
			/*html.taking-photos .photo_search {
				pointer-events: none;
				opacity:0.5;
				filter:saturate(0);
				cursor:not-allowed;
				}*/
			.photo_search {
				width:calc(100% - 14px - 14px);
				margin:14px;
				margin-bottom: 0;
			}
			@media (max-width:600px) {
				.photo_search {
					margin-left:21px;
					width:calc(100% - 21px - 14px);
					margin-top:14px;
					margin-bottom:7px;
				}
			}
		</style>

		<script>
			// var photoSearchTimeout=setTimeout(function(){},0);
			var photoSearchQuery='';
			$(function() {
				$('.photo_search').bind('keyup',function(event) {

					// console.log(event.which);
					if(userIsChangingFolder) return;

					if(event.which=='13' || $(this).val()=='') {
						// only search if press ENTER or empty searchbox (to reset it to show all)
						// later replace this with X

						if(photoSearchQuery==$(this).val()) {
							// didn't change, so don't do anything
							return;
						}
						photoSearchQuery=$(this).val();

						// photoSearchTimeout=setTimeout(function() {

						var query=$('.photo_search').val();

						// load photos, the loadPhotos function if photo_search has a value
						// will add this to query and show our photos

						// currentFolder,null,forceReload=true
						loadPhotos(selectedFolder,null,true);
						console.log('searching '+query);

						// },1000);
					}
				})
			});
		</script>
		<input class="photo_search" placeholder="Search your photos by prompt or seed...">


		<div style="clear:both"></div>


		&lt;!&ndash;Still no idea what this is doing&&ndash;&gt;
		<style>
			.badge {
				text-transform: uppercase;
				background: #f47353;
				color: #fff;
				padding: 3.5px;
				padding-left: 7px;
				padding-right: 7px;
				border-radius: 12px;
				font-size: 8px;
				font-weight: var(&#45;&#45;bold);
				vertical-align: middle;
				margin-top: -2px;
				margin-left: 0;
				display: inline-block;
				line-height: 1;
			}
		</style>

		<div class="div_output_images camera"></div>
		<div class="div_output_images saved"></div>
		<div class="div_output_images trash"></div>
		<div class="div_output_images examples"></div>

		<div class="infinity_scroll_sensor"></div>


	</div>

</section>-->


<!--Example Overview-->
<section>
	<style>
		.feature {
			max-width:1200px;
			margin:0 auto;
			margin-bottom:28px;
			margin-top:28px;
		}
		.feature h2 {
			font-size: 36px;
			line-height: 1.5;
			margin-left: 21px;
			margin-right: 21px;
			margin-top:14px;
			margin-bottom:14px;
		}
		.feature video {
			width:100%;
			border-radius:12px;
		}
		.feature-left {
			float:left;
			width:50%;
			width:calc(50% - 14px);
			margin-left:14px;
			margin-top:28px;
		}
		.feature-right {
			width:50%;
			width:calc(50% - 14px);
			float:right;
			margin-right:14px;
			margin-top:28px;
		}
		.feature iframe {
			border-radius:12px;
		}
		@media (max-width:600px) {
			.feature-left,
			.feature-right {
				width:auto;
				float:none;
			}
		}
		@media (min-width:600px) {
			.feature-left.feature-3d {
				transform: perspective(500px) rotateY(14deg);
				transition: transform 1s ease 0s;
			}
			.feature-left.feature-3d:hover {
				transform:none;
			}
			.feature-right.feature-3d {
				transform: perspective(500px) rotateY(-14deg);
				transition: transform 1s ease 0s;
			}
			.feature-right.feature-3d:hover {
				transform:none;
			}
		}
	</style>

	<div class="features">
		<div class="feature">
			<h2 id="studio" style="text-align: center;">
				The first fully equipped AI photo studio for people
			</h2>
			<p style="text-align:center">
				Stop messing around with AI image generators with broken faces, low resemblance and inconsistent characters.
			</p><br/>
			<p style="text-align:center">
				Start producing high quality AI photographs instantly with Photo AI with consistent characters. Your first few photos are on us!
			</p>
			<br/>
			<div style="display: flex; justify-content: center; gap: 20px;">
				<a href="javascript:" onclick="window.scrollTo(0,0);$('.input_confirm_email').focus()">
					<img style="display:block;margin:14px auto;max-width:900px;width:100%;box-shadow:0 .5rem 1rem rgba(0,0,0,.15);border:1px solid var(--global-border-color);border-radius:12px;" src="imec2.png" />
				</a>
				<a href="javascript:" onclick="window.scrollTo(0,0);$('.input_confirm_email').focus()">
					<img style="display:block;margin:14px auto;max-width:900px;width:100%;box-shadow:0 .5rem 1rem rgba(0,0,0,.15);border:1px solid var(--global-border-color);border-radius:12px;" src="imec3.png" />
				</a>
			</div>

		</div>
		<br/>
		<br/>
		<br/>
</section>


<!--Upload Section-->
<section>
    <div class="feature">
				<style>
					.frontpage_training_example {
						width:calc(100% - 14px - 14px);
						clear:both;
						max-width:1000px;
						margin:14px auto;
						height:600px;
						position:relative;
					}
					@media (max-width:1000px) {
						.frontpage_training_example {
							height:60vw;
						}
					}
					.frontpage_training_example_input {
						width:calc(50% - 81px);
						overflow:hidden;
						transform: translateY(-50%);
						position: absolute;
						left:0;
						top: 50%;
					}
					.frontpage_training_example_input img {
						width:calc(50% - 14px);
						height:calc(50% - 14px);
						object-fit:cover;
						margin:7px;
						border:1px solid var(--photo-border-color);
						border-radius: 12px;
					}

					.frontpage_training_example_output {
						overflow:hidden;
						transform: translateY(-50%);
						position: absolute;
						top: 50%;
						right:0;
						width:calc(50% - 81px);
					}
					.frontpage_training_example_output img {
						width:100%;
						height:100%;
						object-fit:cover;
						border:1px solid var(--photo-border-color);
						border-radius: 12px;
						cursor:zoom-in;
					}
					.frontpage_training_example_output .top_right_label {
						background: #2bde73;
						color: #000;
						font-weight: bold;
						position: absolute;
						top: 0;
						right: 0;
						font-size: 8px;
						padding: 5px;
						border-top-right-radius: 12px;
						border-bottom-left-radius: 6px;
						text-transform: uppercase;
					}
					.frontpage_training_example_output img:hover {
						opacity:0.75;
					}
					.frontpage_training_example_arrow {
						z-index:2;
						width:100px;
						position:absolute;
						width:200px;
						margin-left: 0 auto;
						filter:invert(1);
					}
					@media (max-width:600px) {
						.frontpage_training_example_input img {
							height:auto;
						}
						.frontpage_training_example_output img {
							width:calc(100% - 14px);
							height:auto;
							margin:14px auto;
						}
						.frontpage_training_example_arrow,
						.frontpage_training_example_output,
						.frontpage_training_example_input {
							width:auto;
							position:relative;
							top:auto;
							left:auto;
							right:auto;
							transform: none;
						}
						.frontpage_training_example_arrow {
							width:150px;
							display:block;
							margin:0 auto;
							transform: rotate(24deg);
						}
						.frontpage_training_example {
							height:auto;
						}
					}
				</style>
				<h2 id="selfies" style="text-align: center;">
					Upload your selfies and start taking AI photos now
				</h2>
				<br/>
				<div class="frontpage_training_example" style="position: relative;">
					<div class="frontpage_training_example_input">
						<img loading="lazy" src="image1.jpg" /><img loading="lazy" src="image2.jpg" /><img loading="lazy" src="image3.jpg" /><img loading="lazy" src="parallax2.jpg" />
					</div>

						<img class="frontpage_training_example_arrow" style="rotate: 0deg; position: absolute; top: 250px; right: 400px;" src="black-arrow.png">

					<div class="frontpage_training_example_output">
						<div class="top_right_label">
							AI generated photo
						</div>
						<img data-original-src="AI_pic1.png" loading="lazy" src="AI_pic1.png">

					</div>
				</div>

			</div>
			<div style="clear:both"></div>

			<br/><br/><br/>

</section>


<!--Customer Ratings Section-->
<section>
    <style>
        .testimonials {
            font-size:16px;
            line-height:1.5;
        }
        .testimonials .stars {
            font-size:28px;
            letter-spacing: 4px;
            margin-left:21px;
        }
        .testimonials p {
            font-size:16px;
        }
        .testimonial {
            text-align:left;
        }
        @media (max-width:600px) {
            .testimonial {
                width:auto;
            }
        }
    </style>

    <div id="testimonials" class="testimonials feature">
        <h2 style="text-align:center"
            Customers can't stop raving about the photos they took
        </h2>

        <div class="testimonial">
            <div class="stars">
                ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è
            </div>
            <p>
                "Photo AI is just fantastic! I take amazing photos of my wife, family and friends. As a photographer I use it to test ideas before creating a real photoshoot. I strongly recommend!"
            </p><br/>
            <p>
                <strong>
                    Everaldo
                </strong>
                <span style="margin-top:7px;float:right;opacity:0.5;filter:saturate(0);font-size:10px;text-transform:uppercase;font-weight:bold;">
                    ‚úÖ Verified purchase
                </span>
            </p>
        </div>

        <div class="testimonial">
            <div class="stars">
                ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è
            </div>
            <p>
                "Cool AI tool for image generation! I could create a lot of truly amazing pictures in different locations with different outfits! All my friends were surprised and loved my pictures!"
            </p><br/>
            <p>
                <strong>
                    Iryna
                </strong>
                <span style="margin-top:7px;float:right;opacity:0.5;filter:saturate(0);font-size:10px;text-transform:uppercase;font-weight:bold;">
                    ‚úÖ Verified purchase
                </span>
            </p>
        </div>

        <div class="testimonial">
            <div class="stars">
                ‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è<span style="filter:saturate(0);opacity:0.5;">‚≠êÔ∏è</span>
            </div>
            <p>
                "Good input = good output. Very fun! Took me some effort to get the models to feel accurate but once I got the right input it was amazing. Photo AI was very responsive to my questions."
            </p><br/>
            <p>
                <strong>
                    Jordan
                </strong>
                <span style="margin-top:7px;float:right;opacity:0.5;filter:saturate(0);font-size:10px;text-transform:uppercase;font-weight:bold;">
                    ‚úÖ Verified purchase
                </span>
            </p>
        </div>

    </div>

    <div style="clear:both"></div>
    <br/>
    <br/>
    <br/>

</section>


<!--Comparison Section-->
<section>

    <div class="feature comparisons">
				<h2 style="text-align:center">
					How does Photo AI compare to other AI image generators?
				</h2>
				<p>
					With the same uploaded selfies, Photo AI performs far better than competitors in photorealism and resemblance.
				</p>
				<br/>

				<style>
					.feature.comparisons {
						text-align:center;
					}
					.feature .comparison {
						text-align: left;
						width:calc(calc(100% / 3) - (28px * 4));
						display:inline-block;
						overflow:hidden;
						margin:14px;
						border: 1px solid var(--global-border-color);
						border-radius: 18px;
					}
					.feature .comparison.photoai {
						border: 1px solid #f47353;
						outline: 1px solid #f47353;
				 	}
					.feature .comparison img {
						width:100%;
						height:auto;
						border-radius:12px;
						border-bottom-left-radius: 0;
						border-bottom-right-radius: 0;
						border-bottom: 1px solid var(--global-border-color);
					}
					.feature .comparison .label {
						padding:14px;
						display:block;
					}
					.feature.comparisons .output_image {
						cursor:zoom-in;
					}
					.feature.comparisons .output_image:hover {
						opacity:0.75;
					}
					.feature.comparisons .output_image:active {
						opacity:0.5;
					}
					@media (max-width:600px) {
						.feature .comparison {
							width:calc(100% - 14px);
						}
						.feature.comparisons {
							margin:14px;
						}
					}
				</style>

				<div class="comparison">
					<img loading="lazy" width="512" height="768" src="AID9.png" />

					<div class="label">
						Midjourney 3<br/>
						<br/>
						‚ùå Low resemblance<br/>
						‚ùå Inconsistent character<br/>
						‚úÖ Medium photorealism<br/>
						‚ùå Low resolution<br/>
						‚úÖ Maintains ethnicity<br/>
						‚úÖ Clear and sharp<br/>
					</div>
				</div>

				<div class="comparison photoai">
					<a href="javascript:" onclick="window.scrollTo(0,0);$('.input_confirm_email').focus()">
						<img loading="lazy" class="action-view-image output_image" data-original-src="AID10.png" width="512" height="768" src="AID10.png" />

					</a>
					<div class="label">
						<strong>
							Photo AI&trade;
						</strong><br/>
						<br/>
						‚úÖ High resemblance<br/>
						‚úÖ Consistent character<br/>
						‚úÖ High photorealism<br/>
						‚úÖ High resolution<br/>
						‚úÖ Maintains ethnicity<br/>
						‚úÖ Clear and sharp<br/>
					</div>
				</div>

				<div class="comparison">
					<img loading="lazy" width="512" height="768" src="AID11.png" />
					<div class="label">
						DALL-E 3<br/>
						<br/>
						‚ùå No resemblance<br/>
						‚ùå Inconsistent character<br/>
						‚ùå Low photorealism<br/>
						‚ùå No resolution<br/>
						‚úÖ Maintains ethnicity<br/>
						‚ùå Clear and sharp<br/>
					</div>
				</div>
							</div>
			<br/>
		</div>

		<br/>

</section>

<!--Details Section-->
<section>

			<style>
				.detail img {
					width:calc(100% / 4 - calc(14px * 4));
					margin:7px;
					border-radius:12px;
					object-fit:cover;
				}
				@media (max-width:600px) {
					.detail img {
						width:calc(100% / 2 - calc(14px * 2));
						margin:7px;
						border-radius:12px;
					}
				}
			</style>

			<div id="detail" class="detail feature" style="text-align:center">
				<h2 style="text-align: center;">
					The most detailed AI image generator for people
				</h2>
				<p style="text-align: center;">
					Photo AI is capable of extreme detail going from wide shots to extreme close ups and macro photography.
				</p>
				<br/>
				<br/>
				<img loading="lazy" src="jesolo1.JPG" width="244" height="366">
				<img loading="lazy" src="jesolo2.JPG" width="244" height="366">
				<img loading="lazy" src="jesolo3.JPG" width="244" height="366">
				<img loading="lazy" src="jesolo4.JPG" width="244" height="366">
			</div>
			<br/>
			<br/>
			<br/>

</section>


<!--New feature Section-->
<section>


			<div id="shoots"></div>
			<div id="packs" class="templates">
				<h2 style="text-align: center;">
					üî• New packs just dropped
				</h2>
				<p style="text-align: center;">
					 All packs are included in your membership! You can try as many as you want.
				</p>
				<br/>
				<br/>
									<a href="/ai-girlfriend" class="div_template" data-iterator="0" data-slug="ai-girlfriend" data-gender="f" data-seed="" data-name="üë±‚Äç‚ôÄÔ∏è AI Girlfriend" data-prompt-count="2" data-prompt="an insanely beautiful model as an AI girlfriend with hourglass figure wearing Instagram outfit, instagram photo, instagram" data-negative-prompt="">

						<div class="div_template_samples">
							<img loading="lazy" src="AID1.png" width="150"><img loading="lazy" src="AID2.png" width="150">
						</div>

						<div class="div_template_name">
							üë±‚Äç‚ôÄÔ∏è AI Girlfriend
						</div>

						<div class="div_template_description">
							Transform yourself into the style of an AI-generated girlfriend
						</div>

						<div class="div_template_count">
							32 photos
						</div>

													<br/>
							<div class="div_times_used_count">
								24x ran this week
							</div>
											</a>
										<a href="/korean-profile-photo" class="div_template" data-iterator="1" data-slug="korean-profile-photo" data-gender="" data-seed="" data-name="üìì Korean Profile Photo" data-prompt-count="2" data-prompt="Korean model (with black hair) (as korean kpop k-pop idol) posing for photo, wearing Korean clothes, Korean fashion, Korean fashion, Korean makeup, (in front of solid background)" data-negative-prompt="(traditional clothes), topless, nude, nsfw, cartoon, anime, illustration, monochrome, chair">

						<div class="div_template_samples">
							<img loading="lazy" src="AID3.png" width="150"><img loading="lazy" src="AID4.png" width="150">
						</div>

						<div class="div_template_name">
							üìì Korean Profile Photo													</div>

						<div class="div_template_description">
							Curious what you'd look like as a Korean K-Pop idol? We'll transform you into one wearing Seoul fashion						</div>

						<div class="div_template_count">
							32 photos
						</div>

													<br/>
							<div class="div_times_used_count">
								10x ran this week
							</div>
											</a>
										<a href="/old-money" class="div_template" data-iterator="2" data-slug="old-money" data-gender="" data-seed="" data-name="üê¥ Old money" data-prompt-count="2" data-prompt="a model in preppy style, old money aesthetic, posh style, elite school stlye, luxurious style, gossip girl neo-prep style, ralph lauren style, country club style, ivy league style " data-negative-prompt="">

						<div class="div_template_samples">
							<img loading="lazy" src="AID5.png" width="150"><img loading="lazy" src="AID6.png" width="150">
						</div>

						<div class="div_template_name">
							üê¥ Old money															&nbsp;<span class="badge">new</span>
													</div>

						<div class="div_template_description">
							Transform yourself into the old money aesthetic of elegant preppy styles that's back in fashion, think Gossip Girl mixed with Ivy League while playing tennis at the country club						</div>

						<div class="div_template_count">
							32 photos
						</div>

													<br/>
							<div class="div_times_used_count">
								150x ran this week
							</div>
											</a>
										<a href="/spiritual" class="div_template" data-iterator="3" data-slug="spiritual" data-gender="" data-seed="" data-name="üôè Spiritual" data-prompt-count="15" data-prompt="model surrounded by books or sacred texts" data-negative-prompt="">

						<div class="div_template_samples">
							<img loading="lazy" src="AID7.png" width="150"><img loading="lazy" src="AID8.png" width="150">
						</div>

						<div class="div_template_name">
							üôè Spiritual													</div>

						<div class="div_template_description">
							Capture the essence of spirituality and inner peace with stunning photos that evoke a sense of tranquility and connection to the divine						</div>

						<div class="div_template_count">
							30 photos
						</div>

													<br/>
							<div class="div_times_used_count">
								42x ran this week
							</div>
											</a>
					</div>
			<br/>
			<br/>
			<br/>


</section>
<!--Section Features-->
<section>


			<div class="feature">
				<div class="feature-left">
					<h2 id="model">
						Create your own AI model
					</h2>
					<p>
						 Create photography with artificial intelligence by creating your own AI model. Upload a set of just 10 to 20 photos in a diverse range of places, settings, and times. By inputting these images into your model, you're teaching it to recognize and replicate it.<br/>
						 <br/>
						 You only need to train your model once which takes about 30 minutes. Then you can take infinite photos with it.
					</p>
				</div>
				<div class="feature-right feature-3d">
					<div style="position: relative; padding-top: 62.28373702422145%;">
					  <iframe
						src="https://www.youtube.com/embed/0ZO28NtkwwQ"
						style="border: none; position: absolute; top: 0; left: 0; height: 100%; width: 100%;"
						allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;"
						allowfullscreen="true"
					  ></iframe>
					</div>
				</div>
			</div>
			<div style="clear:both;"></div>

			<br/><br/><br/>



			<div class="feature">
				<div class="feature-right">
					<h2 id="tryon">
						Try on clothes 2.0
					</h2>
					<p>
						Take any outfit you like (like from Shein or Zara), take a screenshot and paste it into Photo AI and it will dress up your model with it. The new version 2 of our try on model is better than ever and now even works with patterns and prints.
					</p>
					<br/>
					<p>
						Do entire photo shoots from your computer without having to fly around models and entire crews of photographers, light people, directors and producers half way around the world for a shoot. Just prompt the shoot design yourself, select your model and upload a piece of clothing!
					</p>
					<br/>
					<p>
						Perfect for Shopify store owners who want unique photos of models trying out their products.
					</p>
				</div>
				<div class="feature-left feature-3d">
					<div style="position: relative; padding-top: 76.59574468085107%;">
						<iframe
							src="https://www.youtube.com/embed/z4AJzMl4Vbw"

							loading="lazy"
							style="border: none; position: absolute; top: 0; left: 0; height: 100%; width: 100%;"
							allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;"
							allowfullscreen="true"
						></iframe>
					</div>
				</div>
			</div>
			<div style="clear:both;"></div>

			<br/><br/><br/>




			<div class="feature">
				<div class="feature-left">
					<h2 id="prompt">
						Design photorealistic scenes
					</h2>
					<p>
						Design any scene you wish, from commonplace to rare, stunning instances. Imagine the ability to create a photograph of a sunlit Parisian cafe in the 1920s, or a moonlit beach in Bali with just the right clothes, all from the comfort of your living room. <br/>
						<br/>
						Simply describe your desired scene and watch as the model generates a highly realistic photo that aligns with your vision. Taking photos is fast: right now it takes about 44 seconds per photo.
					</p>
				</div>
				<div class="feature-right feature-3d">
					<div style="position: relative; padding-top: 62.28373702422145%;">
					  <iframe
						src="https://www.youtube.com/embed/MU6ZcGL7s4U"
						style="border: none; position: absolute; top: 0; left: 0; height: 100%; width: 100%;"
						allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;"
						allowfullscreen="true"
					  ></iframe>
					</div>
				</div>
			</div>
			<div style="clear:both;"></div>

			<br/><br/><br/>




			<div class="feature" id="">
				<div class="feature-right">
					<h2 id="video">
						Create video clips with AI
					</h2>
					<p>
						Take any AI photo you generated, and turn it into a video by tapping [ Make video ]. A few minutes later you have a short video clip of the photo giving you an immersive virtual reality like experience.<br/>
						<br/>
						Next features we'll add is boomerang videos, background audio and music, longer 10-30 second clips and voice scripts where the AI model lip syncs.
					</p>
				</div>
				<div class="feature-left feature-3d">
					<div style="position: relative; padding-top: 66.66666666666666%;">
					  <iframe
					    src="https://www.youtube.com/embed/0hQRF2jXjOA"
					    style="border: none; position: absolute; top: 0; left: 0; height: 100%; width: 100%;"
					    allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;"
					    allowfullscreen="true"
					  ></iframe>
					</div>
				</div>
			</div>
			<div style="clear:both;"></div>

			<br/><br/><br/>

</section>

<!--FAQ Section-->
<section>

    <div class="faq" id="faq">
        <h2 style="text-align: center;">
            Frequently asked questions
        </h2>
        <a href="javascript:" onclick="window.scrollTo(0,0);$('.input_confirm_email').focus()"><img width="586" class="faq-img" loading="lazy" src="image1.jpg">
        </a>

        <div class="faq-right">
            <h4>
                Do you have an affiliate program?
            </h4>
            <p>
                Yes we do! When you <a target="_new" href="https://photo-ai.getrewardful.com/signup">join Photo AI's affiliate program</a> you receive a 30% commission on payments for all customers you refer!
            </p>

            <script type="application/ld+json">
                {
                    "@context": "https://schema.org",
                    "@type": "QAPage",
                    "mainEntity": {
                        "@type": "Question",
                        "name": "Photo AI",
                        "text": "Do you have an affiliate program?",
                        "answerCount": "1",
                        "upvoteCount": "1",
                        "dateCreated": "2023-05-25T00:00:00+00:00",
                        "dateModified": "2023-06-01T00:00:00+00:00",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Yes we do! When you <a target=\"_new\" href=\"https:\/\/photo-ai.getrewardful.com\/signup\">join Photo AI's affiliate program<\/a> you receive a 30% commission on payments for all customers you refer!",
                            "upvoteCount": "1",
                            "dateCreated": "2024-09-01T12:28:17+00:00",
                            "dateModified": "2024-09-01T12:28:17+00:00"
                        }
                    }
                }
            </script>

            <h4>
                How does Photo AI's AI Photo Generator work?
            </h4>
            <p>
                Photo AI lets you upload selfies, create AI models and then generate AI photos with them. We teach the AI how you look and then it's able to generate photorealistic images of you. You can put yourself in different settings, with different outfits, doing different actions, with different expressions. And best of all, you can do all this from your laptop or phone without having to pay an expensive photographer $100s or $1000s.
                <br/>
		        <br/>
		        After sign up you get access to Photo AI's studio which lets you use our photo shoot preset templates, write prompts or copycat photos of other people, to generate anything you can think of.
            </p>

            <script type="application/ld+json">
                {
                    "@context": "https://schema.org",
                    "@type": "QAPage",
                    "mainEntity": {
                        "@type": "Question",
                        "name": "Photo AI",
                        "text": "How does Photo AI's AI Photo Generator work?",
                        "answerCount": "1",
                        "upvoteCount": "1",
                        "dateCreated": "2023-05-25T00:00:00+00:00",
                        "dateModified": "2023-06-01T00:00:00+00:00",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Photo AI lets you upload selfies, create AI models and then generate AI photos with them. We teach the AI how you look and then it's able to generate photorealistic images of you. You can put yourself in different settings, with different outfits, doing different actions, with different expressions. And best of all, you can do all this from your laptop or phone without having to pay an expensive photographer $100s or $1000s.<br\/>\n\t\t    <br\/>\n\t\t    After sign up you get access to Photo AI's studio which lets you use our photo shoot preset templates, write prompts or copycat photos of other people, to generate anything you can think of.",
                            "upvoteCount": "1",
                            "dateCreated": "2024-09-01T12:28:17+00:00",
                            "dateModified": "2024-09-01T12:28:17+00:00"
                        }
                    }
                }
            </script>

            <h4>
                What AI model do you use?
            </h4>
            <p>
                Photo AI uses our own AI generation pipeline which is trained for high photorealism. We keep working on improving it, with better photorealistic data sets, using reinforcement learning from human feedback (RLHF) by users like you which constantly improves our models. All of this to get you better more photorealistic images.						</p>
            <script type="application/ld+json">
                {
                    "@context": "https://schema.org",
                    "@type": "QAPage",
                    "mainEntity": {
                        "@type": "Question",
                        "name": "Photo AI",
                        "text": "What AI model do you use?",
                        "answerCount": "1",
                        "upvoteCount": "1",
                        "dateCreated": "2023-05-25T00:00:00+00:00",
                        "dateModified": "2023-06-01T00:00:00+00:00",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Photo AI uses our own AI generation pipeline which is trained for high photorealism. We keep working on improving it, with better photorealistic data sets, using reinforcement learning from human feedback (RLHF) by users like you which constantly improves our models. All of this to get you better more photorealistic images.",
                            "upvoteCount": "1",
                            "dateCreated": "2024-09-01T12:28:17+00:00",
                            "dateModified": "2024-09-01T12:28:17+00:00"
                        }
                    }
                }
            </script>
            <h4>
                Do you have an iOS app?						</h4>
            <p>
                Yes! Photo AI is <a href="https://apps.apple.com/us/app/ai-photo-generator-photo-ai/id6470383042">available on iOS now</a>. The web version is more advanced than the iOS app for now though.						</p>
            <script type="application/ld+json">
                {
                    "@context": "https://schema.org",
                    "@type": "QAPage",
                    "mainEntity": {
                        "@type": "Question",
                        "name": "Photo AI",
                        "text": "Do you have an iOS app?",
                        "answerCount": "1",
                        "upvoteCount": "1",
                        "dateCreated": "2023-05-25T00:00:00+00:00",
                        "dateModified": "2023-06-01T00:00:00+00:00",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Yes! Photo AI is <a href=\"https:\/\/apps.apple.com\/us\/app\/ai-photo-generator-photo-ai\/id6470383042\">available on iOS now<\/a>. The web version is more advanced than the iOS app for now though.",
                            "upvoteCount": "1",
                            "dateCreated": "2024-09-01T12:28:17+00:00",
                            "dateModified": "2024-09-01T12:28:17+00:00"
                        }
                    }
                }
            </script>

            <h4>
                Can I create AI influencers with Photo AI?						</h4>
            <p>
                Yes! The easiest way is to first describe how you want your AI influencer to look in the prompt box (like "pink hair 25 y o woman IG influencer" and selecting a plain AI model (like White Woman), then generating several photos. Save the ones you like most. Then on the left sidebar, scroll down to [ Create new AI character ], upload your generated photos. It will now generate a new AI character based on your generated photos and will make sure they remain consistent across generations.						</p>
            <script type="application/ld+json">
                {
                    "@context": "https://schema.org",
                    "@type": "QAPage",
                    "mainEntity": {
                        "@type": "Question",
                        "name": "Photo AI",
                        "text": "Can I create AI influencers with Photo AI?",
                        "answerCount": "1",
                        "upvoteCount": "1",
                        "dateCreated": "2023-05-25T00:00:00+00:00",
                        "dateModified": "2023-06-01T00:00:00+00:00",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Yes! The easiest way is to first describe how you want your AI influencer to look in the prompt box (like \"pink hair 25 y o woman IG influencer\" and selecting a plain AI model (like White Woman), then generating several photos. Save the ones you like most. Then on the left sidebar, scroll down to [ Create new AI character ], upload your generated photos. It will now generate a new AI character based on your generated photos and will make sure they remain consistent across generations.",
                            "upvoteCount": "1",
                            "dateCreated": "2024-09-01T12:28:17+00:00",
                            "dateModified": "2024-09-01T12:28:17+00:00"
                        }
                    }
                }
            </script>


        </div>
        <div style="clear:both"></div>

			<br/>
</section>


<!--Section with packages options-->
<section>
    <style>
        section {
            max-width: 1500px;
            width: 100%;
        }
    </style>

		    <div id="shoots"></div>
			<div id="packs" class="templates">
				<h2 style="text-align: center;">
					Pick from 40+ photo packs
				</h2>
				<p style="text-align: center;">
					With Photo AI's preset photo packs, you don't need to do any of the hard work of writing prompts or setting parameters. Instead, with just one click, Photo AI takes a set of photos for you and we keep adding new photo packs regularly.
				</p>
				<br/>
				<p style="text-align: center;">
					All packs are included in your membership! You can try as many as you want.
				</p>
				<br/>
				<br/>
				<a href="/ai-dating-photos" class="div_template" data-iterator="0" data-slug="ai-dating-photos" data-gender="" data-seed="" data-name="‚ù§Ô∏è‚Äçüî• AI Dating" data-prompt-count="27" data-prompt="a stylish if(gender=m){masculine} if(gender=f){feminine} model exploring a street market" data-negative-prompt="">
                    <div class="div_template_samples">
                        <img loading="lazy" src="image1.jpg"><img loading="lazy" src="image2.jpg" width="150">
                    </div>

                    <div class="div_template_name">
                        ‚ù§Ô∏è‚Äçüî• AI Dating
                    </div>

                    <div class="div_template_description">
                        Use AI to generate better dating photos for Tinder, Bumble and Hinge. Get more matches and make your dating profile stand out on dating apps. Try different poses, clothes and places to make yourself look best!
                    </div>

                    <div class="div_template_count">
                        27 photos
                    </div>

                    <br/>

                    <div class="div_times_used_count">
                        507x ran this week
                    </div>

                </a>

                <a href="/ai-dating-photos" class="div_template" data-iterator="0" data-slug="ai-dating-photos" data-gender="" data-seed="" data-name="‚ù§Ô∏è‚Äçüî• AI Dating" data-prompt-count="27" data-prompt="a stylish if(gender=m){masculine} if(gender=f){feminine} model exploring a street market" data-negative-prompt="">
                    <div class="div_template_samples">
                        <img loading="lazy" src="image3.jpg"><img loading="lazy" src="image1.jpg" width="150">
                    </div>

                    <div class="div_template_name">
                        ‚ù§Ô∏è‚Äçüî• AI Dating
                    </div>

                    <div class="div_template_description">
                        Use AI to generate better dating photos for Tinder, Bumble and Hinge. Get more matches and make your dating profile stand out on dating apps. Try different poses, clothes and places to make yourself look best!
                    </div>

                    <div class="div_template_count">
                        27 photos
                    </div>

                    <br/>

                    <div class="div_times_used_count">
                        507x ran this week
                    </div>

                </a>

                <a href="/ai-dating-photos" class="div_template" data-iterator="0" data-slug="ai-dating-photos" data-gender="" data-seed="" data-name="‚ù§Ô∏è‚Äçüî• AI Dating" data-prompt-count="27" data-prompt="a stylish if(gender=m){masculine} if(gender=f){feminine} model exploring a street market" data-negative-prompt="">
                    <div class="div_template_samples">
                        <img loading="lazy" src="parallax2.jpg"><img loading="lazy" src="image2.jpg" width="150">
                    </div>

                    <div class="div_template_name">
                        ‚ù§Ô∏è‚Äçüî• AI Dating
                    </div>

                    <div class="div_template_description">
                        Use AI to generate better dating photos for Tinder, Bumble and Hinge. Get more matches and make your dating profile stand out on dating apps. Try different poses, clothes and places to make yourself look best!
                    </div>

                    <div class="div_template_count">
                        27 photos
                    </div>

                    <br/>

                    <div class="div_times_used_count">
                        507x ran this week
                    </div>

                </a>

                <a href="/ai-dating-photos" class="div_template" data-iterator="0" data-slug="ai-dating-photos" data-gender="" data-seed="" data-name="‚ù§Ô∏è‚Äçüî• AI Dating" data-prompt-count="27" data-prompt="a stylish if(gender=m){masculine} if(gender=f){feminine} model exploring a street market" data-negative-prompt="">
                    <div class="div_template_samples">
                        <img loading="lazy" src="image1.jpg"><img loading="lazy" src="parallax2.jpg" width="150">
                    </div>

                    <div class="div_template_name">
                        ‚ù§Ô∏è‚Äçüî• AI Dating
                    </div>

                    <div class="div_template_description">
                        Use AI to generate better dating photos for Tinder, Bumble and Hinge. Get more matches and make your dating profile stand out on dating apps. Try different poses, clothes and places to make yourself look best!
                    </div>

                    <div class="div_template_count">
                        27 photos
                    </div>

                    <br/>

                    <div class="div_times_used_count">
                        507x ran this week
                    </div>

                </a>

                <a href="/ai-dating-photos" class="div_template" data-iterator="0" data-slug="ai-dating-photos" data-gender="" data-seed="" data-name="‚ù§Ô∏è‚Äçüî• AI Dating" data-prompt-count="27" data-prompt="a stylish if(gender=m){masculine} if(gender=f){feminine} model exploring a street market" data-negative-prompt="">
                    <div class="div_template_samples">
                        <img loading="lazy" src="image1.jpg"><img loading="lazy" src="image2.jpg" width="150">
                    </div>

                    <div class="div_template_name">
                        ‚ù§Ô∏è‚Äçüî• AI Dating
                    </div>

                    <div class="div_template_description">
                        Use AI to generate better dating photos for Tinder, Bumble and Hinge. Get more matches and make your dating profile stand out on dating apps. Try different poses, clothes and places to make yourself look best!
                    </div>

                    <div class="div_template_count">
                        27 photos
                    </div>

                    <br/>

                    <div class="div_times_used_count">
                        507x ran this week
                    </div>

                </a>

                <a href="/ai-dating-photos" class="div_template" data-iterator="0" data-slug="ai-dating-photos" data-gender="" data-seed="" data-name="‚ù§Ô∏è‚Äçüî• AI Dating" data-prompt-count="27" data-prompt="a stylish if(gender=m){masculine} if(gender=f){feminine} model exploring a street market" data-negative-prompt="">
                    <div class="div_template_samples">
                        <img loading="lazy" src="image1.jpg"><img loading="lazy" src="image2.jpg" width="150">
                    </div>

                    <div class="div_template_name">
                        ‚ù§Ô∏è‚Äçüî• AI Dating
                    </div>

                    <div class="div_template_description">
                        Use AI to generate better dating photos for Tinder, Bumble and Hinge. Get more matches and make your dating profile stand out on dating apps. Try different poses, clothes and places to make yourself look best!
                    </div>

                    <div class="div_template_count">
                        27 photos
                    </div>

                    <br/>

                    <div class="div_times_used_count">
                        507x ran this week
                    </div>

                </a>

                <a href="/ai-dating-photos" class="div_template" data-iterator="0" data-slug="ai-dating-photos" data-gender="" data-seed="" data-name="‚ù§Ô∏è‚Äçüî• AI Dating" data-prompt-count="27" data-prompt="a stylish if(gender=m){masculine} if(gender=f){feminine} model exploring a street market" data-negative-prompt="">
                    <div class="div_template_samples">
                        <img loading="lazy" src="image1.jpg"><img loading="lazy" src="image2.jpg" width="150">
                    </div>

                    <div class="div_template_name">
                        ‚ù§Ô∏è‚Äçüî• AI Dating
                    </div>

                    <div class="div_template_description">
                        Use AI to generate better dating photos for Tinder, Bumble and Hinge. Get more matches and make your dating profile stand out on dating apps. Try different poses, clothes and places to make yourself look best!
                    </div>

                    <div class="div_template_count">
                        27 photos
                    </div>

                    <br/>

                    <div class="div_times_used_count">
                        507x ran this week
                    </div>

                </a>

                <a href="/ai-dating-photos" class="div_template" data-iterator="0" data-slug="ai-dating-photos" data-gender="" data-seed="" data-name="‚ù§Ô∏è‚Äçüî• AI Dating" data-prompt-count="27" data-prompt="a stylish if(gender=m){masculine} if(gender=f){feminine} model exploring a street market" data-negative-prompt="">
                    <div class="div_template_samples">
                        <img loading="lazy" src="image1.jpg"><img loading="lazy" src="image2.jpg" width="150">
                    </div>

                    <div class="div_template_name">
                        ‚ù§Ô∏è‚Äçüî• AI Dating
                    </div>

                    <div class="div_template_description">
                        Use AI to generate better dating photos for Tinder, Bumble and Hinge. Get more matches and make your dating profile stand out on dating apps. Try different poses, clothes and places to make yourself look best!
                    </div>

                    <div class="div_template_count">
                        27 photos
                    </div>

                    <br/>

                    <div class="div_times_used_count">
                        507x ran this week
                    </div>

                </a>
            </div>
</section>


<!--Pricing Section -->
<section>
    <div class="pricing" id="pricing">
		<center>
			<h2>
				Plans & pricing
			</h2>
		</center>


        <style>
            .pricing-container h2,
            .pricing-container p {
                margin-left:0;
                margin-right:0;
            }
            .pricing-container {
                margin:0 auto;
            }
            .pricing-container p.description {
                color:rgba(255,255,255,0.7);
                font-size:14px;
            }
            .pricing-container .toggle-switch {
                text-align: center;
                margin-bottom: 20px;
            }
            .pricing-container  .toggle-switch button {
                padding: 10px 20px;
                border: none;
                background-color: rgba(255,255,255,0.1);
                color:rgba(255,255,255,0.7);
                cursor: pointer;
                border-radius:12px;
                margin-left:3.5px;
                margin-right:3.5px;
                cursor:pointer;
                font-size:16px;
            }
            .pricing-container .toggle-switch button.active {
                background-color: rgb(244, 68, 37);
                color:#fff;
                font-weight:bold;
            }
            .pricing-container .toggle-switch button:hover {
                color:#fff;
            }
            .pricing-container .toggle-switch button:active {
                opacity:0.5;
            }
            .pricing-container  .pricing-wrapper {
                display: flex;
                justify-content: space-around;
                margin: 0 auto;
                flex-wrap: wrap;
            }
            .pricing-container .pricing-plan {
                cursor:pointer;
                text-align:left;
                border-radius:12px;
                padding: 30px;
                width: 260px;
                box-shadow: 0 0 10px rgba(0,0,0,0.1);
                margin: 10px;
                position: relative;
                border:1px solid rgba(255, 255, 255,0.1);
                /* width:calc(25% - 30px - 30px - 30px); */
                width:calc(25% - 30px);
            }
            .pricing-container .pricing-plan:hover {
                opacity:1;
                border-color: rgba(255, 255, 255, 0.2);
                background-color:rgba(255, 255, 255, 0.1);
            }
            .pricing-container .pricing-plan {
                opacity:0.8;
            }
            .pricing-container .pricing-plan.popular {
                opacity:1;
            }
            .pricing-container .pricing-plan:active {
                opacity:0.75;
            }


            @media (max-width:1200px) {
                .pricing-container  .pricing-plan {
                    width:calc(33% - 30px - 30px - 30px);
                }
            }
            @media (max-width:1000px) {
                .pricing-container  .pricing-plan {
                    width:calc(50% - 30px);
                }
            }
            @media (max-width:800px) {
                .pricing-container  .pricing-plan {
                    width:calc(100%);
                }
            }
            .pricing-container .pricing-plan .pricing-badge-container {
                height: 30px;
            }
            .pricing-container .pricing-plan .pricing-badge {
                padding: 5px 10px;
                position: relative;
                overflow: hidden;
                background: rgba(0, 0, 0, .2);
                display: inline-block;
                border-radius: 12px;
                font-size: 12px;
            }
            .pricing-container .pricing-plan .pricing-badge:before {
                animation: badgeShimmer 3.5s infinite ease-out 1.8s;
                background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, .18) 25%, rgba(255, 255, 255, .3) 50%, rgba(255, 255, 255, .18) 75%, rgba(255, 255, 255, 0) 100%);
                content: "";
                display: block;
                height: 90px;
                left: -60%;
                position: absolute;
                top: -150px;
                transform: rotate(-25deg);
                width: 200px;
            }
            @keyframes badgeShimmer {
                0% {
                    left: -100%;
                    top: -150px;
                }
                50% {
                    left: 100%;
                    top: 150px;
                }
                100% {
                    left: 100%;
                    top: 150px;
                }
            }
            .pricing-container .pricing-plan .badge span {
                font-size:12px;
                font-weight:500;
            }
            .pricing-container .pricing-plan.popular {
                border-color: rgba(255, 255, 255, 0.2);
                background-color:rgba(255, 255, 255, 0.1);
            }
            .pricing-container .pricing-plan.monthly {
                display:none;
            }
            .pricing-container .pricing-plan.yearly {
                display:block;
            }
            .pricing-container .pricing-plan h2 {
                font-size: 20px;
            }
            .pricing-container .price span.number {
                font-size: 45px;
                color: #fff;
                font-weight:bold;
                margin-right:7px;
            }

            .pricing-container .price strong {
                color:#fff;
            }
            .pricing-container .price span {
                font-size: 12px;
                font-weight:normal;
                color:rgba(255,255,255,0.7);
                display:inline-block;
            }
            .pricing-container  .features {
                list-style: none;
                padding: 0;
            }
            .pricing-container  .features strong li .check {
                opacity:1;
            }
            .pricing-container .features li {
                padding-top: 7px;
                padding-bottom: 7px;
                padding-left: 0;
                padding-right: 0;
                color:rgba(255,255,255,0.7);
                font-size:14px;
            }
            .pricing-container  .features li.strong,
            .pricing-container  .features strong li {
                color:#fff;
                font-weight:bold;
            }
            .pricing-container .features li:last-child {
                border-bottom: none;
            }
            .pricing-container  .features li span {
                vertical-align:middle;
            }
            .pricing-container  .features li .check {
                opacity:0.7;
                background-image:url('pricing-table-check.svg');
                background-size:cover;
                width:15px;
                height:15px;
                display:inline-block;
                margin-right:7px;
                vertical-align:middle;
            }
            .pricing-container button.subscribe {
                background-color: rgb(244, 68, 37);
                color: white;
                border: none;
                padding: 12px 22px;
                cursor: pointer;
                width: 100%;
                box-sizing: border-box;
                font-size:16px;
                border-radius:12px;
                font-weight:600;
                border:1px solid rgb(244, 68, 37);
            }
            .pricing-container button.subscribe:hover {
                background:none;
                color:rgb(244, 68, 37);
                border:1px solid rgb(244, 68, 37);
            }
            .pricing-container button.subscribe:active {
                opacity:0.5;
            }
            .pricing-container button.current {
                background:#fff;
                color:#000;
                pointer-events:none;
                border-color:#fff;
            }
            .action-switch-to-monthly-billing,
            .action-switch-to-annual-billing {
                font-size:12px;
                cursor:pointer;
                text-align:center;
                margin-top:14px;
            }
            .action-switch-to-monthly-billing:hover,
            .action-switch-to-annual-billing:hover {
                text-decoration:underline;
            }
        </style>



		<script>
        	document.addEventListener('DOMContentLoaded', function () {
				// Get the buttons
				var monthlyBtn = document.querySelector('.toggle-switch .monthly');
				var yearlyBtn = document.querySelector('.toggle-switch .yearly');

				// Get all the pricing plans
				var monthlyPlans = document.querySelectorAll('.pricing-plan.monthly');
				var yearlyPlans = document.querySelectorAll('.pricing-plan.yearly');

				// Function to show monthly plans and hide yearly plans
				function showMonthlyPlans() {
					monthlyBtn.classList.add('active');
					yearlyBtn.classList.remove('active');

					// Show all monthly plans
					monthlyPlans.forEach(function(plan) {
						plan.style.display = 'block';
					});

					// Hide all yearly plans
					yearlyPlans.forEach(function(plan) {
						plan.style.display = 'none';
					});
				}

				// Function to show yearly plans and hide monthly plans
				function showYearlyPlans() {
					yearlyBtn.classList.add('active');
					monthlyBtn.classList.remove('active');

					// Show all yearly plans
					yearlyPlans.forEach(function(plan) {
						plan.style.display = 'block';
					});

					// Hide all monthly plans
					monthlyPlans.forEach(function(plan) {
						plan.style.display = 'none';
					});
				}

				// Add click event to Monthly button
				monthlyBtn.addEventListener('click', showMonthlyPlans);

				// Add click event to Yearly button
				yearlyBtn.addEventListener('click', showYearlyPlans);

				// Initial state
				showYearlyPlans();
			});
    	</script>



        <div class="pricing-container">

			<div class="toggle-switch">
             <button class="monthly ">Monthly</button>
             <button class="yearly active ">üî• Yearly: get 6+ months free</button>
            </div>

            <div class="pricing-wrapper">

                <div class="pricing-plan shaded_border monthly" id="starter">
                    <div class="pricing-badge-container"></div>
                    <h2>Starter Plan</h2>
                    <p class="description">
                    </p>
                    <p class="price"><span class="number">$19</span><span><strong>per month</strong></span></p>

                            <a tabindex="-1" href="javascript:" onclick="$('html').animate({scrollTop:0});$('.input_confirm_email').focus()">
                            <button class="subscribe">Subscribe ‚Üí</button>
                            </a>
                    <p class="action-switch-to-annual-billing">
                        Save with yearly (6+ months free) ‚Üó
                    </p>

                    <ul class="features">
                        <li class="strong"><div class="check"></div><span>Take 100 AI Photos (credits)</span></li>
                        <li class="strong"><div class="check"></div><span>Create 1 AI Models per month</span></li>
                        <li class="strong"><div class="check"></div><span>Stable Diffusion: worse legacy model</span></li>
                        <li><div class="check"></div><span>Take 1 photo at a time</span></li>
                        <li><div class="check"></div><span>Use any photo pack</span></li>
                        <li><div class="check"></div><span>For personal use only</span></li>
                    </ul>
                </div>

                <div class="pricing-plan shaded_border monthly" id="pro">
                    <div class="pricing-badge-container"></div>
                    <h2>Pro Plan</h2>
                    <p class="description">
                    </p>
                    <p class="price"><span class="number">$39</span><span><strong>per month</strong></span></p>

                                    <a tabindex="-1" href="javascript:" onclick="$('html').animate({scrollTop:0});$('.input_confirm_email').focus()">
                            <button class="subscribe">Subscribe ‚Üí</button>
                        </a>
                                <p class="action-switch-to-annual-billing">
                        Save with yearly (6+ months free) ‚Üó
                    </p>

                    <ul class="features">
                        <li class="strong"><div class="check"></div><span>Take 1,000 AI Photos (credits)</span></li>
                        <li class="strong"><div class="check"></div><span>Create 5 AI Models per month</span></li>
                        <li class="strong"><div class="check"></div><span style="padding:3px;border-radius:12px;background: #2bde73;color: #000;">Flux&trade;: new photorealistic model</span></i>

                                <li class="strong"><span>For each model you get:</span></li>

                        <li><div class="check"></div><span>8x free profile pics</span></li>
                        <li><div class="check"></div><span>8x free professional headshots</span></li>
                        <li><div class="check"></div><span>8x free dating app photos</span></li>
                        <li><div class="check"></div><span>8x free outfit ideas</span></li>
                        <li><div class="check"></div><span>8x free social media posts</span></li>

                        <li class="strong"><span>All Starter features, plus:</span></li>
                        <li><div class="check"></div><span>Take up to 4 photos in parallel</span></li>
                        <li><div class="check"></div><span>Write your own prompts</span></li>
                        <li><div class="check"></div><span>Copy any photo</span></li>
                        <li><div class="check"></div><span>Commercial use license</span></li>
                    </ul>
                </div>

                <div class="pricing-plan shaded_border monthly popular" id="premium">
                    <div class="pricing-badge-container">
                        <div class="pricing-badge">
                            <span>
                                Most popular
                            </span>
                        </div>
                    </div>
                    <h2>Premium Plan</h2>
                    <p class="description">
                    </p>
                    <p class="price"><span class="number">$99</span><span><strong>per month</strong></span></p>

					<a tabindex="-1" href="javascript:" onclick="$('html').animate({scrollTop:0});$('.input_confirm_email').focus()">
						<button class="subscribe">Subscribe ‚Üí</button>
					</a>
					<p class="action-switch-to-annual-billing">
                        Save with yearly (6+ months free) ‚Üó
                    </p>

                    <ul class="features">
                        <li class="strong"><div class="check"></div><span>Take 5,000 AI Photos (credits)</span></li>
                        <li class="strong"><div class="check"></div><span>Create 25 AI Models per month</span></li>
                        <li class="strong"><div class="check"></div><span style="padding:3px;border-radius:12px;background: #2bde73;color: #000;">Flux&trade;: new photorealistic model</span></i>

						<li class="strong"><span>For each model you get:</span></li>

                    <li><div class="check"></div><span>8x free profile pics</span></li>
                    <li><div class="check"></div><span>8x free professional headshots</span></li>
                    <li><div class="check"></div><span>8x free dating app photos</span></li>
                    <li><div class="check"></div><span>8x free outfit ideas</span></li>
                    <li><div class="check"></div><span>8x free social media posts</span></li>

                        <li class="strong"><span>All Pro features, plus:</span></li>
                        <li><div class="check"></div><span>Use the magic photo editor</span></li>
                        <li><div class="check"></div><span>Try on clothes</span></li>
                        <li><div class="check"></div><span>Make videos from photos</span></li>
                        <li><div class="check"></div><span>Access to the community chat</span></li>
                        <li><div class="check"></div><span>Early access to new features</span></li>
                    </ul>
                </div>

                <div class="pricing-plan shaded_border monthly" id="business">
                    <div class="pricing-badge-container"></div>
                    <h2>Business Plan</h2>
                    <p class="description">
                    </p>
                    <p class="price"><span class="number">$299</span><span><strong>per month</strong></span></p>

					<a tabindex="-1" href="javascript:" onclick="$('html').animate({scrollTop:0});$('.input_confirm_email').focus()">
						<button class="subscribe">Subscribe ‚Üí</button>
					</a>
					<p class="action-switch-to-annual-billing">
                        Save with yearly (6+ months free) ‚Üó
                    </p>

                    <ul class="features">
                        <li class="strong"><div class="check"></div><span>Take 25,000 AI Photos (credits)</span></li>
                        <li class="strong"><div class="check"></div><span>Create 100 AI Models per month</span></li>
                        <li class="strong"><div class="check"></div><span style="padding:3px;border-radius:12px;background: #2bde73;color: #000;">Flux&trade;: new photorealistic model</span></i>

						<li class="strong"><span>For each model you get:</span></li>

                    <li><div class="check"></div><span>8x free profile pics</span></li>
                    <li><div class="check"></div><span>8x free professional headshots</span></li>
                    <li><div class="check"></div><span>8x free dating app photos</span></li>
                    <li><div class="check"></div><span>8x free outfit ideas</span></li>
                    <li><div class="check"></div><span>8x free social media posts</span></li>

                        <li class="strong"><span>All Premium features, plus:</span></li>
                        <li><div class="check"></div><span>Unlimited photo storage</span></li>
                        <li><div class="check"></div><span>Priority: faster response times</span></li>
                    </ul>
                </div>



                <div class="pricing-plan shaded_border yearly" id="starter">
                    <div class="pricing-badge-container"></div>
                    <h2>Starter Plan</h2>
                    <p class="description">
                    </p>
                    <p class="price"><span class="number">$9</span><span>6+ months free<br/>billed yearly $99<br/><strong>per month</strong></span></p>

                                    <a tabindex="-1" href="javascript:" onclick="$('html').animate({scrollTop:0});$('.input_confirm_email').focus()">
                            <button class="subscribe">Subscribe ‚Üí</button>
                        </a>
                                <p class="action-switch-to-monthly-billing">
                        View monthly billing ‚Üó
                    </p>

                    <ul class="features">
                        <li class="strong"><div class="check"></div><span>Take 100 AI Photos (credits)</span></li>
                        <li class="strong"><div class="check"></div><span>Create 1 AI Models per month</span></li>
                        <li class="strong"><div class="check"></div><span>Stable Diffusion: worse legacy model</span></li>
                        <li class="strong"><div class="check"></div><span>Take 1 photo at a time</span></li>
                        <li class="strong"><div class="check"></div><span>Use any photo pack</span></li>
                        <li class="strong"><div class="check"></div><span>For personal use only</span></li>
                    </ul>
                </div>

                <div class="pricing-plan shaded_border yearly" id="pro">
                    <div class="pricing-badge-container"></div>
                    <h2>Pro Plan</h2>
                    <p class="description">
                    </p>
                    <p class="price"><span class="number">$17</span><span>6+ months free<br/>billed yearly $199<br/><strong>per month</strong></span></p>

					<a tabindex="-1" href="javascript:" onclick="$('html').animate({scrollTop:0});$('.input_confirm_email').focus()">
						<button class="subscribe">Subscribe ‚Üí</button>
					</a>
                                <p class="action-switch-to-monthly-billing">
                        View monthly billing ‚Üó
                    </p>

                    <ul class="features">
                        <li class="strong"><div class="check"></div><span>Take 1,000 AI Photos (credits)</span></li>
                        <li class="strong"><div class="check"></div><span>Create 5 AI Models per month</span></li>
                        <li class="strong"><div class="check"></div><span style="padding:3px;border-radius:12px;background: #2bde73;color: #000;">Flux&trade;: new photorealistic model</span></i>

						<li class="strong"><span>For each model you get:</span></li>

                    <li><div class="check"></div><span>8x free profile pics</span></li>
                    <li><div class="check"></div><span>8x free professional headshots</span></li>
                    <li><div class="check"></div><span>8x free dating app photos</span></li>
                    <li><div class="check"></div><span>8x free outfit ideas</span></li>
                    <li><div class="check"></div><span>8x free social media posts</span></li>

                        <li class="strong"><span>All Starter features, plus:</span></li>

						<li><div class="check"></div><span>Take up to 4 photos in parallel</span></li>
						<li><div class="check"></div><span>Write your own prompts</span></li>
						<li><div class="check"></div><span>Copy any photo</span></li>
						<li><div class="check"></div><span>Commercial use license</span></li>
					</ul>
                </div>
                <div class="pricing-plan shaded_border yearly popular" id="premium">
                    <div class="pricing-badge-container">
                        <div class="pricing-badge">
                            <span>
                                Most popular
                            </span>
                        </div>
                    </div>
                    <h2>Premium Plan</h2>
                    <p class="description">
                    </p>
                    <p class="price"><span class="number">$42</span><span>6+ months free<br/>billed yearly $499<br/><strong>per month</strong></span></p>

					<a tabindex="-1" href="javascript:" onclick="$('html').animate({scrollTop:0});$('.input_confirm_email').focus()">
						<button class="subscribe">Subscribe ‚Üí</button>
					</a>
					<p class="action-switch-to-monthly-billing">
                        View monthly billing ‚Üó
                    </p>

                    <ul class="features">
                        <li class="strong"><div class="check"></div><span>Take 5,000 AI Photos (credits)</span></li>
                        <li class="strong"><div class="check"></div><span>Create 25 AI Models per month</span></li>
                        <li class="strong"><div class="check"></div><span style="padding:3px;border-radius:12px;background: #2bde73;color: #000;">Flux&trade;: new photorealistic model</span></i>

                                <li class="strong"><span>For each model you get:</span></li>

                    <li><div class="check"></div><span>8x free profile pics</span></li>
                    <li><div class="check"></div><span>8x free professional headshots</span></li>
                    <li><div class="check"></div><span>8x free dating app photos</span></li>
                    <li><div class="check"></div><span>8x free outfit ideas</span></li>
                    <li><div class="check"></div><span>8x free social media posts</span></li>

                        <li class="strong"><span>All Pro features, plus:</span></li>

						<li><div class="check"></div><span>Use the magic photo editor</span></li>
						<li><div class="check"></div><span>Try on clothes</span></li>
						<li><div class="check"></div><span>Make videos from photos</span></li>
						<li><div class="check"></div><span>Access to the community chat</span></li>
						<li><div class="check"></div><span>Early access to new features</span></li>
					</ul>
                </div>
                <div class="pricing-plan shaded_border yearly" id="business">
                    <div class="pricing-badge-container"></div>
                    <h2>Business Plan</h2>
                    <p class="description">
                    </p>
                    <p class="price"><span class="number">$142</span><span>6+ months free<br/>billed yearly $1699<br/><strong>per month</strong></span></p>

                                    <a tabindex="-1" href="javascript:" onclick="$('html').animate({scrollTop:0});$('.input_confirm_email').focus()">
                            <button class="subscribe">Subscribe ‚Üí</button>
                        </a>
                                <p class="action-switch-to-monthly-billing">
                        View monthly billing ‚Üó
                    </p>

                    <ul class="features">
                        <li class="strong"><div class="check"></div><span>Take 25,000 AI Photos (credits)</span></li>
                        <li class="strong"><div class="check"></div><span>Create 100 AI Models per month</span></li>
                        <li class="strong"><div class="check"></div><span style="padding:3px;border-radius:12px;background: #2bde73;color: #000;">Flux&trade;: new photorealistic model</span></i>

                                <li class="strong"><span>For each model you get:</span></li>

                    <li><div class="check"></div><span>8x free profile pics</span></li>
                    <li><div class="check"></div><span>8x free professional headshots</span></li>
                    <li><div class="check"></div><span>8x free dating app photos</span></li>
                    <li><div class="check"></div><span>8x free outfit ideas</span></li>
                    <li><div class="check"></div><span>8x free social media posts</span></li>

                        <li class="strong"><span><span>All Premium features, plus:</span></li>
                        <li><div class="check"></div><span>Unlimited photo storage</span></li>
                        <li><div class="check"></div><span>Priority: faster response times</span></li>
                    </ul>
                </div>


            </div>
        </div>
    </div>

</section>


<!--Recap section with paragraph on left and picture in the right-->
<section>
    <style>
		.footer-cta-box {
			background:#fff;
			color:#000;
			border-radius:12px;
			width:100%;
			max-width:calc(1200px - 21px);
			margin:14px auto;
			margin-top:56px;
			margin-bottom:28px;
			position:relative;
			overflow:hidden;
			min-height:500px;
		}
		.footer-cta-box a {
			color:#000;
		}
		.footer-cta-box img {
			background:rgba(0,0,0,0.1);
			position:absolute;
			top:0;
			right:0;
			width:33.333%;
			height:100%;
			object-fit:cover;
			object-position: center;
/*			object-position: top;*/
		}
		.footer-cta-box h4 {
			font-size:42px;
			line-height:1;
			margin:0;
			margin-bottom:14px;
		}
		.footer-cta-box p {
			font-size:18px;
			line-height:1.5;
			margin:0;
			margin-bottom:14px;
		}
		.footer-cta-box .button:hover {
			border:1px solid #f47353;
			color:#f47353;
			background:none;
		}
		.footer-cta-box-left {
			padding:42px;
			width:66.6666%;
			transform: translateY(-50%);
			top: 50%;
			position: absolute;
		}
		@media (max-width:1200px) {
			.footer-cta-box {
				border-radius: 0;
			}
		}
		@media (max-width:600px) {
			.footer-cta-box-left {
				width:auto;
				position:relative;
				transform:none;
				top:auto;
			}
			.footer-cta-box img {
				position:relative;
				width:100%;
				height:90vw;
				object-fit:cover;
				display:block;
			}
		}
	</style>

    <div class="footer-cta-box">
        <a href="javascript:" onclick="window.scrollTo(0,0);$('.input_confirm_email').focus()"><img loading="lazy" width="392" height="500" src="image1.jpg" width="300"></a>
        <div class="footer-cta-box-left">
			<h4>
                Start taking AI photos now
            </h4>

        <p>
            Generate photorealistic images of people with AI. Take stunning photos of people with the first AI Photographer! Generate photo and video content for your social media with AI. Save time and money and do an AI photo shoot from your laptop or phone instead of hiring an expensive photographer<br/>

            <div class="benefit">
			‚úèÔ∏è <a href="#selfies">Upload selfies</a> and create your own <a href="#model">Flux&trade; AI model</a>
            </div>
			</br>
            <div class="benefit">
                üì∏ <a href="#prompt">Take 100% AI photos</a> in any pose, place or action<br/>
            </div>
			</br>
            <div class="benefit">
                üõçÔ∏è <a href="#tryon">Try on clothes on your model</a> for your Shopify store<br/>
            </div>
			</br>
            <div class="benefit">
                üéûÔ∏è <a href="#video">Create 100% AI videos</a> from any AI photo you take<br/>
            </div>
			</br>
            <div class="benefit">
                ‚ù§Ô∏è <a href="#packs">Run photo packs</a> like AI Yearbook and Old Money
            </div>

        </p>
		</br>
            <!--This button is go to top-->
			<a href="javascript:" onclick="window.scrollTo(0,0);$('.input_confirm_email').focus()">
				<span class="button">
                    Create your AI model +	</span>
			</a>
		</div>
	</div>
	</br>
	</br>
	</br>
</section>


<!--Section with links to other organizations-->
<section style="background-color: #f4f4f4; padding: 40px 20px; text-align: center;">
    <h2 style="margin-bottom: 20px; color: #1c1c1c;">
		Background
	</h2>
    <div style="display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 20px;">
        <a href="https://www.unipd.it" target="_blank" style="display: inline-block;">
            <img src="padova.png" alt="Partner 1 Logo" style="width: 200px; height: auto;">
        </a>
        <a href="https://www.unive.it" target="_blank" style="display: inline-block;">
            <img src="cafoscari.png" alt="Partner 2 Logo" style="width: 185px; height: auto;">
        </a>
        <a href="https://nus.edu.sg" target="_blank" style="display: inline-block;">
            <img src="nus.png" alt="Partner 3 Logo" style="width: 200px; height: auto;">
        </a>
        <a href="https://www.cornell.edu" target="_blank" style="display: inline-block;">
            <img src="cornell.png" alt="Partner 4 Logo" style="width: 120px; height: auto;">
        </a>
    </div>
</section>



<footer>
	<div class="footer-container">
		<div class="footer-column">
			<h3>About Us</h3>
			<ul>
				<li><a href="#">Company Info</a></li>
				<li><a href="#">Careers</a></li>
				<li><a href="#">Press</a></li>
				<li><a href="#">Blog</a></li>
			</ul>
		</div>
		<div class="footer-column">
			<h3>Support</h3>
			<ul>
				<li><a href="#">Help Center</a></li>
				<li><a href="#">Contact Us</a></li>
				<li><a href="#">FAQ</a></li>
			</ul>
		</div>
		<div class="footer-column">
			<h3>Services</h3>
			<ul>
				<li><a href="#">Web Design</a></li>
				<li><a href="#">App Development</a></li>
				<li><a href="#">SEO Optimization</a></li>
				<li><a href="#">Marketing</a></li>
			</ul>
		</div>
		<div class="footer-column">
			<h3>Follow Us</h3>
			<div class="social-icons">
				<a href="https://www.facebook.com" target="_blank"><img src="facebook-f.svg" alt="Facebook"></a>
				<a href="https://www.x.com" target="_blank"><img src="x-twitter.svg" alt="X"></a>
				<a href="https://www.instagram.com" target="_blank"><img src="instagram.svg" alt="Instagram"></a>
				<a href="https://www.linkedin.com" target="_blank"><img src="linkedin-in.svg" alt="LinkedIn"></a>
			</div>
		</div>
	</div>

	<div class="footer-bottom">
		<p>&copy; 2024 Your Company Name. All rights reserved.</p>
		<p><a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
	</div>

	<div style="height: 30px;"></div>

	<div class="logo">
		<a tabindex="-1" href="/">
			<h1 style="font-weight:300">
				<style>
					@-webkit-keyframes rotating /* Safari and Chrome */ {
						from {
							-webkit-transform: rotate(0deg);
							-o-transform: rotate(0deg);
							transform: rotate(0deg);
						}
						to {
							-webkit-transform: rotate(360deg);
							-o-transform: rotate(360deg);
							transform: rotate(360deg);
						}
					}
					@keyframes rotating {
						from {
							-ms-transform: rotate(0deg);
							-moz-transform: rotate(0deg);
							-webkit-transform: rotate(0deg);
							-o-transform: rotate(0deg);
							transform: rotate(0deg);
						}
						to {
							-ms-transform: rotate(360deg);
							-moz-transform: rotate(360deg);
							-webkit-transform: rotate(360deg);
							-o-transform: rotate(360deg);
							transform: rotate(360deg);
						}
					}
					html.training_mode .div_generate_button_container {
						display:none;
					}
					html.training .logo-box,
					html.taking-photos .logo-box {
						-webkit-animation: rotating 5s linear infinite;
						-moz-animation: rotating 5s linear infinite;
						-ms-animation: rotating 5s linear infinite;
						-o-animation: rotating 5s linear infinite;
						animation: rotating 5s linear infinite;
					}
					.logo-box {
						width:30px;
						height:30px;
						margin-right:7px;
						margin-top:-4px;
						vertical-align:middle;
						background: -webkit-linear-gradient(45deg, #680aca, #ff897e);
						background: linear-gradient(60deg,#f79533,#f37055,#ef4e7b,#a166ab,#5073b8,#1098ad,#07b39b,#6fba82);
						-webkit-animation: animatedgradient 6s ease infinite alternate;
						animation: animatedgradient 6s ease infinite alternate;
						background-size: 300% 300%;
						mask-image:url('logo.svg');
						mask-repeat: no-repeat;
						mask-size: contain;
						-webkit-mask-image:url('logo.svg');
						-webkit-mask-repeat: no-repeat;
						-webkit-mask-size: contain;
						display:inline-block;
					}
					html.guest .logo-box {
						-webkit-animation: rotating 5s linear infinite;
						-moz-animation: rotating 5s linear infinite;
						-ms-animation: rotating 5s linear infinite;
						-o-animation: rotating 5s linear infinite;
						animation: rotating 5s linear infinite;
					}
				</style>


				<div class="logo-box"></div><span style="font-weight:bold">Photo</span>&nbsp;AI<span class="trademark">TM</span>
			</h1>
		</a>
	</div>

</footer>


</body>
</html>
